
Experimental details:
    Dataset     : mnist
    Model     : cnn
    detailed Model     : vgg
    Optimizer : sgd
    Learning  : 0.01
    Global Rounds   : 80

    Federated parameters:
    Non-IID with common data
    balanced
    Fraction of users  : 0.2
    Local Batch size   : 10
    Local Epochs       : 5

    Attack ratio : 0.2
     Model attack is done!
attack user num is  10
 t is  8
attack_user is [40 41 42 43 44 45 46 47 48 49]

 | Global Training Round : 1 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0
 benign empirical indicaor res is  0.0
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  2
num1 of attacker is  0
current aggregation staleness i is  3
num1 of attacker is  0
current aggregation staleness i is  4
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 1 global rounds:
Train Accuracy: 24.25% 

Test Accuracy: 28.91% 


 | Global Training Round : 2 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.015164920128881931
 benign empirical indicaor res is  0.015164920128881931
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 2 global rounds:
Train Accuracy: 72.15% 

Test Accuracy: 71.80% 


 | Global Training Round : 3 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.015201174654066563
 benign empirical indicaor res is  0.015201174654066563
current aggregation staleness i is  1
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 3 global rounds:
Train Accuracy: 82.50% 

Test Accuracy: 81.97% 


 | Global Training Round : 4 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.00955564621835947
 benign empirical indicaor res is  0.00955564621835947
current aggregation staleness i is  2
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 4 global rounds:
Train Accuracy: 86.41% 

Test Accuracy: 86.13% 


 | Global Training Round : 5 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.006413273047655821
 benign empirical indicaor res is  0.006413273047655821
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  3
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 5 global rounds:
Train Accuracy: 90.00% 

Test Accuracy: 90.01% 


 | Global Training Round : 6 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0025904199574142694
 benign empirical indicaor res is  0.0025904199574142694
current aggregation staleness i is  4
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 6 global rounds:
Train Accuracy: 93.14% 

Test Accuracy: 93.02% 


 | Global Training Round : 7 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.010435236617922783
 benign empirical indicaor res is  0.010435236617922783
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  2
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 7 global rounds:
Train Accuracy: 92.22% 

Test Accuracy: 92.49% 


 | Global Training Round : 8 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.007603961043059826
 benign empirical indicaor res is  0.007603961043059826
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 8 global rounds:
Train Accuracy: 94.57% 

Test Accuracy: 94.51% 


 | Global Training Round : 9 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.002189911436289549
 benign empirical indicaor res is  0.002189911436289549
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  3
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 9 global rounds:
Train Accuracy: 95.19% 

Test Accuracy: 95.35% 


 | Global Training Round : 10 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0034504723735153675
 benign empirical indicaor res is  0.0034504723735153675
current aggregation staleness i is  2
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 10 global rounds:
Train Accuracy: 95.90% 

Test Accuracy: 95.45% 


 | Global Training Round : 11 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0024970266968011856
 benign empirical indicaor res is  0.0024970266968011856
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  4
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 11 global rounds:
Train Accuracy: 95.36% 

Test Accuracy: 95.61% 


 | Global Training Round : 12 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.004973393864929676
 benign empirical indicaor res is  0.004973393864929676
num2 of attacker is  0
the length of epoch_weights is  3
 
Avg Training Stats after 12 global rounds:
Train Accuracy: 95.98% 

Test Accuracy: 96.10% 


 | Global Training Round : 13 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0014366601826623082
 benign empirical indicaor res is  0.0014366601826623082
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  2
num1 of attacker is  0
current aggregation staleness i is  3
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 13 global rounds:
Train Accuracy: 96.49% 

Test Accuracy: 96.31% 


 | Global Training Round : 14 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.004037590231746435
 benign empirical indicaor res is  0.004037590231746435
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 14 global rounds:
Train Accuracy: 96.69% 

Test Accuracy: 96.44% 


 | Global Training Round : 15 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0037322265561670065
 benign empirical indicaor res is  0.0037322265561670065
current aggregation staleness i is  1
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 15 global rounds:
Train Accuracy: 96.40% 

Test Accuracy: 96.32% 


 | Global Training Round : 16 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  9.20535676414147e-05
 benign empirical indicaor res is  9.20535676414147e-05
current aggregation staleness i is  2
num1 of attacker is  0
current aggregation staleness i is  4
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 16 global rounds:
Train Accuracy: 96.73% 

Test Accuracy: 96.54% 


 | Global Training Round : 17 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0013451834674924612
 benign empirical indicaor res is  0.0013451834674924612
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  3
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 17 global rounds:
Train Accuracy: 96.75% 

Test Accuracy: 96.66% 


 | Global Training Round : 18 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.001567744999192655
 benign empirical indicaor res is  0.001567744999192655
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 18 global rounds:
Train Accuracy: 97.08% 

Test Accuracy: 96.87% 


 | Global Training Round : 19 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0015135039575397968
 benign empirical indicaor res is  0.0015135039575397968
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  2
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 19 global rounds:
Train Accuracy: 96.83% 

Test Accuracy: 96.88% 


 | Global Training Round : 20 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0016321847215294838
 benign empirical indicaor res is  0.0016321847215294838
num2 of attacker is  0
the length of epoch_weights is  3
 
Avg Training Stats after 20 global rounds:
Train Accuracy: 97.00% 

Test Accuracy: 96.89% 


 | Global Training Round : 21 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0007813064730726182
 benign empirical indicaor res is  0.0007813064730726182
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  3
num1 of attacker is  0
current aggregation staleness i is  4
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 21 global rounds:
Train Accuracy: 97.11% 

Test Accuracy: 96.91% 


 | Global Training Round : 22 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0012179289478808641
 benign empirical indicaor res is  0.0012179289478808641
current aggregation staleness i is  2
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 22 global rounds:
Train Accuracy: 97.25% 

Test Accuracy: 96.93% 


 | Global Training Round : 23 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0012845167657360435
 benign empirical indicaor res is  0.0012845167657360435
current aggregation staleness i is  1
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 23 global rounds:
Train Accuracy: 97.14% 

Test Accuracy: 96.98% 


 | Global Training Round : 24 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0014160199789330363
 benign empirical indicaor res is  0.0014160199789330363
num2 of attacker is  0
the length of epoch_weights is  3
 
Avg Training Stats after 24 global rounds:
Train Accuracy: 97.18% 

Test Accuracy: 97.06% 


 | Global Training Round : 25 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0008642585016787052
 benign empirical indicaor res is  0.0008642585016787052
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  2
num1 of attacker is  0
current aggregation staleness i is  3
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 25 global rounds:
Train Accuracy: 97.23% 

Test Accuracy: 96.98% 


 | Global Training Round : 26 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.000771360588259995
 benign empirical indicaor res is  0.000771360588259995
current aggregation staleness i is  4
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 26 global rounds:
Train Accuracy: 97.20% 

Test Accuracy: 97.00% 


 | Global Training Round : 27 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0015550870448350906
 benign empirical indicaor res is  0.0015550870448350906
current aggregation staleness i is  1
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 27 global rounds:
Train Accuracy: 97.08% 

Test Accuracy: 97.04% 


 | Global Training Round : 28 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0010220477124676108
 benign empirical indicaor res is  0.0010220477124676108
current aggregation staleness i is  2
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 28 global rounds:
Train Accuracy: 97.27% 

Test Accuracy: 97.14% 


 | Global Training Round : 29 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0007374308188445866
 benign empirical indicaor res is  0.0007374308188445866
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  3
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 29 global rounds:
Train Accuracy: 97.25% 

Test Accuracy: 97.10% 


 | Global Training Round : 30 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0010285211028531194
 benign empirical indicaor res is  0.0010285211028531194
num2 of attacker is  0
the length of epoch_weights is  3
 
Avg Training Stats after 30 global rounds:
Train Accuracy: 97.34% 

Test Accuracy: 97.26% 


 | Global Training Round : 31 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0007829019450582564
 benign empirical indicaor res is  0.0007829019450582564
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  2
num1 of attacker is  0
current aggregation staleness i is  4
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 31 global rounds:
Train Accuracy: 97.28% 

Test Accuracy: 97.23% 


 | Global Training Round : 32 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0006113925483077765
 benign empirical indicaor res is  0.0006113925483077765
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 32 global rounds:
Train Accuracy: 97.31% 

Test Accuracy: 97.28% 


 | Global Training Round : 33 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0004930907743982971
 benign empirical indicaor res is  0.0004930907743982971
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  3
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 33 global rounds:
Train Accuracy: 97.33% 

Test Accuracy: 97.28% 


 | Global Training Round : 34 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0006135049043223262
 benign empirical indicaor res is  0.0006135049043223262
current aggregation staleness i is  2
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 34 global rounds:
Train Accuracy: 97.33% 

Test Accuracy: 97.27% 


 | Global Training Round : 35 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0005830699810758233
 benign empirical indicaor res is  0.0005830699810758233
current aggregation staleness i is  1
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 35 global rounds:
Train Accuracy: 97.33% 

Test Accuracy: 97.30% 


 | Global Training Round : 36 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0005374944303184748
 benign empirical indicaor res is  0.0005374944303184748
current aggregation staleness i is  4
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  3
 
Avg Training Stats after 36 global rounds:
Train Accuracy: 97.35% 

Test Accuracy: 97.31% 


 | Global Training Round : 37 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.000491762300953269
 benign empirical indicaor res is  0.000491762300953269
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  2
num1 of attacker is  0
current aggregation staleness i is  3
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 37 global rounds:
Train Accuracy: 97.40% 

Test Accuracy: 97.32% 


 | Global Training Round : 38 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0005098280380479991
 benign empirical indicaor res is  0.0005098280380479991
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 38 global rounds:
Train Accuracy: 97.41% 

Test Accuracy: 97.34% 


 | Global Training Round : 39 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0005977003602311015
 benign empirical indicaor res is  0.0005977003602311015
current aggregation staleness i is  1
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 39 global rounds:
Train Accuracy: 97.39% 

Test Accuracy: 97.33% 


 | Global Training Round : 40 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0004986156127415597
 benign empirical indicaor res is  0.0004986156127415597
current aggregation staleness i is  2
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  3
 
Avg Training Stats after 40 global rounds:
Train Accuracy: 97.43% 

Test Accuracy: 97.35% 


 | Global Training Round : 41 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
poisoned accuracy threshold is  0.8235000001570008
distance ratio is <class 'float'>
len of model dicts is  10
compute distance is  tensor(18.9402, device='cuda:3')
compute distance is  tensor(32.1009, device='cuda:3')
compute distance is  tensor(47.0506, device='cuda:3')
compute distance is  tensor(31.4888, device='cuda:3')
compute distance is  tensor(33.6768, device='cuda:3')
compute distance is  tensor(29.3254, device='cuda:3')
compute distance is  tensor(54.3280, device='cuda:3')
compute distance is  tensor(33.8136, device='cuda:3')
compute distance is  tensor(81.9234, device='cuda:3')
compute distance is  tensor(45.2165, device='cuda:3')
calculated distance threshold is  tensor(81.2936, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.4316666668230081
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2793500001563391
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.40368333348967456
====================
====================
iteration is  1
round is  0
accuracy is  0.392750000156341
====================
====================
iteration is  1
round is  1
accuracy is  0.34991666682300715
====================
________________________________
test distance is  tensor(4283.3452, device='cuda:3')
test acc is  0.2793500001563391
test entropy is  0.2865497936476777
________________________________
diff is  tensor(43.2482, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4355, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.1307, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4784, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.5094, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0567, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3278, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1594, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4202.0518, device='cuda:3')
sum is tensor(0.1594, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5948, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0733, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1300, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4578, device='cuda:3', dtype=torch.float64)
sum is tensor(66.7060, device='cuda:3', dtype=torch.float64)
sum is tensor(640.8367, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.3461, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0223, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.5094, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.2482, device='cuda:3')
discard
cal diff is tensor(0.4355, device='cuda:3')
discard
cal diff is tensor(574.1307, device='cuda:3')
discard
cal diff is tensor(0.4784, device='cuda:3')
discard
cal diff is tensor(3642.5093, device='cuda:3')
discard
cal diff is tensor(2.0567, device='cuda:3')
discard
cal diff is tensor(20.3278, device='cuda:3')
discard
cal diff is tensor(0.1594, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9727166668229856
test entropy is  0.10494852257864688
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.10494852257864688
avg test loss is  0.0864207578462058
avg accuracy is  0.9727166668229856
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2848863802008283
avg test loss is  5.0595316569179865
avg accuracy is  0.2990666668230062
compute_distance is  tensor(107.1751, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(107.1751, device='cuda:3')
test acc is  0.2990666668230062
test entropy is  0.2848863802008283
________________________________
diff is  tensor(0.7616, device='cuda:3')
diff is  tensor(0.0065, device='cuda:3')
diff is  tensor(14.7981, device='cuda:3')
diff is  tensor(0.0162, device='cuda:3')
diff is  tensor(91.1074, device='cuda:3')
diff is  tensor(0.0367, device='cuda:3')
diff is  tensor(0.4382, device='cuda:3')
diff is  tensor(0.0032, device='cuda:3')
threshold is  tensor(25.8815, device='cuda:3')
sum is tensor(0.0032, device='cuda:3')
sum is tensor(0.0096, device='cuda:3')
sum is tensor(0.0258, device='cuda:3')
sum is tensor(0.0625, device='cuda:3')
sum is tensor(0.5007, device='cuda:3')
sum is tensor(1.2623, device='cuda:3')
sum is tensor(16.0604, device='cuda:3')
sum is tensor(107.1678, device='cuda:3')
ratio is tensor(0.8922, device='cuda:3')
threshold is tensor(91.1074, device='cuda:3')
cal diff is tensor(0.7616, device='cuda:3')
discard
cal diff is tensor(0.0065, device='cuda:3')
discard
cal diff is tensor(14.7981, device='cuda:3')
discard
cal diff is tensor(0.0162, device='cuda:3')
discard
cal diff is tensor(91.1074, device='cuda:3')
clipping
cal diff is tensor(0.0367, device='cuda:3')
discard
cal diff is tensor(0.4382, device='cuda:3')
discard
cal diff is tensor(0.0032, device='cuda:3')
discard
________________________________
test distance is  tensor(81.2954, device='cuda:3')
test acc is  0.6218666668230026
test entropy is  0.418073984891621
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(81.2865, device='cuda:3')
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0018, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.9294, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(81.2865, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(75.5535, device='cuda:3')
test acc is  0.6947833334896645
test entropy is  0.40391626474318476
________________________________
new distance ratio is 0.99
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  3
num1 of attacker is  0
current aggregation staleness i is  4
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 41 global rounds:
Train Accuracy: 97.14% 

Test Accuracy: 97.07% 


 | Global Training Round : 42 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.001659309957176447
attack res is False
len of model dicts is  10
compute distance is  tensor(20.2271, device='cuda:3')
compute distance is  tensor(37.5944, device='cuda:3')
compute distance is  tensor(52.4697, device='cuda:3')
compute distance is  tensor(21.1180, device='cuda:3')
compute distance is  tensor(37.6889, device='cuda:3')
compute distance is  tensor(31.8605, device='cuda:3')
compute distance is  tensor(52.1492, device='cuda:3')
compute distance is  tensor(55.3393, device='cuda:3')
compute distance is  tensor(78.3415, device='cuda:3')
compute distance is  tensor(37.8655, device='cuda:3')
calculated distance threshold is  tensor(72.5300, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.25533333348967174
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.42255000015634137
====================
====================
iteration is  0
round is  2
accuracy is  0.35851666682300715
====================
====================
iteration is  1
round is  0
accuracy is  0.32028333348967325
====================
====================
iteration is  1
round is  1
accuracy is  0.2167166668230037
====================
succ_min + 1
________________________________
test distance is  tensor(4281.8457, device='cuda:3')
test acc is  0.2167166668230037
test entropy is  0.23712455265239865
________________________________
diff is  tensor(44.7948, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2929, device='cuda:3', dtype=torch.float64)
diff is  tensor(570.9380, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5041, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.7832, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0289, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3142, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1901, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4209.3154, device='cuda:3')
sum is tensor(0.1901, device='cuda:3', dtype=torch.float64)
sum is tensor(0.4831, device='cuda:3', dtype=torch.float64)
sum is tensor(0.9871, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0160, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3302, device='cuda:3', dtype=torch.float64)
sum is tensor(68.1250, device='cuda:3', dtype=torch.float64)
sum is tensor(639.0630, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.8462, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0199, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.7832, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.7948, device='cuda:3')
discard
cal diff is tensor(0.2929, device='cuda:3')
discard
cal diff is tensor(570.9380, device='cuda:3')
discard
cal diff is tensor(0.5041, device='cuda:3')
discard
cal diff is tensor(3642.7832, device='cuda:3')
clipping
cal diff is tensor(2.0289, device='cuda:3')
discard
cal diff is tensor(20.3142, device='cuda:3')
discard
cal diff is tensor(0.1901, device='cuda:3')
discard
________________________________
test distance is  tensor(72.5410, device='cuda:3')
test acc is  0.9686166668229858
test entropy is  0.11711956285186477
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(72.5308, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0109, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(72.5410, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(72.5308, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(72.5308, device='cuda:3')
discard
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9685000001563191
test entropy is  0.11694573192422324
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.11694573192422324
avg test loss is  0.09742728613469917
avg accuracy is  0.9685000001563191
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.24882808005981355
avg test loss is  6.906041552517205
avg accuracy is  0.21511666682300368
compute_distance is  tensor(108.2304, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(108.2304, device='cuda:3')
test acc is  0.21511666682300368
test entropy is  0.24882808005981355
________________________________
diff is  tensor(0.7921, device='cuda:3')
diff is  tensor(0.0068, device='cuda:3')
diff is  tensor(16.1050, device='cuda:3')
diff is  tensor(0.0174, device='cuda:3')
diff is  tensor(90.8071, device='cuda:3')
diff is  tensor(0.0372, device='cuda:3')
diff is  tensor(0.4519, device='cuda:3')
diff is  tensor(0.0032, device='cuda:3')
threshold is  tensor(35.7004, device='cuda:3')
sum is tensor(0.0032, device='cuda:3')
sum is tensor(0.0100, device='cuda:3')
sum is tensor(0.0274, device='cuda:3')
sum is tensor(0.0646, device='cuda:3')
sum is tensor(0.5165, device='cuda:3')
sum is tensor(1.3087, device='cuda:3')
sum is tensor(17.4137, device='cuda:3')
sum is tensor(108.2208, device='cuda:3')
ratio is tensor(0.7986, device='cuda:3')
threshold is tensor(90.8071, device='cuda:3')
cal diff is tensor(0.7921, device='cuda:3')
discard
cal diff is tensor(0.0068, device='cuda:3')
discard
cal diff is tensor(16.1050, device='cuda:3')
discard
cal diff is tensor(0.0174, device='cuda:3')
discard
cal diff is tensor(90.8071, device='cuda:3')
clipping
cal diff is tensor(0.0372, device='cuda:3')
discard
cal diff is tensor(0.4519, device='cuda:3')
discard
cal diff is tensor(0.0032, device='cuda:3')
discard
________________________________
test distance is  tensor(72.5296, device='cuda:3')
test acc is  0.6627333334896665
test entropy is  0.413916422995423
________________________________
new distance ratio is 0.8999999999999999
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 42 global rounds:
Train Accuracy: 97.03% 

Test Accuracy: 96.95% 


 | Global Training Round : 43 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0022632209584116936
attack res is False
len of model dicts is  10
compute distance is  tensor(22.4421, device='cuda:3')
compute distance is  tensor(28.2191, device='cuda:3')
compute distance is  tensor(56.0000, device='cuda:3')
compute distance is  tensor(34.8084, device='cuda:3')
compute distance is  tensor(32.4105, device='cuda:3')
compute distance is  tensor(40.1469, device='cuda:3')
compute distance is  tensor(74.7197, device='cuda:3')
compute distance is  tensor(46.2380, device='cuda:3')
compute distance is  tensor(67.6152, device='cuda:3')
compute distance is  tensor(52.5156, device='cuda:3')
calculated distance threshold is  tensor(65.2147, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.39700000015634107
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.30921666682300636
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.3171000001563398
====================
====================
iteration is  1
round is  0
accuracy is  0.3534500001563404
====================
====================
iteration is  1
round is  1
accuracy is  0.2041166668230031
====================
succ_min + 1
________________________________
test distance is  tensor(4281.7632, device='cuda:3')
test acc is  0.2041166668230031
test entropy is  0.11085431165556346
________________________________
diff is  tensor(44.1419, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4088, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.1321, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4969, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.0505, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0374, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2842, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2109, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4216.5483, device='cuda:3')
sum is tensor(0.2109, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6198, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1167, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1541, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4383, device='cuda:3', dtype=torch.float64)
sum is tensor(67.5802, device='cuda:3', dtype=torch.float64)
sum is tensor(640.7123, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.7628, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0179, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.0505, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.1419, device='cuda:3')
discard
cal diff is tensor(0.4088, device='cuda:3')
discard
cal diff is tensor(573.1321, device='cuda:3')
discard
cal diff is tensor(0.4969, device='cuda:3')
discard
cal diff is tensor(3641.0505, device='cuda:3')
discard
cal diff is tensor(2.0374, device='cuda:3')
discard
cal diff is tensor(20.2842, device='cuda:3')
discard
cal diff is tensor(0.2109, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9677166668229857
test entropy is  0.12222138435434876
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.12222138435434876
avg test loss is  0.10117103566012497
avg accuracy is  0.9677166668229857
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.09651363707745253
avg test loss is  8.924023459460944
avg accuracy is  0.1964833334896695
compute_distance is  tensor(102.3749, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(102.3749, device='cuda:3')
test acc is  0.1964833334896695
test entropy is  0.09651363707745253
________________________________
diff is  tensor(0.7087, device='cuda:3')
diff is  tensor(0.0063, device='cuda:3')
diff is  tensor(14.3243, device='cuda:3')
diff is  tensor(0.0160, device='cuda:3')
diff is  tensor(86.8252, device='cuda:3')
diff is  tensor(0.0347, device='cuda:3')
diff is  tensor(0.4422, device='cuda:3')
diff is  tensor(0.0032, device='cuda:3')
threshold is  tensor(37.1602, device='cuda:3')
sum is tensor(0.0032, device='cuda:3')
sum is tensor(0.0095, device='cuda:3')
sum is tensor(0.0255, device='cuda:3')
sum is tensor(0.0602, device='cuda:3')
sum is tensor(0.5024, device='cuda:3')
sum is tensor(1.2111, device='cuda:3')
sum is tensor(15.5354, device='cuda:3')
sum is tensor(102.3606, device='cuda:3')
ratio is tensor(0.7509, device='cuda:3')
threshold is tensor(86.8252, device='cuda:3')
cal diff is tensor(0.7087, device='cuda:3')
discard
cal diff is tensor(0.0063, device='cuda:3')
discard
cal diff is tensor(14.3243, device='cuda:3')
discard
cal diff is tensor(0.0160, device='cuda:3')
discard
cal diff is tensor(86.8252, device='cuda:3')
clipping
cal diff is tensor(0.0347, device='cuda:3')
discard
cal diff is tensor(0.4422, device='cuda:3')
discard
cal diff is tensor(0.0032, device='cuda:3')
discard
________________________________
test distance is  tensor(65.2119, device='cuda:3')
test acc is  0.5644666668230074
test entropy is  0.35888735147745116
________________________________
new distance ratio is 0.818181818181818
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  2
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 43 global rounds:
Train Accuracy: 96.45% 

Test Accuracy: 96.37% 


 | Global Training Round : 44 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0033178103622049093
attack res is False
len of model dicts is  10
compute distance is  tensor(18.8557, device='cuda:3')
compute distance is  tensor(32.7029, device='cuda:3')
compute distance is  tensor(32.6773, device='cuda:3')
compute distance is  tensor(26.8113, device='cuda:3')
compute distance is  tensor(29.9408, device='cuda:3')
compute distance is  tensor(37.4729, device='cuda:3')
compute distance is  tensor(53.6902, device='cuda:3')
compute distance is  tensor(38.2406, device='cuda:3')
compute distance is  tensor(47.1080, device='cuda:3')
compute distance is  tensor(72.5042, device='cuda:3')
calculated distance threshold is  tensor(58.7596, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.15988333348966724
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.43025000015634146
====================
====================
iteration is  0
round is  2
accuracy is  0.2668333334896721
====================
====================
iteration is  1
round is  0
accuracy is  0.34508333348967357
====================
====================
iteration is  1
round is  1
accuracy is  0.2593000001563386
====================
________________________________
test distance is  tensor(4282.6172, device='cuda:3')
test acc is  0.15988333348966724
test entropy is  0.08414020394680025
________________________________
diff is  tensor(43.3553, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3872, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.8495, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5272, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.9505, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0349, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3360, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1768, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4223.8574, device='cuda:3')
sum is tensor(0.1768, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5640, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0911, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1261, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4620, device='cuda:3', dtype=torch.float64)
sum is tensor(66.8174, device='cuda:3', dtype=torch.float64)
sum is tensor(640.6668, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.6173, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0161, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.9505, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.3553, device='cuda:3')
discard
cal diff is tensor(0.3872, device='cuda:3')
discard
cal diff is tensor(573.8494, device='cuda:3')
discard
cal diff is tensor(0.5272, device='cuda:3')
discard
cal diff is tensor(3641.9504, device='cuda:3')
discard
cal diff is tensor(2.0349, device='cuda:3')
discard
cal diff is tensor(20.3360, device='cuda:3')
discard
cal diff is tensor(0.1768, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9623833334896525
test entropy is  0.13257483273609552
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.13257483273609552
avg test loss is  0.11612560734825968
avg accuracy is  0.9623833334896525
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.053098767859809624
avg test loss is  9.23592852021077
avg accuracy is  0.15205000015633333
compute_distance is  tensor(102.2638, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(102.2638, device='cuda:3')
test acc is  0.15205000015633333
test entropy is  0.053098767859809624
________________________________
diff is  tensor(0.6492, device='cuda:3')
diff is  tensor(0.0063, device='cuda:3')
diff is  tensor(14.4992, device='cuda:3')
diff is  tensor(0.0162, device='cuda:3')
diff is  tensor(86.6149, device='cuda:3')
diff is  tensor(0.0347, device='cuda:3')
diff is  tensor(0.4335, device='cuda:3')
diff is  tensor(0.0035, device='cuda:3')
threshold is  tensor(43.5042, device='cuda:3')
sum is tensor(0.0035, device='cuda:3')
sum is tensor(0.0098, device='cuda:3')
sum is tensor(0.0260, device='cuda:3')
sum is tensor(0.0607, device='cuda:3')
sum is tensor(0.4942, device='cuda:3')
sum is tensor(1.1434, device='cuda:3')
sum is tensor(15.6425, device='cuda:3')
sum is tensor(102.2575, device='cuda:3')
ratio is tensor(0.6783, device='cuda:3')
threshold is tensor(86.6149, device='cuda:3')
cal diff is tensor(0.6492, device='cuda:3')
discard
cal diff is tensor(0.0063, device='cuda:3')
discard
cal diff is tensor(14.4992, device='cuda:3')
discard
cal diff is tensor(0.0162, device='cuda:3')
discard
cal diff is tensor(86.6149, device='cuda:3')
clipping
cal diff is tensor(0.0347, device='cuda:3')
discard
cal diff is tensor(0.4335, device='cuda:3')
discard
cal diff is tensor(0.0035, device='cuda:3')
discard
________________________________
test distance is  tensor(58.7592, device='cuda:3')
test acc is  0.6386500001563349
test entropy is  0.34265859629998585
________________________________
new distance ratio is 0.7438016528925617
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 44 global rounds:
Train Accuracy: 96.51% 

Test Accuracy: 96.44% 


 | Global Training Round : 45 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0035422821529209614
attack res is False
len of model dicts is  10
compute distance is  tensor(28.2801, device='cuda:3')
compute distance is  tensor(38.0655, device='cuda:3')
compute distance is  tensor(69.7079, device='cuda:3')
compute distance is  tensor(45.4867, device='cuda:3')
compute distance is  tensor(31.4606, device='cuda:3')
compute distance is  tensor(51.8433, device='cuda:3')
compute distance is  tensor(75.3355, device='cuda:3')
compute distance is  tensor(40.2852, device='cuda:3')
compute distance is  tensor(52.9382, device='cuda:3')
compute distance is  tensor(66.6693, device='cuda:3')
calculated distance threshold is  tensor(60.0982, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.12248333348966527
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.3796166668230075
====================
====================
iteration is  0
round is  2
accuracy is  0.15346666682300014
====================
====================
iteration is  1
round is  0
accuracy is  0.3998000001563411
====================
====================
iteration is  1
round is  1
accuracy is  0.4046000001563411
====================
________________________________
test distance is  tensor(4284.0562, device='cuda:3')
test acc is  0.12248333348966527
test entropy is  0.079029399822198
________________________________
diff is  tensor(43.9839, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3850, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.4999, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5362, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.0559, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0340, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3441, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2166, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4223.9580, device='cuda:3')
sum is tensor(0.2166, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6016, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1378, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1718, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5160, device='cuda:3', dtype=torch.float64)
sum is tensor(67.4998, device='cuda:3', dtype=torch.float64)
sum is tensor(641.9997, device='cuda:3', dtype=torch.float64)
sum is tensor(4284.0556, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0165, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.0559, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.9839, device='cuda:3')
discard
cal diff is tensor(0.3850, device='cuda:3')
discard
cal diff is tensor(574.4999, device='cuda:3')
discard
cal diff is tensor(0.5362, device='cuda:3')
discard
cal diff is tensor(3642.0557, device='cuda:3')
discard
cal diff is tensor(2.0340, device='cuda:3')
discard
cal diff is tensor(20.3441, device='cuda:3')
discard
cal diff is tensor(0.2166, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9626333334896525
test entropy is  0.1349071138329915
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.1349071138329915
avg test loss is  0.1165066957756726
avg accuracy is  0.9626333334896525
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.058437238953737564
avg test loss is  9.265419787181212
avg accuracy is  0.10158333348966533
compute_distance is  tensor(99.8753, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(99.8753, device='cuda:3')
test acc is  0.10158333348966533
test entropy is  0.058437238953737564
________________________________
diff is  tensor(0.7740, device='cuda:3')
diff is  tensor(0.0063, device='cuda:3')
diff is  tensor(14.0734, device='cuda:3')
diff is  tensor(0.0145, device='cuda:3')
diff is  tensor(84.5623, device='cuda:3')
diff is  tensor(0.0347, device='cuda:3')
diff is  tensor(0.3976, device='cuda:3')
diff is  tensor(0.0031, device='cuda:3')
threshold is  tensor(39.7772, device='cuda:3')
sum is tensor(0.0031, device='cuda:3')
sum is tensor(0.0093, device='cuda:3')
sum is tensor(0.0239, device='cuda:3')
sum is tensor(0.0586, device='cuda:3')
sum is tensor(0.4562, device='cuda:3')
sum is tensor(1.2302, device='cuda:3')
sum is tensor(15.3036, device='cuda:3')
sum is tensor(99.8658, device='cuda:3')
ratio is tensor(0.7106, device='cuda:3')
threshold is tensor(84.5623, device='cuda:3')
cal diff is tensor(0.7740, device='cuda:3')
discard
cal diff is tensor(0.0063, device='cuda:3')
discard
cal diff is tensor(14.0734, device='cuda:3')
discard
cal diff is tensor(0.0145, device='cuda:3')
discard
cal diff is tensor(84.5623, device='cuda:3')
clipping
cal diff is tensor(0.0347, device='cuda:3')
discard
cal diff is tensor(0.3976, device='cuda:3')
discard
cal diff is tensor(0.0031, device='cuda:3')
discard
________________________________
test distance is  tensor(60.0974, device='cuda:3')
test acc is  0.6139000001563367
test entropy is  0.3425882200061131
________________________________
new distance ratio is 0.6761833208114197
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  3
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 45 global rounds:
Train Accuracy: 96.25% 

Test Accuracy: 96.22% 


 | Global Training Round : 46 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.003930048085749149
attack res is False
len of model dicts is  10
compute distance is  tensor(23.2664, device='cuda:3')
compute distance is  tensor(43.9428, device='cuda:3')
compute distance is  tensor(42.2460, device='cuda:3')
compute distance is  tensor(27.9561, device='cuda:3')
compute distance is  tensor(38.7676, device='cuda:3')
compute distance is  tensor(35.6731, device='cuda:3')
compute distance is  tensor(61.0575, device='cuda:3')
compute distance is  tensor(37.7619, device='cuda:3')
compute distance is  tensor(58.5015, device='cuda:3')
compute distance is  tensor(57.4543, device='cuda:3')
calculated distance threshold is  tensor(46.4970, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.27531666682300554
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.29163333348967263
====================
====================
iteration is  0
round is  2
accuracy is  0.5151500001563422
====================
====================
iteration is  1
round is  0
accuracy is  0.2892666668230059
====================
====================
iteration is  1
round is  1
accuracy is  0.3279666668230067
====================
________________________________
test distance is  tensor(4282.9814, device='cuda:3')
test acc is  0.27531666682300554
test entropy is  0.19897966967748681
________________________________
diff is  tensor(44.2954, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3673, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.2111, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4773, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.9841, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0465, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3914, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2078, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4236.4844, device='cuda:3')
sum is tensor(0.2078, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5751, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0524, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0989, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4902, device='cuda:3', dtype=torch.float64)
sum is tensor(67.7856, device='cuda:3', dtype=torch.float64)
sum is tensor(640.9967, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.9808, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0128, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.9841, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.2954, device='cuda:3')
discard
cal diff is tensor(0.3673, device='cuda:3')
discard
cal diff is tensor(573.2111, device='cuda:3')
discard
cal diff is tensor(0.4773, device='cuda:3')
discard
cal diff is tensor(3641.9839, device='cuda:3')
discard
cal diff is tensor(2.0465, device='cuda:3')
discard
cal diff is tensor(20.3914, device='cuda:3')
discard
cal diff is tensor(0.2078, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9597666668229861
test entropy is  0.1382771271811143
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.1382771271811143
avg test loss is  0.12282168741739079
avg accuracy is  0.9597666668229861
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2211021861986819
avg test loss is  9.68168651930559
avg accuracy is  0.2842166668230058
compute_distance is  tensor(110.1498, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(110.1498, device='cuda:3')
test acc is  0.2842166668230058
test entropy is  0.2211021861986819
________________________________
diff is  tensor(0.8217, device='cuda:3')
diff is  tensor(0.0080, device='cuda:3')
diff is  tensor(18.5160, device='cuda:3')
diff is  tensor(0.0187, device='cuda:3')
diff is  tensor(90.2931, device='cuda:3')
diff is  tensor(0.0366, device='cuda:3')
diff is  tensor(0.4359, device='cuda:3')
diff is  tensor(0.0034, device='cuda:3')
threshold is  tensor(63.6528, device='cuda:3')
sum is tensor(0.0034, device='cuda:3')
sum is tensor(0.0114, device='cuda:3')
sum is tensor(0.0300, device='cuda:3')
sum is tensor(0.0666, device='cuda:3')
sum is tensor(0.5025, device='cuda:3')
sum is tensor(1.3243, device='cuda:3')
sum is tensor(19.8402, device='cuda:3')
sum is tensor(110.1334, device='cuda:3')
ratio is tensor(0.5148, device='cuda:3')
threshold is tensor(90.2931, device='cuda:3')
cal diff is tensor(0.8217, device='cuda:3')
discard
cal diff is tensor(0.0080, device='cuda:3')
discard
cal diff is tensor(18.5160, device='cuda:3')
discard
cal diff is tensor(0.0187, device='cuda:3')
discard
cal diff is tensor(90.2931, device='cuda:3')
clipping
cal diff is tensor(0.0366, device='cuda:3')
discard
cal diff is tensor(0.4359, device='cuda:3')
discard
cal diff is tensor(0.0034, device='cuda:3')
discard
________________________________
test distance is  tensor(46.4926, device='cuda:3')
test acc is  0.7794500001563265
test entropy is  0.36919440449809215
________________________________
new distance ratio is 0.6147121098285634
current aggregation staleness i is  2
num1 of attacker is  0
current aggregation staleness i is  4
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 46 global rounds:
Train Accuracy: 96.03% 

Test Accuracy: 96.08% 


 | Global Training Round : 47 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.004164581187069416
attack res is False
len of model dicts is  10
compute distance is  tensor(28.5549, device='cuda:3')
compute distance is  tensor(44.1716, device='cuda:3')
compute distance is  tensor(38.3313, device='cuda:3')
compute distance is  tensor(42.4751, device='cuda:3')
compute distance is  tensor(37.0280, device='cuda:3')
compute distance is  tensor(59.5265, device='cuda:3')
compute distance is  tensor(58.8770, device='cuda:3')
compute distance is  tensor(35.9132, device='cuda:3')
compute distance is  tensor(49.3784, device='cuda:3')
compute distance is  tensor(53.9009, device='cuda:3')
calculated distance threshold is  tensor(45.8628, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.29648333348967276
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.20616666682300322
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.29006666682300597
====================
====================
iteration is  1
round is  0
accuracy is  0.31835000015633985
====================
====================
iteration is  1
round is  1
accuracy is  0.22271666682300398
====================
________________________________
test distance is  tensor(4283.1128, device='cuda:3')
test acc is  0.20616666682300322
test entropy is  0.13282564550892376
________________________________
diff is  tensor(43.8952, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3543, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.0347, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5404, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.7530, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0597, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3048, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1707, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4237.2500, device='cuda:3')
sum is tensor(0.1707, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5250, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0654, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1251, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4299, device='cuda:3', dtype=torch.float64)
sum is tensor(67.3251, device='cuda:3', dtype=torch.float64)
sum is tensor(641.3598, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.1128, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0126, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.7530, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.8952, device='cuda:3')
discard
cal diff is tensor(0.3543, device='cuda:3')
discard
cal diff is tensor(574.0347, device='cuda:3')
discard
cal diff is tensor(0.5404, device='cuda:3')
discard
cal diff is tensor(3641.7532, device='cuda:3')
clipping
cal diff is tensor(2.0597, device='cuda:3')
discard
cal diff is tensor(20.3048, device='cuda:3')
discard
cal diff is tensor(0.1707, device='cuda:3')
discard
________________________________
test distance is  tensor(45.8731, device='cuda:3')
test acc is  0.9581000001563195
test entropy is  0.14214385083632303
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(45.8629, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0103, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(45.8731, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(45.8629, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(45.8629, device='cuda:3')
discard
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9580000001563195
test entropy is  0.14252538602950096
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.14252538602950096
avg test loss is  0.12802647820252902
avg accuracy is  0.9580000001563195
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.11919777120338447
avg test loss is  8.550017504803916
avg accuracy is  0.20940000015633667
compute_distance is  tensor(98.4522, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(98.4522, device='cuda:3')
test acc is  0.20940000015633667
test entropy is  0.11919777120338447
________________________________
diff is  tensor(0.8504, device='cuda:3')
diff is  tensor(0.0069, device='cuda:3')
diff is  tensor(15.0575, device='cuda:3')
diff is  tensor(0.0156, device='cuda:3')
diff is  tensor(82.0594, device='cuda:3')
diff is  tensor(0.0318, device='cuda:3')
diff is  tensor(0.4109, device='cuda:3')
diff is  tensor(0.0035, device='cuda:3')
threshold is  tensor(52.5894, device='cuda:3')
sum is tensor(0.0035, device='cuda:3')
sum is tensor(0.0104, device='cuda:3')
sum is tensor(0.0261, device='cuda:3')
sum is tensor(0.0578, device='cuda:3')
sum is tensor(0.4687, device='cuda:3')
sum is tensor(1.3191, device='cuda:3')
sum is tensor(16.3767, device='cuda:3')
sum is tensor(98.4361, device='cuda:3')
ratio is tensor(0.5587, device='cuda:3')
threshold is tensor(82.0594, device='cuda:3')
cal diff is tensor(0.8504, device='cuda:3')
discard
cal diff is tensor(0.0069, device='cuda:3')
discard
cal diff is tensor(15.0575, device='cuda:3')
discard
cal diff is tensor(0.0156, device='cuda:3')
discard
cal diff is tensor(82.0594, device='cuda:3')
clipping
cal diff is tensor(0.0318, device='cuda:3')
discard
cal diff is tensor(0.4109, device='cuda:3')
discard
cal diff is tensor(0.0035, device='cuda:3')
discard
________________________________
test distance is  tensor(45.8583, device='cuda:3')
test acc is  0.7123333334896633
test entropy is  0.3197281712026738
________________________________
new distance ratio is 0.5588291907532394
current aggregation staleness i is  1
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 47 global rounds:
Train Accuracy: 95.71% 

Test Accuracy: 95.78% 


 | Global Training Round : 48 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0046071638353168964
attack res is False
len of model dicts is  10
compute distance is  tensor(26.5415, device='cuda:3')
compute distance is  tensor(39.7558, device='cuda:3')
compute distance is  tensor(49.3939, device='cuda:3')
compute distance is  tensor(29.4500, device='cuda:3')
compute distance is  tensor(33.2915, device='cuda:3')
compute distance is  tensor(47.3366, device='cuda:3')
compute distance is  tensor(47.9372, device='cuda:3')
compute distance is  tensor(46.5569, device='cuda:3')
compute distance is  tensor(53.4836, device='cuda:3')
compute distance is  tensor(66.6461, device='cuda:3')
calculated distance threshold is  tensor(46.9157, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.4627666668230084
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.24663333348967145
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.34055000015634024
====================
====================
iteration is  1
round is  0
accuracy is  0.244350000156338
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.2472500001563381
====================
________________________________
test distance is  tensor(4283.4106, device='cuda:3')
test acc is  0.244350000156338
test entropy is  0.1857633531522522
________________________________
diff is  tensor(43.5375, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3423, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.0076, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5310, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.6516, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0510, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.1035, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1861, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4236.4951, device='cuda:3')
sum is tensor(0.1861, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5284, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0594, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1104, device='cuda:3', dtype=torch.float64)
sum is tensor(23.2139, device='cuda:3', dtype=torch.float64)
sum is tensor(66.7514, device='cuda:3', dtype=torch.float64)
sum is tensor(640.7590, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.4106, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0129, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.6516, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.5375, device='cuda:3')
discard
cal diff is tensor(0.3423, device='cuda:3')
discard
cal diff is tensor(574.0076, device='cuda:3')
discard
cal diff is tensor(0.5310, device='cuda:3')
discard
cal diff is tensor(3642.6516, device='cuda:3')
discard
cal diff is tensor(2.0510, device='cuda:3')
discard
cal diff is tensor(20.1035, device='cuda:3')
discard
cal diff is tensor(0.1861, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9545166668229863
test entropy is  0.1502555530947218
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.1502555530947218
avg test loss is  0.13899309973000115
avg accuracy is  0.9545166668229863
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.16431648348138403
avg test loss is  7.5759453265143355
avg accuracy is  0.25420000015633837
compute_distance is  tensor(108.5070, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(108.5070, device='cuda:3')
test acc is  0.25420000015633837
test entropy is  0.16431648348138403
________________________________
diff is  tensor(0.7692, device='cuda:3')
diff is  tensor(0.0070, device='cuda:3')
diff is  tensor(17.2504, device='cuda:3')
diff is  tensor(0.0176, device='cuda:3')
diff is  tensor(89.9092, device='cuda:3')
diff is  tensor(0.0349, device='cuda:3')
diff is  tensor(0.5047, device='cuda:3')
diff is  tensor(0.0037, device='cuda:3')
threshold is  tensor(61.5913, device='cuda:3')
sum is tensor(0.0037, device='cuda:3')
sum is tensor(0.0107, device='cuda:3')
sum is tensor(0.0283, device='cuda:3')
sum is tensor(0.0632, device='cuda:3')
sum is tensor(0.5679, device='cuda:3')
sum is tensor(1.3371, device='cuda:3')
sum is tensor(18.5875, device='cuda:3')
sum is tensor(108.4967, device='cuda:3')
ratio is tensor(0.5217, device='cuda:3')
threshold is tensor(89.9092, device='cuda:3')
cal diff is tensor(0.7692, device='cuda:3')
discard
cal diff is tensor(0.0070, device='cuda:3')
discard
cal diff is tensor(17.2504, device='cuda:3')
discard
cal diff is tensor(0.0176, device='cuda:3')
discard
cal diff is tensor(89.9092, device='cuda:3')
clipping
cal diff is tensor(0.0349, device='cuda:3')
discard
cal diff is tensor(0.5047, device='cuda:3')
discard
cal diff is tensor(0.0037, device='cuda:3')
discard
________________________________
test distance is  tensor(46.9139, device='cuda:3')
test acc is  0.7894333334896594
test entropy is  0.33572224306780646
________________________________
new distance ratio is 0.5080265370483995
num2 of attacker is  0
the length of epoch_weights is  3
 
Avg Training Stats after 48 global rounds:
Train Accuracy: 95.86% 

Test Accuracy: 95.85% 


 | Global Training Round : 49 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.004716913681477308
attack res is False
len of model dicts is  10
compute distance is  tensor(20.7369, device='cuda:3')
compute distance is  tensor(39.4828, device='cuda:3')
compute distance is  tensor(89.8770, device='cuda:3')
compute distance is  tensor(23.0198, device='cuda:3')
compute distance is  tensor(43.7277, device='cuda:3')
compute distance is  tensor(52.4307, device='cuda:3')
compute distance is  tensor(51.8126, device='cuda:3')
compute distance is  tensor(37.2838, device='cuda:3')
compute distance is  tensor(45.8391, device='cuda:3')
compute distance is  tensor(50.3632, device='cuda:3')
calculated distance threshold is  tensor(52.6687, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.28671666682300584
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.17490000015633494
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.4315000001563413
====================
====================
iteration is  1
round is  0
accuracy is  0.4734666668230086
====================
====================
iteration is  1
round is  1
accuracy is  0.35751666682300726
====================
________________________________
test distance is  tensor(4283.1401, device='cuda:3')
test acc is  0.17490000015633494
test entropy is  0.1620889262063925
________________________________
diff is  tensor(42.6063, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4002, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.8458, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4836, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.3844, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0114, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2196, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1888, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4230.4717, device='cuda:3')
sum is tensor(0.1888, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5890, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0726, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0841, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3037, device='cuda:3', dtype=torch.float64)
sum is tensor(65.9100, device='cuda:3', dtype=torch.float64)
sum is tensor(640.7558, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.1402, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0145, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.3844, device='cuda:3', dtype=torch.float64)
cal diff is tensor(42.6063, device='cuda:3')
discard
cal diff is tensor(0.4002, device='cuda:3')
discard
cal diff is tensor(574.8458, device='cuda:3')
discard
cal diff is tensor(0.4836, device='cuda:3')
discard
cal diff is tensor(3642.3845, device='cuda:3')
clipping
cal diff is tensor(2.0114, device='cuda:3')
discard
cal diff is tensor(20.2196, device='cuda:3')
discard
cal diff is tensor(0.1888, device='cuda:3')
discard
________________________________
test distance is  tensor(52.6788, device='cuda:3')
test acc is  0.9551666668229861
test entropy is  0.15101591777652185
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(52.6686, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0101, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0135, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(52.6685, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.7241, device='cuda:3')
test acc is  0.9557000001563195
test entropy is  0.15021910794031645
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.15021910794031645
avg test loss is  0.1351127891924415
avg accuracy is  0.9557000001563195
compute_distance is  tensor(0.7241, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.17926041431613823
avg test loss is  12.05660620935436
avg accuracy is  0.17768333348966844
compute_distance is  tensor(105.4278, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(105.4278, device='cuda:3')
test acc is  0.17768333348966844
test entropy is  0.17926041431613823
________________________________
diff is  tensor(0.7667, device='cuda:3')
diff is  tensor(0.0075, device='cuda:3')
diff is  tensor(16.5260, device='cuda:3')
diff is  tensor(0.0173, device='cuda:3')
diff is  tensor(87.6478, device='cuda:3')
diff is  tensor(0.0372, device='cuda:3')
diff is  tensor(0.4040, device='cuda:3')
diff is  tensor(0.0035, device='cuda:3')
threshold is  tensor(52.7591, device='cuda:3')
sum is tensor(0.0035, device='cuda:3')
sum is tensor(0.0110, device='cuda:3')
sum is tensor(0.0283, device='cuda:3')
sum is tensor(0.0654, device='cuda:3')
sum is tensor(0.4694, device='cuda:3')
sum is tensor(1.2361, device='cuda:3')
sum is tensor(17.7622, device='cuda:3')
sum is tensor(105.4099, device='cuda:3')
ratio is tensor(0.6007, device='cuda:3')
threshold is tensor(87.6478, device='cuda:3')
cal diff is tensor(0.7667, device='cuda:3')
discard
cal diff is tensor(0.0075, device='cuda:3')
discard
cal diff is tensor(16.5260, device='cuda:3')
discard
cal diff is tensor(0.0173, device='cuda:3')
discard
cal diff is tensor(87.6478, device='cuda:3')
clipping
cal diff is tensor(0.0372, device='cuda:3')
discard
cal diff is tensor(0.4040, device='cuda:3')
discard
cal diff is tensor(0.0035, device='cuda:3')
discard
________________________________
test distance is  tensor(52.6638, device='cuda:3')
test acc is  0.6124666668230034
test entropy is  0.40251190963584477
________________________________
new distance ratio is 0.4618423064076359
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  2
num1 of attacker is  0
current aggregation staleness i is  3
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 49 global rounds:
Train Accuracy: 95.34% 

Test Accuracy: 95.41% 


 | Global Training Round : 50 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.005077733658254147
attack res is True
len of model dicts is  10
compute distance is  tensor(19.4788, device='cuda:3')
compute distance is  tensor(31.0043, device='cuda:3')
compute distance is  tensor(45.5719, device='cuda:3')
compute distance is  tensor(37.7458, device='cuda:3')
compute distance is  tensor(39.8824, device='cuda:3')
compute distance is  tensor(65.1780, device='cuda:3')
compute distance is  tensor(63.3577, device='cuda:3')
compute distance is  tensor(39.3321, device='cuda:3')
compute distance is  tensor(57.8923, device='cuda:3')
compute distance is  tensor(45.5553, device='cuda:3')
calculated distance threshold is  tensor(42.6952, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.37648333348967417
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2736500001563389
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.25998333348967184
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.27851666682300563
====================
====================
iteration is  1
round is  1
accuracy is  0.20446666682300313
====================
succ_min + 1
________________________________
test distance is  tensor(4283.1558, device='cuda:3')
test acc is  0.20446666682300313
test entropy is  0.2810266866231524
________________________________
diff is  tensor(43.0145, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3346, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.5915, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4368, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.2417, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9898, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3040, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2427, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4240.4604, device='cuda:3')
sum is tensor(0.2427, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5773, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0141, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0038, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3079, device='cuda:3', dtype=torch.float64)
sum is tensor(66.3224, device='cuda:3', dtype=torch.float64)
sum is tensor(640.9139, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.1556, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0117, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.2417, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.0145, device='cuda:3')
discard
cal diff is tensor(0.3346, device='cuda:3')
discard
cal diff is tensor(574.5915, device='cuda:3')
discard
cal diff is tensor(0.4368, device='cuda:3')
discard
cal diff is tensor(3642.2417, device='cuda:3')
discard
cal diff is tensor(1.9898, device='cuda:3')
discard
cal diff is tensor(20.3040, device='cuda:3')
discard
cal diff is tensor(0.2427, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9506833334896531
test entropy is  0.15894772746622055
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.15894772746622055
avg test loss is  0.1491290889869033
avg accuracy is  0.9506833334896531
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3288228843512057
avg test loss is  5.993704922163665
avg accuracy is  0.2100833334896701
compute_distance is  tensor(105.6277, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(105.6277, device='cuda:3')
test acc is  0.2100833334896701
test entropy is  0.3288228843512057
________________________________
diff is  tensor(0.7941, device='cuda:3')
diff is  tensor(0.0069, device='cuda:3')
diff is  tensor(16.4060, device='cuda:3')
diff is  tensor(0.0173, device='cuda:3')
diff is  tensor(87.9550, device='cuda:3')
diff is  tensor(0.0325, device='cuda:3')
diff is  tensor(0.4107, device='cuda:3')
diff is  tensor(0.0034, device='cuda:3')
threshold is  tensor(62.9324, device='cuda:3')
sum is tensor(0.0034, device='cuda:3')
sum is tensor(0.0103, device='cuda:3')
sum is tensor(0.0276, device='cuda:3')
sum is tensor(0.0600, device='cuda:3')
sum is tensor(0.4708, device='cuda:3')
sum is tensor(1.2649, device='cuda:3')
sum is tensor(17.6709, device='cuda:3')
sum is tensor(105.6259, device='cuda:3')
ratio is tensor(0.4854, device='cuda:3')
threshold is tensor(87.9550, device='cuda:3')
cal diff is tensor(0.7941, device='cuda:3')
discard
cal diff is tensor(0.0069, device='cuda:3')
discard
cal diff is tensor(16.4060, device='cuda:3')
discard
cal diff is tensor(0.0173, device='cuda:3')
discard
cal diff is tensor(87.9550, device='cuda:3')
clipping
cal diff is tensor(0.0325, device='cuda:3')
discard
cal diff is tensor(0.4107, device='cuda:3')
discard
cal diff is tensor(0.0034, device='cuda:3')
discard
________________________________
test distance is  tensor(42.6982, device='cuda:3')
test acc is  0.8589333334896563
test entropy is  0.3105757456026606
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(42.6953, device='cuda:3')
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0030, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.7962, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(42.6953, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(33.9967, device='cuda:3')
test acc is  0.9053500001563212
test entropy is  0.26882928112613114
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.26882928112613114
avg test loss is  0.25840089628214774
avg accuracy is  0.9053500001563212
compute_distance is  tensor(33.9967, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3294323516616435
avg test loss is  6.148913361624614
avg accuracy is  0.21148333348967013
compute_distance is  tensor(125.6851, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(125.6851, device='cuda:3')
test acc is  0.21148333348967013
test entropy is  0.3294323516616435
________________________________
diff is  tensor(0.8732, device='cuda:3')
diff is  tensor(0.0072, device='cuda:3')
diff is  tensor(14.9804, device='cuda:3')
diff is  tensor(0.0147, device='cuda:3')
diff is  tensor(109.4371, device='cuda:3')
diff is  tensor(0.0251, device='cuda:3')
diff is  tensor(0.3370, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(82.9899, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0098, device='cuda:3')
sum is tensor(0.0245, device='cuda:3')
sum is tensor(0.0496, device='cuda:3')
sum is tensor(0.3866, device='cuda:3')
sum is tensor(1.2598, device='cuda:3')
sum is tensor(16.2402, device='cuda:3')
sum is tensor(125.6773, device='cuda:3')
ratio is tensor(0.3901, device='cuda:3')
threshold is tensor(109.4371, device='cuda:3')
cal diff is tensor(0.8732, device='cuda:3')
discard
cal diff is tensor(0.0072, device='cuda:3')
discard
cal diff is tensor(14.9804, device='cuda:3')
discard
cal diff is tensor(0.0147, device='cuda:3')
discard
cal diff is tensor(109.4371, device='cuda:3')
clipping
cal diff is tensor(0.0251, device='cuda:3')
discard
cal diff is tensor(0.3370, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(42.6945, device='cuda:3')
test acc is  0.8828333334896553
test entropy is  0.292722733337869
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.292722733337869
avg test loss is  0.3010936922419554
avg accuracy is  0.8828333334896553
compute_distance is  tensor(42.6945, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.32864510321985685
avg test loss is  6.1898388084826435
avg accuracy is  0.2110500001563368
compute_distance is  tensor(132.5899, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(132.5899, device='cuda:3')
test acc is  0.2110500001563368
test entropy is  0.32864510321985685
________________________________
diff is  tensor(0.8893, device='cuda:3')
diff is  tensor(0.0073, device='cuda:3')
diff is  tensor(14.8549, device='cuda:3')
diff is  tensor(0.0144, device='cuda:3')
diff is  tensor(116.4651, device='cuda:3')
diff is  tensor(0.0240, device='cuda:3')
diff is  tensor(0.3224, device='cuda:3')
diff is  tensor(0.0025, device='cuda:3')
threshold is  tensor(89.8946, device='cuda:3')
sum is tensor(0.0025, device='cuda:3')
sum is tensor(0.0098, device='cuda:3')
sum is tensor(0.0242, device='cuda:3')
sum is tensor(0.0482, device='cuda:3')
sum is tensor(0.3706, device='cuda:3')
sum is tensor(1.2599, device='cuda:3')
sum is tensor(16.1148, device='cuda:3')
sum is tensor(132.5798, device='cuda:3')
ratio is tensor(0.3665, device='cuda:3')
threshold is tensor(116.4651, device='cuda:3')
cal diff is tensor(0.8893, device='cuda:3')
discard
cal diff is tensor(0.0073, device='cuda:3')
discard
cal diff is tensor(14.8549, device='cuda:3')
discard
cal diff is tensor(0.0144, device='cuda:3')
discard
cal diff is tensor(116.4651, device='cuda:3')
clipping
cal diff is tensor(0.0240, device='cuda:3')
discard
cal diff is tensor(0.3224, device='cuda:3')
discard
cal diff is tensor(0.0025, device='cuda:3')
discard
________________________________
test distance is  tensor(42.6934, device='cuda:3')
test acc is  0.8925166668229884
test entropy is  0.284776586999517
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.284776586999517
avg test loss is  0.2825109419156748
avg accuracy is  0.8925166668229884
compute_distance is  tensor(42.6934, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3284144539441635
avg test loss is  6.188735629449775
avg accuracy is  0.2108333334896701
compute_distance is  tensor(133.2147, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(133.2147, device='cuda:3')
test acc is  0.2108333334896701
test entropy is  0.3284144539441635
________________________________
diff is  tensor(0.8911, device='cuda:3')
diff is  tensor(0.0073, device='cuda:3')
diff is  tensor(15.0181, device='cuda:3')
diff is  tensor(0.0146, device='cuda:3')
diff is  tensor(116.9231, device='cuda:3')
diff is  tensor(0.0244, device='cuda:3')
diff is  tensor(0.3229, device='cuda:3')
diff is  tensor(0.0025, device='cuda:3')
threshold is  tensor(90.5195, device='cuda:3')
sum is tensor(0.0025, device='cuda:3')
sum is tensor(0.0098, device='cuda:3')
sum is tensor(0.0244, device='cuda:3')
sum is tensor(0.0488, device='cuda:3')
sum is tensor(0.3717, device='cuda:3')
sum is tensor(1.2628, device='cuda:3')
sum is tensor(16.2809, device='cuda:3')
sum is tensor(133.2040, device='cuda:3')
ratio is tensor(0.3651, device='cuda:3')
threshold is tensor(116.9231, device='cuda:3')
cal diff is tensor(0.8911, device='cuda:3')
discard
cal diff is tensor(0.0073, device='cuda:3')
discard
cal diff is tensor(15.0181, device='cuda:3')
discard
cal diff is tensor(0.0146, device='cuda:3')
discard
cal diff is tensor(116.9231, device='cuda:3')
clipping
cal diff is tensor(0.0244, device='cuda:3')
discard
cal diff is tensor(0.3229, device='cuda:3')
discard
cal diff is tensor(0.0025, device='cuda:3')
discard
________________________________
test distance is  tensor(42.6932, device='cuda:3')
test acc is  0.894833333489655
test entropy is  0.28265662071928543
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.28265662071928543
avg test loss is  0.27827167296523986
avg accuracy is  0.894833333489655
compute_distance is  tensor(42.6932, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.32835962176958383
avg test loss is  6.188524467858678
avg accuracy is  0.21070000015633678
compute_distance is  tensor(133.3883, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(133.3883, device='cuda:3')
test acc is  0.21070000015633678
test entropy is  0.32835962176958383
________________________________
diff is  tensor(0.8913, device='cuda:3')
diff is  tensor(0.0073, device='cuda:3')
diff is  tensor(15.0657, device='cuda:3')
diff is  tensor(0.0146, device='cuda:3')
diff is  tensor(117.0487, device='cuda:3')
diff is  tensor(0.0245, device='cuda:3')
diff is  tensor(0.3227, device='cuda:3')
diff is  tensor(0.0025, device='cuda:3')
threshold is  tensor(90.6931, device='cuda:3')
sum is tensor(0.0025, device='cuda:3')
sum is tensor(0.0098, device='cuda:3')
sum is tensor(0.0245, device='cuda:3')
sum is tensor(0.0490, device='cuda:3')
sum is tensor(0.3716, device='cuda:3')
sum is tensor(1.2629, device='cuda:3')
sum is tensor(16.3286, device='cuda:3')
sum is tensor(133.3773, device='cuda:3')
ratio is tensor(0.3647, device='cuda:3')
threshold is tensor(117.0487, device='cuda:3')
cal diff is tensor(0.8913, device='cuda:3')
discard
cal diff is tensor(0.0073, device='cuda:3')
discard
cal diff is tensor(15.0657, device='cuda:3')
discard
cal diff is tensor(0.0146, device='cuda:3')
discard
cal diff is tensor(117.0487, device='cuda:3')
clipping
cal diff is tensor(0.0245, device='cuda:3')
discard
cal diff is tensor(0.3227, device='cuda:3')
discard
cal diff is tensor(0.0025, device='cuda:3')
discard
________________________________
test distance is  tensor(42.6931, device='cuda:3')
test acc is  0.8951500001563216
test entropy is  0.2819606192044612
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2819606192044612
avg test loss is  0.2771277474378472
avg accuracy is  0.8951500001563216
compute_distance is  tensor(42.6931, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3283445591738483
avg test loss is  6.189118685244497
avg accuracy is  0.2105833334896701
compute_distance is  tensor(133.4360, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(133.4360, device='cuda:3')
test acc is  0.2105833334896701
test entropy is  0.3283445591738483
________________________________
diff is  tensor(0.8915, device='cuda:3')
diff is  tensor(0.0073, device='cuda:3')
diff is  tensor(15.0819, device='cuda:3')
diff is  tensor(0.0147, device='cuda:3')
diff is  tensor(117.0803, device='cuda:3')
diff is  tensor(0.0245, device='cuda:3')
diff is  tensor(0.3221, device='cuda:3')
diff is  tensor(0.0025, device='cuda:3')
threshold is  tensor(90.7408, device='cuda:3')
sum is tensor(0.0025, device='cuda:3')
sum is tensor(0.0098, device='cuda:3')
sum is tensor(0.0245, device='cuda:3')
sum is tensor(0.0490, device='cuda:3')
sum is tensor(0.3711, device='cuda:3')
sum is tensor(1.2626, device='cuda:3')
sum is tensor(16.3445, device='cuda:3')
sum is tensor(133.4248, device='cuda:3')
ratio is tensor(0.3646, device='cuda:3')
threshold is tensor(117.0803, device='cuda:3')
cal diff is tensor(0.8915, device='cuda:3')
discard
cal diff is tensor(0.0073, device='cuda:3')
discard
cal diff is tensor(15.0819, device='cuda:3')
discard
cal diff is tensor(0.0147, device='cuda:3')
discard
cal diff is tensor(117.0803, device='cuda:3')
clipping
cal diff is tensor(0.0245, device='cuda:3')
discard
cal diff is tensor(0.3221, device='cuda:3')
discard
cal diff is tensor(0.0025, device='cuda:3')
discard
________________________________
test distance is  tensor(42.6931, device='cuda:3')
test acc is  0.8954166668229883
test entropy is  0.28169588099664716
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.28169588099664716
avg test loss is  0.27672575197335497
avg accuracy is  0.8954166668229883
compute_distance is  tensor(42.6931, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.32836228037185505
avg test loss is  6.189539333142197
avg accuracy is  0.21055000015633676
compute_distance is  tensor(133.4596, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(133.4596, device='cuda:3')
test acc is  0.21055000015633676
test entropy is  0.32836228037185505
________________________________
diff is  tensor(0.8913, device='cuda:3')
diff is  tensor(0.0073, device='cuda:3')
diff is  tensor(15.0867, device='cuda:3')
diff is  tensor(0.0147, device='cuda:3')
diff is  tensor(117.0995, device='cuda:3')
diff is  tensor(0.0245, device='cuda:3')
diff is  tensor(0.3216, device='cuda:3')
diff is  tensor(0.0025, device='cuda:3')
threshold is  tensor(90.7644, device='cuda:3')
sum is tensor(0.0025, device='cuda:3')
sum is tensor(0.0098, device='cuda:3')
sum is tensor(0.0245, device='cuda:3')
sum is tensor(0.0490, device='cuda:3')
sum is tensor(0.3707, device='cuda:3')
sum is tensor(1.2619, device='cuda:3')
sum is tensor(16.3487, device='cuda:3')
sum is tensor(133.4482, device='cuda:3')
ratio is tensor(0.3645, device='cuda:3')
threshold is tensor(117.0995, device='cuda:3')
cal diff is tensor(0.8913, device='cuda:3')
discard
cal diff is tensor(0.0073, device='cuda:3')
discard
cal diff is tensor(15.0867, device='cuda:3')
discard
cal diff is tensor(0.0147, device='cuda:3')
discard
cal diff is tensor(117.0995, device='cuda:3')
clipping
cal diff is tensor(0.0245, device='cuda:3')
discard
cal diff is tensor(0.3216, device='cuda:3')
discard
cal diff is tensor(0.0025, device='cuda:3')
discard
________________________________
test distance is  tensor(42.6930, device='cuda:3')
test acc is  0.8956000001563217
test entropy is  0.28153570186990157
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.28153570186990157
avg test loss is  0.27650867516933475
avg accuracy is  0.8956000001563217
compute_distance is  tensor(42.6930, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3283968091424086
avg test loss is  6.18938786007448
avg accuracy is  0.21050000015633677
compute_distance is  tensor(133.4366, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(133.4366, device='cuda:3')
test acc is  0.21050000015633677
test entropy is  0.3283968091424086
________________________________
diff is  tensor(0.8911, device='cuda:3')
diff is  tensor(0.0073, device='cuda:3')
diff is  tensor(15.0736, device='cuda:3')
diff is  tensor(0.0147, device='cuda:3')
diff is  tensor(117.0899, device='cuda:3')
diff is  tensor(0.0245, device='cuda:3')
diff is  tensor(0.3214, device='cuda:3')
diff is  tensor(0.0025, device='cuda:3')
threshold is  tensor(90.7414, device='cuda:3')
sum is tensor(0.0025, device='cuda:3')
sum is tensor(0.0098, device='cuda:3')
sum is tensor(0.0245, device='cuda:3')
sum is tensor(0.0491, device='cuda:3')
sum is tensor(0.3705, device='cuda:3')
sum is tensor(1.2616, device='cuda:3')
sum is tensor(16.3352, device='cuda:3')
sum is tensor(133.4251, device='cuda:3')
ratio is tensor(0.3645, device='cuda:3')
threshold is tensor(117.0899, device='cuda:3')
cal diff is tensor(0.8911, device='cuda:3')
discard
cal diff is tensor(0.0073, device='cuda:3')
discard
cal diff is tensor(15.0736, device='cuda:3')
discard
cal diff is tensor(0.0147, device='cuda:3')
discard
cal diff is tensor(117.0899, device='cuda:3')
clipping
cal diff is tensor(0.0245, device='cuda:3')
discard
cal diff is tensor(0.3214, device='cuda:3')
discard
cal diff is tensor(0.0025, device='cuda:3')
discard
________________________________
test distance is  tensor(42.6929, device='cuda:3')
test acc is  0.895633333489655
test entropy is  0.28146191481461147
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.28146191481461147
avg test loss is  0.27644026836257246
avg accuracy is  0.895633333489655
compute_distance is  tensor(42.6929, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.32840706906847356
avg test loss is  6.189561325095609
avg accuracy is  0.2105333334896701
compute_distance is  tensor(133.4052, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(133.4052, device='cuda:3')
test acc is  0.2105333334896701
test entropy is  0.32840706906847356
________________________________
diff is  tensor(0.8911, device='cuda:3')
diff is  tensor(0.0073, device='cuda:3')
diff is  tensor(15.0857, device='cuda:3')
diff is  tensor(0.0148, device='cuda:3')
diff is  tensor(117.0463, device='cuda:3')
diff is  tensor(0.0245, device='cuda:3')
diff is  tensor(0.3213, device='cuda:3')
diff is  tensor(0.0025, device='cuda:3')
threshold is  tensor(90.7099, device='cuda:3')
sum is tensor(0.0025, device='cuda:3')
sum is tensor(0.0098, device='cuda:3')
sum is tensor(0.0246, device='cuda:3')
sum is tensor(0.0492, device='cuda:3')
sum is tensor(0.3704, device='cuda:3')
sum is tensor(1.2615, device='cuda:3')
sum is tensor(16.3473, device='cuda:3')
sum is tensor(133.3935, device='cuda:3')
ratio is tensor(0.3647, device='cuda:3')
threshold is tensor(117.0463, device='cuda:3')
cal diff is tensor(0.8911, device='cuda:3')
discard
cal diff is tensor(0.0073, device='cuda:3')
discard
cal diff is tensor(15.0857, device='cuda:3')
discard
cal diff is tensor(0.0148, device='cuda:3')
discard
cal diff is tensor(117.0463, device='cuda:3')
clipping
cal diff is tensor(0.0245, device='cuda:3')
discard
cal diff is tensor(0.3213, device='cuda:3')
discard
cal diff is tensor(0.0025, device='cuda:3')
discard
reach max round
new distance ratio is 0.4618423064076359
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 50 global rounds:
Train Accuracy: 95.64% 

Test Accuracy: 95.73% 


 | Global Training Round : 51 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0053786481730639935
attack res is True
len of model dicts is  10
compute distance is  tensor(23.2891, device='cuda:3')
compute distance is  tensor(41.4809, device='cuda:3')
compute distance is  tensor(51.4835, device='cuda:3')
compute distance is  tensor(27.8457, device='cuda:3')
compute distance is  tensor(28.0658, device='cuda:3')
compute distance is  tensor(39.9127, device='cuda:3')
compute distance is  tensor(42.8491, device='cuda:3')
compute distance is  tensor(39.5574, device='cuda:3')
compute distance is  tensor(53.6031, device='cuda:3')
compute distance is  tensor(30.1311, device='cuda:3')
calculated distance threshold is  tensor(38.6894, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.2914500001563393
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.30045000015633955
====================
====================
iteration is  0
round is  2
accuracy is  0.2632000001563387
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.29343333348967277
====================
====================
iteration is  1
round is  1
accuracy is  0.36528333348967396
====================
________________________________
test distance is  tensor(4281.0225, device='cuda:3')
test acc is  0.2632000001563387
test entropy is  0.22127389876064715
________________________________
diff is  tensor(43.0512, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3407, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.5307, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4956, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.8080, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0686, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.5056, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2216, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4242.3330, device='cuda:3')
sum is tensor(0.2216, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5623, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0579, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1265, device='cuda:3', dtype=torch.float64)
sum is tensor(23.6322, device='cuda:3', dtype=torch.float64)
sum is tensor(66.6834, device='cuda:3', dtype=torch.float64)
sum is tensor(639.2141, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.0221, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0106, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.8080, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.0512, device='cuda:3')
discard
cal diff is tensor(0.3407, device='cuda:3')
discard
cal diff is tensor(572.5308, device='cuda:3')
discard
cal diff is tensor(0.4956, device='cuda:3')
discard
cal diff is tensor(3641.8079, device='cuda:3')
discard
cal diff is tensor(2.0686, device='cuda:3')
discard
cal diff is tensor(20.5056, device='cuda:3')
discard
cal diff is tensor(0.2216, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9542666668229862
test entropy is  0.15679128116556704
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.15679128116556704
avg test loss is  0.13886302743536005
avg accuracy is  0.9542666668229862
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.22073920954392154
avg test loss is  5.902236032587633
avg accuracy is  0.274850000156339
compute_distance is  tensor(99.6026, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(99.6026, device='cuda:3')
test acc is  0.274850000156339
test entropy is  0.22073920954392154
________________________________
diff is  tensor(0.6945, device='cuda:3')
diff is  tensor(0.0063, device='cuda:3')
diff is  tensor(15.3822, device='cuda:3')
diff is  tensor(0.0160, device='cuda:3')
diff is  tensor(83.0379, device='cuda:3')
diff is  tensor(0.0301, device='cuda:3')
diff is  tensor(0.4173, device='cuda:3')
diff is  tensor(0.0034, device='cuda:3')
threshold is  tensor(60.9132, device='cuda:3')
sum is tensor(0.0034, device='cuda:3')
sum is tensor(0.0097, device='cuda:3')
sum is tensor(0.0257, device='cuda:3')
sum is tensor(0.0559, device='cuda:3')
sum is tensor(0.4731, device='cuda:3')
sum is tensor(1.1676, device='cuda:3')
sum is tensor(16.5498, device='cuda:3')
sum is tensor(99.5878, device='cuda:3')
ratio is tensor(0.4657, device='cuda:3')
threshold is tensor(83.0379, device='cuda:3')
cal diff is tensor(0.6945, device='cuda:3')
discard
cal diff is tensor(0.0063, device='cuda:3')
discard
cal diff is tensor(15.3822, device='cuda:3')
discard
cal diff is tensor(0.0160, device='cuda:3')
discard
cal diff is tensor(83.0379, device='cuda:3')
clipping
cal diff is tensor(0.0301, device='cuda:3')
discard
cal diff is tensor(0.4173, device='cuda:3')
discard
cal diff is tensor(0.0034, device='cuda:3')
discard
________________________________
test distance is  tensor(38.6855, device='cuda:3')
test acc is  0.8468833334896568
test entropy is  0.3008264930231739
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3008264930231739
avg test loss is  0.4317155824318878
avg accuracy is  0.8468833334896568
compute_distance is  tensor(38.6855, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.21976925267466604
avg test loss is  6.063709013497651
avg accuracy is  0.2712500001563389
compute_distance is  tensor(124.5852, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(124.5852, device='cuda:3')
test acc is  0.2712500001563389
test entropy is  0.21976925267466604
________________________________
diff is  tensor(0.7202, device='cuda:3')
diff is  tensor(0.0063, device='cuda:3')
diff is  tensor(13.9766, device='cuda:3')
diff is  tensor(0.0137, device='cuda:3')
diff is  tensor(109.4830, device='cuda:3')
diff is  tensor(0.0223, device='cuda:3')
diff is  tensor(0.3417, device='cuda:3')
diff is  tensor(0.0025, device='cuda:3')
threshold is  tensor(85.8958, device='cuda:3')
sum is tensor(0.0025, device='cuda:3')
sum is tensor(0.0088, device='cuda:3')
sum is tensor(0.0225, device='cuda:3')
sum is tensor(0.0448, device='cuda:3')
sum is tensor(0.3865, device='cuda:3')
sum is tensor(1.1067, device='cuda:3')
sum is tensor(15.0833, device='cuda:3')
sum is tensor(124.5663, device='cuda:3')
ratio is tensor(0.3532, device='cuda:3')
threshold is tensor(109.4830, device='cuda:3')
cal diff is tensor(0.7202, device='cuda:3')
discard
cal diff is tensor(0.0063, device='cuda:3')
discard
cal diff is tensor(13.9766, device='cuda:3')
discard
cal diff is tensor(0.0137, device='cuda:3')
discard
cal diff is tensor(109.4830, device='cuda:3')
clipping
cal diff is tensor(0.0223, device='cuda:3')
discard
cal diff is tensor(0.3417, device='cuda:3')
discard
cal diff is tensor(0.0025, device='cuda:3')
discard
________________________________
test distance is  tensor(38.6829, device='cuda:3')
test acc is  0.8729000001563225
test entropy is  0.2811851875105901
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2811851875105901
avg test loss is  0.36132520720013167
avg accuracy is  0.8729000001563225
compute_distance is  tensor(38.6829, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2199638277006302
avg test loss is  6.0589955765555406
avg accuracy is  0.2716000001563389
compute_distance is  tensor(126.1367, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(126.1367, device='cuda:3')
test acc is  0.2716000001563389
test entropy is  0.2199638277006302
________________________________
diff is  tensor(0.7387, device='cuda:3')
diff is  tensor(0.0064, device='cuda:3')
diff is  tensor(14.2886, device='cuda:3')
diff is  tensor(0.0140, device='cuda:3')
diff is  tensor(110.7003, device='cuda:3')
diff is  tensor(0.0230, device='cuda:3')
diff is  tensor(0.3435, device='cuda:3')
diff is  tensor(0.0025, device='cuda:3')
threshold is  tensor(87.4472, device='cuda:3')
sum is tensor(0.0025, device='cuda:3')
sum is tensor(0.0090, device='cuda:3')
sum is tensor(0.0230, device='cuda:3')
sum is tensor(0.0460, device='cuda:3')
sum is tensor(0.3894, device='cuda:3')
sum is tensor(1.1282, device='cuda:3')
sum is tensor(15.4167, device='cuda:3')
sum is tensor(126.1170, device='cuda:3')
ratio is tensor(0.3493, device='cuda:3')
threshold is tensor(110.7003, device='cuda:3')
cal diff is tensor(0.7387, device='cuda:3')
discard
cal diff is tensor(0.0064, device='cuda:3')
discard
cal diff is tensor(14.2886, device='cuda:3')
discard
cal diff is tensor(0.0140, device='cuda:3')
discard
cal diff is tensor(110.7003, device='cuda:3')
clipping
cal diff is tensor(0.0230, device='cuda:3')
discard
cal diff is tensor(0.3435, device='cuda:3')
discard
cal diff is tensor(0.0025, device='cuda:3')
discard
________________________________
test distance is  tensor(38.6826, device='cuda:3')
test acc is  0.8777166668229889
test entropy is  0.2775641901851463
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2775641901851463
avg test loss is  0.349187915155819
avg accuracy is  0.8777166668229889
compute_distance is  tensor(38.6826, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.22004615643353603
avg test loss is  6.0554965864112384
avg accuracy is  0.2717000001563389
compute_distance is  tensor(126.4480, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(126.4480, device='cuda:3')
test acc is  0.2717000001563389
test entropy is  0.22004615643353603
________________________________
diff is  tensor(0.7417, device='cuda:3')
diff is  tensor(0.0064, device='cuda:3')
diff is  tensor(14.3632, device='cuda:3')
diff is  tensor(0.0141, device='cuda:3')
diff is  tensor(110.9327, device='cuda:3')
diff is  tensor(0.0231, device='cuda:3')
diff is  tensor(0.3441, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(87.7585, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0090, device='cuda:3')
sum is tensor(0.0231, device='cuda:3')
sum is tensor(0.0462, device='cuda:3')
sum is tensor(0.3903, device='cuda:3')
sum is tensor(1.1320, device='cuda:3')
sum is tensor(15.4952, device='cuda:3')
sum is tensor(126.4279, device='cuda:3')
ratio is tensor(0.3486, device='cuda:3')
threshold is tensor(110.9327, device='cuda:3')
cal diff is tensor(0.7417, device='cuda:3')
discard
cal diff is tensor(0.0064, device='cuda:3')
discard
cal diff is tensor(14.3632, device='cuda:3')
discard
cal diff is tensor(0.0141, device='cuda:3')
discard
cal diff is tensor(110.9327, device='cuda:3')
clipping
cal diff is tensor(0.0231, device='cuda:3')
discard
cal diff is tensor(0.3441, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(38.6825, device='cuda:3')
test acc is  0.8788000001563222
test entropy is  0.2766084239554049
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2766084239554049
avg test loss is  0.3463171501832603
avg accuracy is  0.8788000001563222
compute_distance is  tensor(38.6825, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.22012838930177536
avg test loss is  6.054009837382384
avg accuracy is  0.27171666682300555
compute_distance is  tensor(126.5479, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(126.5479, device='cuda:3')
test acc is  0.27171666682300555
test entropy is  0.22012838930177536
________________________________
diff is  tensor(0.7422, device='cuda:3')
diff is  tensor(0.0065, device='cuda:3')
diff is  tensor(14.3873, device='cuda:3')
diff is  tensor(0.0141, device='cuda:3')
diff is  tensor(111.0078, device='cuda:3')
diff is  tensor(0.0232, device='cuda:3')
diff is  tensor(0.3440, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(87.8585, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0090, device='cuda:3')
sum is tensor(0.0231, device='cuda:3')
sum is tensor(0.0463, device='cuda:3')
sum is tensor(0.3903, device='cuda:3')
sum is tensor(1.1325, device='cuda:3')
sum is tensor(15.5199, device='cuda:3')
sum is tensor(126.5277, device='cuda:3')
ratio is tensor(0.3483, device='cuda:3')
threshold is tensor(111.0078, device='cuda:3')
cal diff is tensor(0.7422, device='cuda:3')
discard
cal diff is tensor(0.0065, device='cuda:3')
discard
cal diff is tensor(14.3873, device='cuda:3')
discard
cal diff is tensor(0.0141, device='cuda:3')
discard
cal diff is tensor(111.0078, device='cuda:3')
clipping
cal diff is tensor(0.0232, device='cuda:3')
discard
cal diff is tensor(0.3440, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(38.6825, device='cuda:3')
test acc is  0.8791166668229888
test entropy is  0.2762362178264142
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2762362178264142
avg test loss is  0.34536392225830287
avg accuracy is  0.8791166668229888
compute_distance is  tensor(38.6825, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.22013055093125747
avg test loss is  6.053732008313828
avg accuracy is  0.27171666682300555
compute_distance is  tensor(126.5820, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(126.5820, device='cuda:3')
test acc is  0.27171666682300555
test entropy is  0.22013055093125747
________________________________
diff is  tensor(0.7422, device='cuda:3')
diff is  tensor(0.0065, device='cuda:3')
diff is  tensor(14.3964, device='cuda:3')
diff is  tensor(0.0141, device='cuda:3')
diff is  tensor(111.0327, device='cuda:3')
diff is  tensor(0.0232, device='cuda:3')
diff is  tensor(0.3440, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(87.8926, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0090, device='cuda:3')
sum is tensor(0.0232, device='cuda:3')
sum is tensor(0.0463, device='cuda:3')
sum is tensor(0.3904, device='cuda:3')
sum is tensor(1.1326, device='cuda:3')
sum is tensor(15.5290, device='cuda:3')
sum is tensor(126.5617, device='cuda:3')
ratio is tensor(0.3483, device='cuda:3')
threshold is tensor(111.0327, device='cuda:3')
cal diff is tensor(0.7422, device='cuda:3')
discard
cal diff is tensor(0.0065, device='cuda:3')
discard
cal diff is tensor(14.3964, device='cuda:3')
discard
cal diff is tensor(0.0141, device='cuda:3')
discard
cal diff is tensor(111.0327, device='cuda:3')
clipping
cal diff is tensor(0.0232, device='cuda:3')
discard
cal diff is tensor(0.3440, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(38.6824, device='cuda:3')
test acc is  0.8792500001563222
test entropy is  0.2760847070450976
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2760847070450976
avg test loss is  0.34498760386157645
avg accuracy is  0.8792500001563222
compute_distance is  tensor(38.6824, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2201311598136735
avg test loss is  6.054348701607189
avg accuracy is  0.2716833334896722
compute_distance is  tensor(126.5980, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(126.5980, device='cuda:3')
test acc is  0.2716833334896722
test entropy is  0.2201311598136735
________________________________
diff is  tensor(0.7421, device='cuda:3')
diff is  tensor(0.0065, device='cuda:3')
diff is  tensor(14.3981, device='cuda:3')
diff is  tensor(0.0141, device='cuda:3')
diff is  tensor(111.0470, device='cuda:3')
diff is  tensor(0.0232, device='cuda:3')
diff is  tensor(0.3440, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(87.9085, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0090, device='cuda:3')
sum is tensor(0.0232, device='cuda:3')
sum is tensor(0.0463, device='cuda:3')
sum is tensor(0.3903, device='cuda:3')
sum is tensor(1.1324, device='cuda:3')
sum is tensor(15.5306, device='cuda:3')
sum is tensor(126.5775, device='cuda:3')
ratio is tensor(0.3482, device='cuda:3')
threshold is tensor(111.0470, device='cuda:3')
cal diff is tensor(0.7421, device='cuda:3')
discard
cal diff is tensor(0.0065, device='cuda:3')
discard
cal diff is tensor(14.3981, device='cuda:3')
discard
cal diff is tensor(0.0141, device='cuda:3')
discard
cal diff is tensor(111.0470, device='cuda:3')
clipping
cal diff is tensor(0.0232, device='cuda:3')
discard
cal diff is tensor(0.3440, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(38.6824, device='cuda:3')
test acc is  0.8793333334896555
test entropy is  0.27600276692589715
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.27600276692589715
avg test loss is  0.34479704175168263
avg accuracy is  0.8793333334896555
compute_distance is  tensor(38.6824, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.22017477283568015
avg test loss is  6.054391010483699
avg accuracy is  0.2716833334896722
compute_distance is  tensor(126.6116, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(126.6116, device='cuda:3')
test acc is  0.2716833334896722
test entropy is  0.22017477283568015
________________________________
diff is  tensor(0.7423, device='cuda:3')
diff is  tensor(0.0065, device='cuda:3')
diff is  tensor(14.4004, device='cuda:3')
diff is  tensor(0.0141, device='cuda:3')
diff is  tensor(111.0581, device='cuda:3')
diff is  tensor(0.0232, device='cuda:3')
diff is  tensor(0.3439, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(87.9222, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0090, device='cuda:3')
sum is tensor(0.0232, device='cuda:3')
sum is tensor(0.0463, device='cuda:3')
sum is tensor(0.3902, device='cuda:3')
sum is tensor(1.1325, device='cuda:3')
sum is tensor(15.5330, device='cuda:3')
sum is tensor(126.5911, device='cuda:3')
ratio is tensor(0.3482, device='cuda:3')
threshold is tensor(111.0581, device='cuda:3')
cal diff is tensor(0.7423, device='cuda:3')
discard
cal diff is tensor(0.0065, device='cuda:3')
discard
cal diff is tensor(14.4004, device='cuda:3')
discard
cal diff is tensor(0.0141, device='cuda:3')
discard
cal diff is tensor(111.0581, device='cuda:3')
clipping
cal diff is tensor(0.0232, device='cuda:3')
discard
cal diff is tensor(0.3439, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(38.6824, device='cuda:3')
test acc is  0.8793666668229888
test entropy is  0.27593601113761157
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.27593601113761157
avg test loss is  0.3446473604135676
avg accuracy is  0.8793666668229888
compute_distance is  tensor(38.6824, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.22019490594072127
avg test loss is  6.054833153417624
avg accuracy is  0.2716000001563389
compute_distance is  tensor(126.6277, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(126.6277, device='cuda:3')
test acc is  0.2716000001563389
test entropy is  0.22019490594072127
________________________________
diff is  tensor(0.7424, device='cuda:3')
diff is  tensor(0.0065, device='cuda:3')
diff is  tensor(14.3993, device='cuda:3')
diff is  tensor(0.0141, device='cuda:3')
diff is  tensor(111.0752, device='cuda:3')
diff is  tensor(0.0232, device='cuda:3')
diff is  tensor(0.3438, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(87.9383, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0090, device='cuda:3')
sum is tensor(0.0232, device='cuda:3')
sum is tensor(0.0463, device='cuda:3')
sum is tensor(0.3902, device='cuda:3')
sum is tensor(1.1326, device='cuda:3')
sum is tensor(15.5319, device='cuda:3')
sum is tensor(126.6072, device='cuda:3')
ratio is tensor(0.3481, device='cuda:3')
threshold is tensor(111.0752, device='cuda:3')
cal diff is tensor(0.7424, device='cuda:3')
discard
cal diff is tensor(0.0065, device='cuda:3')
discard
cal diff is tensor(14.3993, device='cuda:3')
discard
cal diff is tensor(0.0141, device='cuda:3')
discard
cal diff is tensor(111.0752, device='cuda:3')
clipping
cal diff is tensor(0.0232, device='cuda:3')
discard
cal diff is tensor(0.3438, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(38.6824, device='cuda:3')
test acc is  0.8793833334896555
test entropy is  0.2758709144458842
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2758709144458842
avg test loss is  0.3445203699298632
avg accuracy is  0.8793833334896555
compute_distance is  tensor(38.6824, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.22021266395476327
avg test loss is  6.054875945994087
avg accuracy is  0.2716500001563389
compute_distance is  tensor(126.6419, device='cuda:3')
++++++++++++++++++++
reach max round
new distance ratio is 0.4618423064076359
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  4
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 51 global rounds:
Train Accuracy: 95.58% 

Test Accuracy: 95.55% 


 | Global Training Round : 52 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.005535697564482689
attack res is True
len of model dicts is  10
compute distance is  tensor(20.2542, device='cuda:3')
compute distance is  tensor(40.7071, device='cuda:3')
compute distance is  tensor(58.8788, device='cuda:3')
compute distance is  tensor(32.7208, device='cuda:3')
compute distance is  tensor(50.3373, device='cuda:3')
compute distance is  tensor(52.5271, device='cuda:3')
compute distance is  tensor(77.8090, device='cuda:3')
compute distance is  tensor(42.3182, device='cuda:3')
compute distance is  tensor(72.7738, device='cuda:3')
compute distance is  tensor(53.8324, device='cuda:3')
calculated distance threshold is  tensor(49.4935, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.35510000015634047
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.216900000156337
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.2771166668230057
====================
====================
iteration is  1
round is  0
accuracy is  0.3050666668230062
====================
====================
iteration is  1
round is  1
accuracy is  0.4027166668230078
====================
________________________________
test distance is  tensor(4285.0928, device='cuda:3')
test acc is  0.216900000156337
test entropy is  0.2120182624519634
________________________________
diff is  tensor(45.1262, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3766, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.4088, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5194, device='cuda:3', dtype=torch.float64)
diff is  tensor(3643.1071, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9843, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3341, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2363, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4235.5991, device='cuda:3')
sum is tensor(0.2363, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6130, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1324, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1167, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4507, device='cuda:3', dtype=torch.float64)
sum is tensor(68.5769, device='cuda:3', dtype=torch.float64)
sum is tensor(641.9857, device='cuda:3', dtype=torch.float64)
sum is tensor(4285.0928, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0136, device='cuda:3', dtype=torch.float64)
threshold is tensor(3643.1071, device='cuda:3', dtype=torch.float64)
cal diff is tensor(45.1262, device='cuda:3')
discard
cal diff is tensor(0.3766, device='cuda:3')
discard
cal diff is tensor(573.4088, device='cuda:3')
discard
cal diff is tensor(0.5194, device='cuda:3')
discard
cal diff is tensor(3643.1069, device='cuda:3')
discard
cal diff is tensor(1.9843, device='cuda:3')
discard
cal diff is tensor(20.3341, device='cuda:3')
discard
cal diff is tensor(0.2363, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.952533333489653
test entropy is  0.159069287068427
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.159069287068427
avg test loss is  0.14406665207953182
avg accuracy is  0.952533333489653
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2351252328453542
avg test loss is  7.950774191284993
avg accuracy is  0.22185000015633718
compute_distance is  tensor(103.8578, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(103.8578, device='cuda:3')
test acc is  0.22185000015633718
test entropy is  0.2351252328453542
________________________________
diff is  tensor(0.8374, device='cuda:3')
diff is  tensor(0.0069, device='cuda:3')
diff is  tensor(16.2063, device='cuda:3')
diff is  tensor(0.0163, device='cuda:3')
diff is  tensor(86.3343, device='cuda:3')
diff is  tensor(0.0318, device='cuda:3')
diff is  tensor(0.4041, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(54.3642, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0099, device='cuda:3')
sum is tensor(0.0262, device='cuda:3')
sum is tensor(0.0580, device='cuda:3')
sum is tensor(0.4621, device='cuda:3')
sum is tensor(1.2996, device='cuda:3')
sum is tensor(17.5059, device='cuda:3')
sum is tensor(103.8401, device='cuda:3')
ratio is tensor(0.5731, device='cuda:3')
threshold is tensor(86.3343, device='cuda:3')
cal diff is tensor(0.8374, device='cuda:3')
discard
cal diff is tensor(0.0069, device='cuda:3')
discard
cal diff is tensor(16.2063, device='cuda:3')
discard
cal diff is tensor(0.0163, device='cuda:3')
discard
cal diff is tensor(86.3343, device='cuda:3')
clipping
cal diff is tensor(0.0318, device='cuda:3')
discard
cal diff is tensor(0.4041, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(49.4889, device='cuda:3')
test acc is  0.7682333334896604
test entropy is  0.37764772202478036
________________________________
new distance ratio is 0.5080265370483995
current aggregation staleness i is  2
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 52 global rounds:
Train Accuracy: 95.52% 

Test Accuracy: 95.59% 


 | Global Training Round : 53 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.005693093873560429
attack res is True
len of model dicts is  10
compute distance is  tensor(23.1745, device='cuda:3')
compute distance is  tensor(40.9040, device='cuda:3')
compute distance is  tensor(62.1410, device='cuda:3')
compute distance is  tensor(31.9511, device='cuda:3')
compute distance is  tensor(47.3601, device='cuda:3')
compute distance is  tensor(44.3742, device='cuda:3')
compute distance is  tensor(45.5890, device='cuda:3')
compute distance is  tensor(44.2251, device='cuda:3')
compute distance is  tensor(70.6108, device='cuda:3')
compute distance is  tensor(49.9338, device='cuda:3')
calculated distance threshold is  tensor(49.6833, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.3414500001563403
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.15220000015633328
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.29851666682300615
====================
====================
iteration is  1
round is  0
accuracy is  0.19566666682300277
====================
====================
iteration is  1
round is  1
accuracy is  0.2732833334896722
====================
________________________________
test distance is  tensor(4283.8823, device='cuda:3')
test acc is  0.15220000015633328
test entropy is  0.09892231606042334
________________________________
diff is  tensor(43.8596, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3396, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.4005, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5060, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.1081, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9677, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.4733, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2275, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4234.1992, device='cuda:3')
sum is tensor(0.2275, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5672, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0732, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0409, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5142, device='cuda:3', dtype=torch.float64)
sum is tensor(67.3738, device='cuda:3', dtype=torch.float64)
sum is tensor(641.7743, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.8824, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0136, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.1081, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.8596, device='cuda:3')
discard
cal diff is tensor(0.3396, device='cuda:3')
discard
cal diff is tensor(574.4005, device='cuda:3')
discard
cal diff is tensor(0.5060, device='cuda:3')
discard
cal diff is tensor(3642.1082, device='cuda:3')
clipping
cal diff is tensor(1.9677, device='cuda:3')
discard
cal diff is tensor(20.4733, device='cuda:3')
discard
cal diff is tensor(0.2275, device='cuda:3')
discard
________________________________
test distance is  tensor(49.6934, device='cuda:3')
test acc is  0.9523166668229862
test entropy is  0.1599674450078689
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(49.6832, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0101, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0093, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(49.6832, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.4756, device='cuda:3')
test acc is  0.9524666668229862
test entropy is  0.16001541552735543
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.16001541552735543
avg test loss is  0.14406059224750284
avg accuracy is  0.9524666668229862
compute_distance is  tensor(0.4756, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.09486356268583267
avg test loss is  9.718777063813036
avg accuracy is  0.14840000015633298
compute_distance is  tensor(98.0349, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(98.0349, device='cuda:3')
test acc is  0.14840000015633298
test entropy is  0.09486356268583267
________________________________
diff is  tensor(0.7145, device='cuda:3')
diff is  tensor(0.0066, device='cuda:3')
diff is  tensor(15.4026, device='cuda:3')
diff is  tensor(0.0155, device='cuda:3')
diff is  tensor(81.4537, device='cuda:3')
diff is  tensor(0.0313, device='cuda:3')
diff is  tensor(0.3934, device='cuda:3')
diff is  tensor(0.0035, device='cuda:3')
threshold is  tensor(48.3516, device='cuda:3')
sum is tensor(0.0035, device='cuda:3')
sum is tensor(0.0100, device='cuda:3')
sum is tensor(0.0255, device='cuda:3')
sum is tensor(0.0568, device='cuda:3')
sum is tensor(0.4502, device='cuda:3')
sum is tensor(1.1647, device='cuda:3')
sum is tensor(16.5673, device='cuda:3')
sum is tensor(98.0211, device='cuda:3')
ratio is tensor(0.6098, device='cuda:3')
threshold is tensor(81.4537, device='cuda:3')
cal diff is tensor(0.7145, device='cuda:3')
discard
cal diff is tensor(0.0066, device='cuda:3')
discard
cal diff is tensor(15.4026, device='cuda:3')
discard
cal diff is tensor(0.0155, device='cuda:3')
discard
cal diff is tensor(81.4537, device='cuda:3')
clipping
cal diff is tensor(0.0313, device='cuda:3')
discard
cal diff is tensor(0.3934, device='cuda:3')
discard
cal diff is tensor(0.0035, device='cuda:3')
discard
________________________________
test distance is  tensor(49.6797, device='cuda:3')
test acc is  0.6631666668229999
test entropy is  0.3884416918065756
________________________________
new distance ratio is 0.5588291907532396
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  3
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 53 global rounds:
Train Accuracy: 95.19% 

Test Accuracy: 95.04% 


 | Global Training Round : 54 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.006077390164136887
attack res is True
len of model dicts is  10
compute distance is  tensor(26.6108, device='cuda:3')
compute distance is  tensor(34.9417, device='cuda:3')
compute distance is  tensor(42.6689, device='cuda:3')
compute distance is  tensor(56.1522, device='cuda:3')
compute distance is  tensor(33.2862, device='cuda:3')
compute distance is  tensor(36.0700, device='cuda:3')
compute distance is  tensor(63.0550, device='cuda:3')
compute distance is  tensor(45.1040, device='cuda:3')
compute distance is  tensor(50.2992, device='cuda:3')
compute distance is  tensor(68.1678, device='cuda:3')
calculated distance threshold is  tensor(52.1564, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.2937000001563394
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2690500001563388
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.17020000015633466
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.2074500001563367
====================
====================
iteration is  1
round is  1
accuracy is  0.40058333348967445
====================
________________________________
test distance is  tensor(4277.8853, device='cuda:3')
test acc is  0.17020000015633466
test entropy is  0.29290002379526714
________________________________
diff is  tensor(43.2941, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3360, device='cuda:3', dtype=torch.float64)
diff is  tensor(570.2337, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5128, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.9483, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0329, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2998, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2288, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4225.7290, device='cuda:3')
sum is tensor(0.2288, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5647, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0775, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1104, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4102, device='cuda:3', dtype=torch.float64)
sum is tensor(66.7042, device='cuda:3', dtype=torch.float64)
sum is tensor(636.9379, device='cuda:3', dtype=torch.float64)
sum is tensor(4277.8862, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0143, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.9483, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.2941, device='cuda:3')
discard
cal diff is tensor(0.3360, device='cuda:3')
discard
cal diff is tensor(570.2336, device='cuda:3')
discard
cal diff is tensor(0.5128, device='cuda:3')
discard
cal diff is tensor(3640.9482, device='cuda:3')
discard
cal diff is tensor(2.0329, device='cuda:3')
discard
cal diff is tensor(20.2998, device='cuda:3')
discard
cal diff is tensor(0.2288, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.948283333489653
test entropy is  0.16743627617528825
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.16743627617528825
avg test loss is  0.15583290067761502
avg accuracy is  0.948283333489653
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.29524706057838795
avg test loss is  6.062583902497281
avg accuracy is  0.140516666822999
compute_distance is  tensor(100.1891, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(100.1891, device='cuda:3')
test acc is  0.140516666822999
test entropy is  0.29524706057838795
________________________________
diff is  tensor(0.6399, device='cuda:3')
diff is  tensor(0.0055, device='cuda:3')
diff is  tensor(15.3258, device='cuda:3')
diff is  tensor(0.0163, device='cuda:3')
diff is  tensor(83.7505, device='cuda:3')
diff is  tensor(0.0299, device='cuda:3')
diff is  tensor(0.4121, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(48.0327, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0086, device='cuda:3')
sum is tensor(0.0248, device='cuda:3')
sum is tensor(0.0548, device='cuda:3')
sum is tensor(0.4669, device='cuda:3')
sum is tensor(1.1067, device='cuda:3')
sum is tensor(16.4325, device='cuda:3')
sum is tensor(100.1830, device='cuda:3')
ratio is tensor(0.6227, device='cuda:3')
threshold is tensor(83.7505, device='cuda:3')
cal diff is tensor(0.6399, device='cuda:3')
discard
cal diff is tensor(0.0055, device='cuda:3')
discard
cal diff is tensor(15.3258, device='cuda:3')
discard
cal diff is tensor(0.0163, device='cuda:3')
discard
cal diff is tensor(83.7505, device='cuda:3')
clipping
cal diff is tensor(0.0299, device='cuda:3')
discard
cal diff is tensor(0.4121, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(52.1572, device='cuda:3')
test acc is  0.7400833334896619
test entropy is  0.39163953456670236
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(52.1510, device='cuda:3')
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0008, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
ratio is tensor(0.4358, device='cuda:3')
threshold is tensor(0.0008, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
clipping
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(52.1510, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(22.7360, device='cuda:3')
test acc is  0.9112166668229876
test entropy is  0.24219289188509557
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.24219289188509557
avg test loss is  0.25696482388243114
avg accuracy is  0.9112166668229876
compute_distance is  tensor(22.7360, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2944147853232396
avg test loss is  6.111606169356975
avg accuracy is  0.1468666668229996
compute_distance is  tensor(113.3289, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(113.3289, device='cuda:3')
test acc is  0.1468666668229996
test entropy is  0.2944147853232396
________________________________
diff is  tensor(0.5954, device='cuda:3')
diff is  tensor(0.0057, device='cuda:3')
diff is  tensor(14.9295, device='cuda:3')
diff is  tensor(0.0155, device='cuda:3')
diff is  tensor(97.3857, device='cuda:3')
diff is  tensor(0.0246, device='cuda:3')
diff is  tensor(0.3592, device='cuda:3')
diff is  tensor(0.0025, device='cuda:3')
threshold is  tensor(61.1725, device='cuda:3')
sum is tensor(0.0025, device='cuda:3')
sum is tensor(0.0081, device='cuda:3')
sum is tensor(0.0236, device='cuda:3')
sum is tensor(0.0482, device='cuda:3')
sum is tensor(0.4074, device='cuda:3')
sum is tensor(1.0028, device='cuda:3')
sum is tensor(15.9323, device='cuda:3')
sum is tensor(113.3180, device='cuda:3')
ratio is tensor(0.5355, device='cuda:3')
threshold is tensor(97.3857, device='cuda:3')
cal diff is tensor(0.5954, device='cuda:3')
discard
cal diff is tensor(0.0057, device='cuda:3')
discard
cal diff is tensor(14.9295, device='cuda:3')
discard
cal diff is tensor(0.0155, device='cuda:3')
discard
cal diff is tensor(97.3857, device='cuda:3')
clipping
cal diff is tensor(0.0246, device='cuda:3')
discard
cal diff is tensor(0.3592, device='cuda:3')
discard
cal diff is tensor(0.0025, device='cuda:3')
discard
________________________________
test distance is  tensor(52.1542, device='cuda:3')
test acc is  0.7804833334896597
test entropy is  0.3753424292402481
________________________________
new distance ratio is 0.6147121098285636
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 54 global rounds:
Train Accuracy: 95.25% 

Test Accuracy: 95.18% 


 | Global Training Round : 55 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.006261616945266724
attack res is True
len of model dicts is  10
compute distance is  tensor(25.8319, device='cuda:3')
compute distance is  tensor(34.9576, device='cuda:3')
compute distance is  tensor(51.9372, device='cuda:3')
compute distance is  tensor(20.1739, device='cuda:3')
compute distance is  tensor(35.6810, device='cuda:3')
compute distance is  tensor(41.2406, device='cuda:3')
compute distance is  tensor(53.1710, device='cuda:3')
compute distance is  tensor(44.4404, device='cuda:3')
compute distance is  tensor(44.9012, device='cuda:3')
compute distance is  tensor(51.7860, device='cuda:3')
calculated distance threshold is  tensor(42.4860, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.2583333334896718
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.1931166668230026
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.2361000001563378
====================
====================
iteration is  1
round is  0
accuracy is  0.276400000156339
====================
====================
iteration is  1
round is  1
accuracy is  0.21766666682300373
====================
________________________________
test distance is  tensor(4284.3457, device='cuda:3')
test acc is  0.1931166668230026
test entropy is  0.23407691336675748
________________________________
diff is  tensor(44.3641, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3937, device='cuda:3', dtype=torch.float64)
diff is  tensor(575.5054, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4701, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.0193, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9860, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3711, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2359, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4241.8599, device='cuda:3')
sum is tensor(0.2359, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6296, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0997, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0857, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4567, device='cuda:3', dtype=torch.float64)
sum is tensor(67.8209, device='cuda:3', dtype=torch.float64)
sum is tensor(643.3263, device='cuda:3', dtype=torch.float64)
sum is tensor(4284.3456, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0117, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.0193, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.3641, device='cuda:3')
discard
cal diff is tensor(0.3937, device='cuda:3')
discard
cal diff is tensor(575.5054, device='cuda:3')
discard
cal diff is tensor(0.4701, device='cuda:3')
discard
cal diff is tensor(3641.0193, device='cuda:3')
clipping
cal diff is tensor(1.9860, device='cuda:3')
discard
cal diff is tensor(20.3711, device='cuda:3')
discard
cal diff is tensor(0.2359, device='cuda:3')
discard
________________________________
test distance is  tensor(42.4960, device='cuda:3')
test acc is  0.9481000001563197
test entropy is  0.17056821063081465
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(42.4857, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0100, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0228, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(42.4857, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.9799, device='cuda:3')
test acc is  0.9486166668229864
test entropy is  0.16944286953220997
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.16944286953220997
avg test loss is  0.15484144576171885
avg accuracy is  0.9486166668229864
compute_distance is  tensor(0.9799, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.23095944676317895
avg test loss is  6.913202061581967
avg accuracy is  0.1732166668230014
compute_distance is  tensor(105.6154, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(105.6154, device='cuda:3')
test acc is  0.1732166668230014
test entropy is  0.23095944676317895
________________________________
diff is  tensor(0.7099, device='cuda:3')
diff is  tensor(0.0066, device='cuda:3')
diff is  tensor(15.7976, device='cuda:3')
diff is  tensor(0.0171, device='cuda:3')
diff is  tensor(88.5780, device='cuda:3')
diff is  tensor(0.0338, device='cuda:3')
diff is  tensor(0.4650, device='cuda:3')
diff is  tensor(0.0037, device='cuda:3')
threshold is  tensor(63.1294, device='cuda:3')
sum is tensor(0.0037, device='cuda:3')
sum is tensor(0.0103, device='cuda:3')
sum is tensor(0.0274, device='cuda:3')
sum is tensor(0.0611, device='cuda:3')
sum is tensor(0.5261, device='cuda:3')
sum is tensor(1.2360, device='cuda:3')
sum is tensor(17.0336, device='cuda:3')
sum is tensor(105.6116, device='cuda:3')
ratio is tensor(0.4796, device='cuda:3')
threshold is tensor(88.5780, device='cuda:3')
cal diff is tensor(0.7099, device='cuda:3')
discard
cal diff is tensor(0.0066, device='cuda:3')
discard
cal diff is tensor(15.7976, device='cuda:3')
discard
cal diff is tensor(0.0171, device='cuda:3')
discard
cal diff is tensor(88.5780, device='cuda:3')
clipping
cal diff is tensor(0.0338, device='cuda:3')
discard
cal diff is tensor(0.4650, device='cuda:3')
discard
cal diff is tensor(0.0037, device='cuda:3')
discard
________________________________
test distance is  tensor(42.4883, device='cuda:3')
test acc is  0.8185833334896581
test entropy is  0.37054610608228994
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(42.4837, device='cuda:3')
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0023, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.8725, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(42.4837, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(37.0705, device='cuda:3')
test acc is  0.8556833334896564
test entropy is  0.3372593502055353
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3372593502055353
avg test loss is  0.4097216510172211
avg accuracy is  0.8556833334896564
compute_distance is  tensor(37.0705, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.23450097132688646
avg test loss is  7.120922670689727
avg accuracy is  0.17983333348966854
compute_distance is  tensor(126.9300, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(126.9300, device='cuda:3')
test acc is  0.17983333348966854
test entropy is  0.23450097132688646
________________________________
diff is  tensor(0.7740, device='cuda:3')
diff is  tensor(0.0070, device='cuda:3')
diff is  tensor(14.3906, device='cuda:3')
diff is  tensor(0.0146, device='cuda:3')
diff is  tensor(111.3265, device='cuda:3')
diff is  tensor(0.0252, device='cuda:3')
diff is  tensor(0.3792, device='cuda:3')
diff is  tensor(0.0028, device='cuda:3')
threshold is  tensor(84.4440, device='cuda:3')
sum is tensor(0.0028, device='cuda:3')
sum is tensor(0.0097, device='cuda:3')
sum is tensor(0.0243, device='cuda:3')
sum is tensor(0.0495, device='cuda:3')
sum is tensor(0.4287, device='cuda:3')
sum is tensor(1.2027, device='cuda:3')
sum is tensor(15.5933, device='cuda:3')
sum is tensor(126.9199, device='cuda:3')
ratio is tensor(0.3815, device='cuda:3')
threshold is tensor(111.3265, device='cuda:3')
cal diff is tensor(0.7740, device='cuda:3')
discard
cal diff is tensor(0.0070, device='cuda:3')
discard
cal diff is tensor(14.3906, device='cuda:3')
discard
cal diff is tensor(0.0146, device='cuda:3')
discard
cal diff is tensor(111.3265, device='cuda:3')
clipping
cal diff is tensor(0.0252, device='cuda:3')
discard
cal diff is tensor(0.3792, device='cuda:3')
discard
cal diff is tensor(0.0028, device='cuda:3')
discard
________________________________
test distance is  tensor(42.4841, device='cuda:3')
test acc is  0.8533166668229899
test entropy is  0.3495099735793783
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3495099735793783
avg test loss is  0.4165389216197198
avg accuracy is  0.8533166668229899
compute_distance is  tensor(42.4841, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.23470150002602067
avg test loss is  7.14202679652395
avg accuracy is  0.1804666668230019
compute_distance is  tensor(131.8402, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(131.8402, device='cuda:3')
test acc is  0.1804666668230019
test entropy is  0.23470150002602067
________________________________
diff is  tensor(0.8067, device='cuda:3')
diff is  tensor(0.0072, device='cuda:3')
diff is  tensor(14.4906, device='cuda:3')
diff is  tensor(0.0145, device='cuda:3')
diff is  tensor(116.1181, device='cuda:3')
diff is  tensor(0.0246, device='cuda:3')
diff is  tensor(0.3639, device='cuda:3')
diff is  tensor(0.0027, device='cuda:3')
threshold is  tensor(89.3542, device='cuda:3')
sum is tensor(0.0027, device='cuda:3')
sum is tensor(0.0099, device='cuda:3')
sum is tensor(0.0244, device='cuda:3')
sum is tensor(0.0491, device='cuda:3')
sum is tensor(0.4130, device='cuda:3')
sum is tensor(1.2197, device='cuda:3')
sum is tensor(15.7103, device='cuda:3')
sum is tensor(131.8284, device='cuda:3')
ratio is tensor(0.3658, device='cuda:3')
threshold is tensor(116.1181, device='cuda:3')
cal diff is tensor(0.8067, device='cuda:3')
discard
cal diff is tensor(0.0072, device='cuda:3')
discard
cal diff is tensor(14.4906, device='cuda:3')
discard
cal diff is tensor(0.0145, device='cuda:3')
discard
cal diff is tensor(116.1181, device='cuda:3')
clipping
cal diff is tensor(0.0246, device='cuda:3')
discard
cal diff is tensor(0.3639, device='cuda:3')
discard
cal diff is tensor(0.0027, device='cuda:3')
discard
________________________________
test distance is  tensor(42.4833, device='cuda:3')
test acc is  0.8616000001563229
test entropy is  0.34093209041524797
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.34093209041524797
avg test loss is  0.39396365410261064
avg accuracy is  0.8616000001563229
compute_distance is  tensor(42.4833, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.23471798430850258
avg test loss is  7.141839796037816
avg accuracy is  0.18025000015633522
compute_distance is  tensor(132.4112, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(132.4112, device='cuda:3')
test acc is  0.18025000015633522
test entropy is  0.23471798430850258
________________________________
diff is  tensor(0.8058, device='cuda:3')
diff is  tensor(0.0072, device='cuda:3')
diff is  tensor(14.6347, device='cuda:3')
diff is  tensor(0.0147, device='cuda:3')
diff is  tensor(116.5450, device='cuda:3')
diff is  tensor(0.0249, device='cuda:3')
diff is  tensor(0.3638, device='cuda:3')
diff is  tensor(0.0027, device='cuda:3')
threshold is  tensor(89.9252, device='cuda:3')
sum is tensor(0.0027, device='cuda:3')
sum is tensor(0.0099, device='cuda:3')
sum is tensor(0.0246, device='cuda:3')
sum is tensor(0.0496, device='cuda:3')
sum is tensor(0.4134, device='cuda:3')
sum is tensor(1.2192, device='cuda:3')
sum is tensor(15.8539, device='cuda:3')
sum is tensor(132.3989, device='cuda:3')
ratio is tensor(0.3644, device='cuda:3')
threshold is tensor(116.5450, device='cuda:3')
cal diff is tensor(0.8058, device='cuda:3')
discard
cal diff is tensor(0.0072, device='cuda:3')
discard
cal diff is tensor(14.6347, device='cuda:3')
discard
cal diff is tensor(0.0147, device='cuda:3')
discard
cal diff is tensor(116.5450, device='cuda:3')
clipping
cal diff is tensor(0.0249, device='cuda:3')
discard
cal diff is tensor(0.3638, device='cuda:3')
discard
cal diff is tensor(0.0027, device='cuda:3')
discard
________________________________
test distance is  tensor(42.4832, device='cuda:3')
test acc is  0.8635000001563229
test entropy is  0.33861579890571425
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.33861579890571425
avg test loss is  0.38898348145043926
avg accuracy is  0.8635000001563229
compute_distance is  tensor(42.4832, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2346543179535027
avg test loss is  7.142089308451996
avg accuracy is  0.18023333348966855
compute_distance is  tensor(132.5128, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(132.5128, device='cuda:3')
test acc is  0.18023333348966855
test entropy is  0.2346543179535027
________________________________
diff is  tensor(0.8052, device='cuda:3')
diff is  tensor(0.0072, device='cuda:3')
diff is  tensor(14.6704, device='cuda:3')
diff is  tensor(0.0149, device='cuda:3')
diff is  tensor(116.6112, device='cuda:3')
diff is  tensor(0.0251, device='cuda:3')
diff is  tensor(0.3636, device='cuda:3')
diff is  tensor(0.0027, device='cuda:3')
threshold is  tensor(90.0268, device='cuda:3')
sum is tensor(0.0027, device='cuda:3')
sum is tensor(0.0099, device='cuda:3')
sum is tensor(0.0248, device='cuda:3')
sum is tensor(0.0499, device='cuda:3')
sum is tensor(0.4135, device='cuda:3')
sum is tensor(1.2187, device='cuda:3')
sum is tensor(15.8891, device='cuda:3')
sum is tensor(132.5003, device='cuda:3')
ratio is tensor(0.3642, device='cuda:3')
threshold is tensor(116.6112, device='cuda:3')
cal diff is tensor(0.8052, device='cuda:3')
discard
cal diff is tensor(0.0072, device='cuda:3')
discard
cal diff is tensor(14.6704, device='cuda:3')
discard
cal diff is tensor(0.0149, device='cuda:3')
discard
cal diff is tensor(116.6112, device='cuda:3')
clipping
cal diff is tensor(0.0251, device='cuda:3')
discard
cal diff is tensor(0.3636, device='cuda:3')
discard
cal diff is tensor(0.0027, device='cuda:3')
discard
________________________________
test distance is  tensor(42.4831, device='cuda:3')
test acc is  0.8638166668229894
test entropy is  0.3380150144288281
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3380150144288281
avg test loss is  0.38792118014716137
avg accuracy is  0.8638166668229894
compute_distance is  tensor(42.4831, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2346045679089103
avg test loss is  7.144941924731614
avg accuracy is  0.18026666682300188
compute_distance is  tensor(131.7680, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(131.7680, device='cuda:3')
test acc is  0.18026666682300188
test entropy is  0.2346045679089103
________________________________
diff is  tensor(0.8049, device='cuda:3')
diff is  tensor(0.0072, device='cuda:3')
diff is  tensor(14.8106, device='cuda:3')
diff is  tensor(0.0155, device='cuda:3')
diff is  tensor(115.7261, device='cuda:3')
diff is  tensor(0.0251, device='cuda:3')
diff is  tensor(0.3630, device='cuda:3')
diff is  tensor(0.0027, device='cuda:3')
threshold is  tensor(89.2820, device='cuda:3')
sum is tensor(0.0027, device='cuda:3')
sum is tensor(0.0099, device='cuda:3')
sum is tensor(0.0254, device='cuda:3')
sum is tensor(0.0505, device='cuda:3')
sum is tensor(0.4135, device='cuda:3')
sum is tensor(1.2184, device='cuda:3')
sum is tensor(16.0290, device='cuda:3')
sum is tensor(131.7551, device='cuda:3')
ratio is tensor(0.3670, device='cuda:3')
threshold is tensor(115.7261, device='cuda:3')
cal diff is tensor(0.8049, device='cuda:3')
discard
cal diff is tensor(0.0072, device='cuda:3')
discard
cal diff is tensor(14.8106, device='cuda:3')
discard
cal diff is tensor(0.0155, device='cuda:3')
discard
cal diff is tensor(115.7261, device='cuda:3')
clipping
cal diff is tensor(0.0251, device='cuda:3')
discard
cal diff is tensor(0.3630, device='cuda:3')
discard
cal diff is tensor(0.0027, device='cuda:3')
discard
________________________________
test distance is  tensor(42.4829, device='cuda:3')
test acc is  0.8625833334896562
test entropy is  0.3396217187108007
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3396217187108007
avg test loss is  0.39146712590763566
avg accuracy is  0.8625833334896562
compute_distance is  tensor(42.4829, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.23461023257421787
avg test loss is  7.150968399637543
avg accuracy is  0.18056666682300193
compute_distance is  tensor(131.5791, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(131.5791, device='cuda:3')
test acc is  0.18056666682300193
test entropy is  0.23461023257421787
________________________________
diff is  tensor(0.8054, device='cuda:3')
diff is  tensor(0.0072, device='cuda:3')
diff is  tensor(14.9310, device='cuda:3')
diff is  tensor(0.0158, device='cuda:3')
diff is  tensor(115.4170, device='cuda:3')
diff is  tensor(0.0250, device='cuda:3')
diff is  tensor(0.3619, device='cuda:3')
diff is  tensor(0.0027, device='cuda:3')
threshold is  tensor(89.0931, device='cuda:3')
sum is tensor(0.0027, device='cuda:3')
sum is tensor(0.0099, device='cuda:3')
sum is tensor(0.0257, device='cuda:3')
sum is tensor(0.0508, device='cuda:3')
sum is tensor(0.4126, device='cuda:3')
sum is tensor(1.2180, device='cuda:3')
sum is tensor(16.1491, device='cuda:3')
sum is tensor(131.5661, device='cuda:3')
ratio is tensor(0.3680, device='cuda:3')
threshold is tensor(115.4170, device='cuda:3')
cal diff is tensor(0.8054, device='cuda:3')
discard
cal diff is tensor(0.0072, device='cuda:3')
discard
cal diff is tensor(14.9310, device='cuda:3')
discard
cal diff is tensor(0.0158, device='cuda:3')
discard
cal diff is tensor(115.4170, device='cuda:3')
clipping
cal diff is tensor(0.0250, device='cuda:3')
discard
cal diff is tensor(0.3619, device='cuda:3')
discard
cal diff is tensor(0.0027, device='cuda:3')
discard
________________________________
test distance is  tensor(42.4828, device='cuda:3')
test acc is  0.8618500001563228
test entropy is  0.340357807319937
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.340357807319937
avg test loss is  0.39317970991388823
avg accuracy is  0.8618500001563228
compute_distance is  tensor(42.4828, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.23456834736409218
avg test loss is  7.154718048282778
avg accuracy is  0.18095000015633528
compute_distance is  tensor(131.4256, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(131.4256, device='cuda:3')
test acc is  0.18095000015633528
test entropy is  0.23456834736409218
________________________________
diff is  tensor(0.8053, device='cuda:3')
diff is  tensor(0.0072, device='cuda:3')
diff is  tensor(14.9868, device='cuda:3')
diff is  tensor(0.0159, device='cuda:3')
diff is  tensor(115.2086, device='cuda:3')
diff is  tensor(0.0250, device='cuda:3')
diff is  tensor(0.3610, device='cuda:3')
diff is  tensor(0.0027, device='cuda:3')
threshold is  tensor(88.9396, device='cuda:3')
sum is tensor(0.0027, device='cuda:3')
sum is tensor(0.0099, device='cuda:3')
sum is tensor(0.0258, device='cuda:3')
sum is tensor(0.0508, device='cuda:3')
sum is tensor(0.4118, device='cuda:3')
sum is tensor(1.2171, device='cuda:3')
sum is tensor(16.2038, device='cuda:3')
sum is tensor(131.4125, device='cuda:3')
ratio is tensor(0.3687, device='cuda:3')
threshold is tensor(115.2086, device='cuda:3')
cal diff is tensor(0.8053, device='cuda:3')
discard
cal diff is tensor(0.0072, device='cuda:3')
discard
cal diff is tensor(14.9868, device='cuda:3')
discard
cal diff is tensor(0.0159, device='cuda:3')
discard
cal diff is tensor(115.2086, device='cuda:3')
clipping
cal diff is tensor(0.0250, device='cuda:3')
discard
cal diff is tensor(0.3610, device='cuda:3')
discard
cal diff is tensor(0.0027, device='cuda:3')
discard
________________________________
test distance is  tensor(42.4828, device='cuda:3')
test acc is  0.8614666668229896
test entropy is  0.34083125298656125
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.34083125298656125
avg test loss is  0.3944799484395142
avg accuracy is  0.8614666668229896
compute_distance is  tensor(42.4828, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.23454665773109332
avg test loss is  7.1566066253922385
avg accuracy is  0.18103333348966863
compute_distance is  tensor(131.3841, device='cuda:3')
++++++++++++++++++++
reach max round
new distance ratio is 0.6147121098285636
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  2
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 55 global rounds:
Train Accuracy: 95.32% 

Test Accuracy: 95.34% 


 | Global Training Round : 56 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.006391835864633322
attack res is True
len of model dicts is  10
compute distance is  tensor(24.8173, device='cuda:3')
compute distance is  tensor(45.0283, device='cuda:3')
compute distance is  tensor(36.9772, device='cuda:3')
compute distance is  tensor(64.0837, device='cuda:3')
compute distance is  tensor(35.3330, device='cuda:3')
compute distance is  tensor(40.3274, device='cuda:3')
compute distance is  tensor(43.5424, device='cuda:3')
compute distance is  tensor(36.1062, device='cuda:3')
compute distance is  tensor(46.0242, device='cuda:3')
compute distance is  tensor(44.3267, device='cuda:3')
calculated distance threshold is  tensor(51.3686, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.1801000001563353
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.4250666668230081
====================
====================
iteration is  0
round is  2
accuracy is  0.18235000015633543
====================
====================
iteration is  1
round is  0
accuracy is  0.25358333348967177
====================
====================
iteration is  1
round is  1
accuracy is  0.31176666682300647
====================
________________________________
test distance is  tensor(4283.6260, device='cuda:3')
test acc is  0.1801000001563353
test entropy is  0.14559483072603308
________________________________
diff is  tensor(44.4679, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3765, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.4921, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5120, device='cuda:3', dtype=torch.float64)
diff is  tensor(3643.3643, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0112, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.1963, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2058, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4232.2573, device='cuda:3')
sum is tensor(0.2058, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5822, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0943, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1055, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3017, device='cuda:3', dtype=torch.float64)
sum is tensor(67.7696, device='cuda:3', dtype=torch.float64)
sum is tensor(640.2618, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.6261, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0141, device='cuda:3', dtype=torch.float64)
threshold is tensor(3643.3643, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.4679, device='cuda:3')
discard
cal diff is tensor(0.3765, device='cuda:3')
discard
cal diff is tensor(572.4921, device='cuda:3')
discard
cal diff is tensor(0.5120, device='cuda:3')
discard
cal diff is tensor(3643.3643, device='cuda:3')
discard
cal diff is tensor(2.0112, device='cuda:3')
discard
cal diff is tensor(20.1963, device='cuda:3')
discard
cal diff is tensor(0.2058, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9497500001563197
test entropy is  0.16525931746117087
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.16525931746117087
avg test loss is  0.15114291057463236
avg accuracy is  0.9497500001563197
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.12883244717775633
avg test loss is  8.905396535198317
avg accuracy is  0.17521666682300172
compute_distance is  tensor(97.8182, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(97.8182, device='cuda:3')
test acc is  0.17521666682300172
test entropy is  0.12883244717775633
________________________________
diff is  tensor(0.7069, device='cuda:3')
diff is  tensor(0.0058, device='cuda:3')
diff is  tensor(14.8829, device='cuda:3')
diff is  tensor(0.0153, device='cuda:3')
diff is  tensor(81.7543, device='cuda:3')
diff is  tensor(0.0300, device='cuda:3')
diff is  tensor(0.4077, device='cuda:3')
diff is  tensor(0.0029, device='cuda:3')
threshold is  tensor(46.4496, device='cuda:3')
sum is tensor(0.0029, device='cuda:3')
sum is tensor(0.0087, device='cuda:3')
sum is tensor(0.0240, device='cuda:3')
sum is tensor(0.0540, device='cuda:3')
sum is tensor(0.4616, device='cuda:3')
sum is tensor(1.1685, device='cuda:3')
sum is tensor(16.0515, device='cuda:3')
sum is tensor(97.8058, device='cuda:3')
ratio is tensor(0.6282, device='cuda:3')
threshold is tensor(81.7543, device='cuda:3')
cal diff is tensor(0.7069, device='cuda:3')
discard
cal diff is tensor(0.0058, device='cuda:3')
discard
cal diff is tensor(14.8829, device='cuda:3')
discard
cal diff is tensor(0.0153, device='cuda:3')
discard
cal diff is tensor(81.7543, device='cuda:3')
clipping
cal diff is tensor(0.0300, device='cuda:3')
discard
cal diff is tensor(0.4077, device='cuda:3')
discard
cal diff is tensor(0.0029, device='cuda:3')
discard
________________________________
test distance is  tensor(51.3655, device='cuda:3')
test acc is  0.6576000001563336
test entropy is  0.33857327947484406
________________________________
new distance ratio is 0.6761833208114201
current aggregation staleness i is  4
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 56 global rounds:
Train Accuracy: 95.47% 

Test Accuracy: 95.51% 


 | Global Training Round : 57 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0064886328764259815
attack res is True
len of model dicts is  10
compute distance is  tensor(22.6798, device='cuda:3')
compute distance is  tensor(47.0509, device='cuda:3')
compute distance is  tensor(46.4226, device='cuda:3')
compute distance is  tensor(51.3499, device='cuda:3')
compute distance is  tensor(41.1205, device='cuda:3')
compute distance is  tensor(44.4078, device='cuda:3')
compute distance is  tensor(49.7203, device='cuda:3')
compute distance is  tensor(53.7523, device='cuda:3')
compute distance is  tensor(89.2517, device='cuda:3')
compute distance is  tensor(39.3244, device='cuda:3')
calculated distance threshold is  tensor(72.1961, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.288966666823006
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.1767666668230017
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.3342666668230068
====================
====================
iteration is  1
round is  0
accuracy is  0.26658333348967206
====================
====================
iteration is  1
round is  1
accuracy is  0.2231500001563373
====================
________________________________
test distance is  tensor(4285.5869, device='cuda:3')
test acc is  0.1767666668230017
test entropy is  0.10942816636018725
________________________________
diff is  tensor(45.3421, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3611, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.7517, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5720, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.9728, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9817, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3948, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2104, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4213.3906, device='cuda:3')
sum is tensor(0.2104, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5715, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1434, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1251, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5199, device='cuda:3', dtype=torch.float64)
sum is tensor(68.8620, device='cuda:3', dtype=torch.float64)
sum is tensor(643.6137, device='cuda:3', dtype=torch.float64)
sum is tensor(4285.5866, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0198, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.9728, device='cuda:3', dtype=torch.float64)
cal diff is tensor(45.3421, device='cuda:3')
discard
cal diff is tensor(0.3611, device='cuda:3')
discard
cal diff is tensor(574.7517, device='cuda:3')
discard
cal diff is tensor(0.5720, device='cuda:3')
discard
cal diff is tensor(3641.9729, device='cuda:3')
clipping
cal diff is tensor(1.9817, device='cuda:3')
discard
cal diff is tensor(20.3948, device='cuda:3')
discard
cal diff is tensor(0.2104, device='cuda:3')
discard
________________________________
test distance is  tensor(72.2062, device='cuda:3')
test acc is  0.9511000001563196
test entropy is  0.16338270775942024
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(72.1959, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0101, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0139, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(72.1960, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(1.0177, device='cuda:3')
test acc is  0.950933333489653
test entropy is  0.16405574265303516
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.16405574265303516
avg test loss is  0.1473376460895657
avg accuracy is  0.950933333489653
compute_distance is  tensor(1.0177, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.08029031629628464
avg test loss is  8.736489305109865
avg accuracy is  0.15885000015633385
compute_distance is  tensor(95.7037, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(95.7037, device='cuda:3')
test acc is  0.15885000015633385
test entropy is  0.08029031629628464
________________________________
diff is  tensor(0.7032, device='cuda:3')
diff is  tensor(0.0061, device='cuda:3')
diff is  tensor(13.7584, device='cuda:3')
diff is  tensor(0.0145, device='cuda:3')
diff is  tensor(80.7977, device='cuda:3')
diff is  tensor(0.0299, device='cuda:3')
diff is  tensor(0.3804, device='cuda:3')
diff is  tensor(0.0028, device='cuda:3')
threshold is  tensor(23.5077, device='cuda:3')
sum is tensor(0.0028, device='cuda:3')
sum is tensor(0.0089, device='cuda:3')
sum is tensor(0.0234, device='cuda:3')
sum is tensor(0.0533, device='cuda:3')
sum is tensor(0.4337, device='cuda:3')
sum is tensor(1.1369, device='cuda:3')
sum is tensor(14.8953, device='cuda:3')
sum is tensor(95.6931, device='cuda:3')
ratio is tensor(0.8934, device='cuda:3')
threshold is tensor(80.7977, device='cuda:3')
cal diff is tensor(0.7032, device='cuda:3')
discard
cal diff is tensor(0.0061, device='cuda:3')
discard
cal diff is tensor(13.7584, device='cuda:3')
discard
cal diff is tensor(0.0145, device='cuda:3')
discard
cal diff is tensor(80.7977, device='cuda:3')
clipping
cal diff is tensor(0.0299, device='cuda:3')
discard
cal diff is tensor(0.3804, device='cuda:3')
discard
cal diff is tensor(0.0028, device='cuda:3')
discard
________________________________
test distance is  tensor(72.1927, device='cuda:3')
test acc is  0.3788833334896741
test entropy is  0.2931318225891097
________________________________
new distance ratio is 0.7438016528925622
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  3
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 57 global rounds:
Train Accuracy: 95.38% 

Test Accuracy: 95.30% 


 | Global Training Round : 58 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0066744782961905
attack res is True
len of model dicts is  10
compute distance is  tensor(21.0128, device='cuda:3')
compute distance is  tensor(45.2551, device='cuda:3')
compute distance is  tensor(52.6801, device='cuda:3')
compute distance is  tensor(42.3925, device='cuda:3')
compute distance is  tensor(33.7458, device='cuda:3')
compute distance is  tensor(39.7133, device='cuda:3')
compute distance is  tensor(59.8903, device='cuda:3')
compute distance is  tensor(28.2375, device='cuda:3')
compute distance is  tensor(45.8520, device='cuda:3')
compute distance is  tensor(64.2080, device='cuda:3')
calculated distance threshold is  tensor(56.3543, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.24288333348967125
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.31031666682300646
====================
====================
iteration is  0
round is  2
accuracy is  0.4605500001563418
====================
====================
iteration is  1
round is  0
accuracy is  0.1699000001563346
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.3637666668230073
====================
________________________________
test distance is  tensor(4282.0254, device='cuda:3')
test acc is  0.1699000001563346
test entropy is  0.14831833068384673
________________________________
diff is  tensor(45.4765, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3470, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.0217, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5244, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.0257, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0268, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3728, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2305, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4225.6709, device='cuda:3')
sum is tensor(0.2305, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5776, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1020, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1288, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5016, device='cuda:3', dtype=torch.float64)
sum is tensor(68.9781, device='cuda:3', dtype=torch.float64)
sum is tensor(639.9998, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.0255, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0155, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.0257, device='cuda:3', dtype=torch.float64)
cal diff is tensor(45.4765, device='cuda:3')
discard
cal diff is tensor(0.3470, device='cuda:3')
discard
cal diff is tensor(571.0217, device='cuda:3')
discard
cal diff is tensor(0.5244, device='cuda:3')
discard
cal diff is tensor(3642.0259, device='cuda:3')
clipping
cal diff is tensor(2.0268, device='cuda:3')
discard
cal diff is tensor(20.3728, device='cuda:3')
discard
cal diff is tensor(0.2305, device='cuda:3')
discard
________________________________
test distance is  tensor(56.3649, device='cuda:3')
test acc is  0.9497500001563197
test entropy is  0.168425271692656
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(56.3547, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0106, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(56.3649, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(56.3547, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(56.3547, device='cuda:3')
discard
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.950283333489653
test entropy is  0.16755046572750693
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.16755046572750693
avg test loss is  0.1500147094648244
avg accuracy is  0.950283333489653
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.15460749915731486
avg test loss is  9.539462664996638
avg accuracy is  0.17371666682300152
compute_distance is  tensor(103.3392, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(103.3392, device='cuda:3')
test acc is  0.17371666682300152
test entropy is  0.15460749915731486
________________________________
diff is  tensor(0.8291, device='cuda:3')
diff is  tensor(0.0074, device='cuda:3')
diff is  tensor(16.8425, device='cuda:3')
diff is  tensor(0.0165, device='cuda:3')
diff is  tensor(85.1656, device='cuda:3')
diff is  tensor(0.0338, device='cuda:3')
diff is  tensor(0.4293, device='cuda:3')
diff is  tensor(0.0035, device='cuda:3')
threshold is  tensor(46.9849, device='cuda:3')
sum is tensor(0.0035, device='cuda:3')
sum is tensor(0.0110, device='cuda:3')
sum is tensor(0.0274, device='cuda:3')
sum is tensor(0.0613, device='cuda:3')
sum is tensor(0.4906, device='cuda:3')
sum is tensor(1.3197, device='cuda:3')
sum is tensor(18.1622, device='cuda:3')
sum is tensor(103.3278, device='cuda:3')
ratio is tensor(0.6616, device='cuda:3')
threshold is tensor(85.1656, device='cuda:3')
cal diff is tensor(0.8291, device='cuda:3')
discard
cal diff is tensor(0.0074, device='cuda:3')
discard
cal diff is tensor(16.8425, device='cuda:3')
discard
cal diff is tensor(0.0165, device='cuda:3')
discard
cal diff is tensor(85.1656, device='cuda:3')
clipping
cal diff is tensor(0.0338, device='cuda:3')
discard
cal diff is tensor(0.4293, device='cuda:3')
discard
cal diff is tensor(0.0035, device='cuda:3')
discard
________________________________
test distance is  tensor(56.3509, device='cuda:3')
test acc is  0.6714666668229995
test entropy is  0.4356598724116649
________________________________
new distance ratio is 0.8181818181818185
current aggregation staleness i is  2
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 58 global rounds:
Train Accuracy: 95.42% 

Test Accuracy: 95.39% 


 | Global Training Round : 59 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.006878364831209183
attack res is True
len of model dicts is  10
compute distance is  tensor(29.5662, device='cuda:3')
compute distance is  tensor(40.0099, device='cuda:3')
compute distance is  tensor(64.9370, device='cuda:3')
compute distance is  tensor(28.0032, device='cuda:3')
compute distance is  tensor(43.3170, device='cuda:3')
compute distance is  tensor(30.8676, device='cuda:3')
compute distance is  tensor(70.7384, device='cuda:3')
compute distance is  tensor(32.6886, device='cuda:3')
compute distance is  tensor(50.6877, device='cuda:3')
compute distance is  tensor(64.5444, device='cuda:3')
calculated distance threshold is  tensor(66.4649, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.29105000015633936
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.33730000015634026
====================
====================
iteration is  0
round is  2
accuracy is  0.3478833334896736
====================
====================
iteration is  1
round is  0
accuracy is  0.19785000015633622
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.38285000015634085
====================
________________________________
test distance is  tensor(4285.6763, device='cuda:3')
test acc is  0.19785000015633622
test entropy is  0.20305741585489276
________________________________
diff is  tensor(44.6212, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3457, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.4920, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5265, device='cuda:3', dtype=torch.float64)
diff is  tensor(3643.1695, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0214, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3043, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1957, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4219.2114, device='cuda:3')
sum is tensor(0.1957, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5413, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0679, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0893, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3936, device='cuda:3', dtype=torch.float64)
sum is tensor(68.0148, device='cuda:3', dtype=torch.float64)
sum is tensor(642.5068, device='cuda:3', dtype=torch.float64)
sum is tensor(4285.6763, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0182, device='cuda:3', dtype=torch.float64)
threshold is tensor(3643.1695, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.6212, device='cuda:3')
discard
cal diff is tensor(0.3457, device='cuda:3')
discard
cal diff is tensor(574.4919, device='cuda:3')
discard
cal diff is tensor(0.5265, device='cuda:3')
discard
cal diff is tensor(3643.1694, device='cuda:3')
discard
cal diff is tensor(2.0214, device='cuda:3')
discard
cal diff is tensor(20.3043, device='cuda:3')
discard
cal diff is tensor(0.1957, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.949933333489653
test entropy is  0.16937963979473628
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.16937963979473628
avg test loss is  0.15040227892433308
avg accuracy is  0.949933333489653
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.20426960233876953
avg test loss is  7.850245461026743
avg accuracy is  0.19423333348966937
compute_distance is  tensor(95.8499, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(95.8499, device='cuda:3')
test acc is  0.19423333348966937
test entropy is  0.20426960233876953
________________________________
diff is  tensor(0.7194, device='cuda:3')
diff is  tensor(0.0062, device='cuda:3')
diff is  tensor(14.8613, device='cuda:3')
diff is  tensor(0.0146, device='cuda:3')
diff is  tensor(79.8236, device='cuda:3')
diff is  tensor(0.0303, device='cuda:3')
diff is  tensor(0.3769, device='cuda:3')
diff is  tensor(0.0029, device='cuda:3')
threshold is  tensor(29.3850, device='cuda:3')
sum is tensor(0.0029, device='cuda:3')
sum is tensor(0.0091, device='cuda:3')
sum is tensor(0.0237, device='cuda:3')
sum is tensor(0.0540, device='cuda:3')
sum is tensor(0.4309, device='cuda:3')
sum is tensor(1.1503, device='cuda:3')
sum is tensor(16.0116, device='cuda:3')
sum is tensor(95.8352, device='cuda:3')
ratio is tensor(0.8325, device='cuda:3')
threshold is tensor(79.8236, device='cuda:3')
cal diff is tensor(0.7194, device='cuda:3')
discard
cal diff is tensor(0.0062, device='cuda:3')
discard
cal diff is tensor(14.8613, device='cuda:3')
discard
cal diff is tensor(0.0146, device='cuda:3')
discard
cal diff is tensor(79.8236, device='cuda:3')
clipping
cal diff is tensor(0.0303, device='cuda:3')
discard
cal diff is tensor(0.3769, device='cuda:3')
discard
cal diff is tensor(0.0029, device='cuda:3')
discard
________________________________
test distance is  tensor(66.4607, device='cuda:3')
test acc is  0.4876833334896753
test entropy is  0.46247778369038345
________________________________
new distance ratio is 0.9000000000000004
current aggregation staleness i is  1
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 59 global rounds:
Train Accuracy: 94.97% 

Test Accuracy: 94.95% 


 | Global Training Round : 60 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007227388676255941
attack res is True
len of model dicts is  10
compute distance is  tensor(26.8700, device='cuda:3')
compute distance is  tensor(39.3499, device='cuda:3')
compute distance is  tensor(64.0848, device='cuda:3')
compute distance is  tensor(41.2584, device='cuda:3')
compute distance is  tensor(48.0236, device='cuda:3')
compute distance is  tensor(53.1540, device='cuda:3')
compute distance is  tensor(65.7583, device='cuda:3')
compute distance is  tensor(53.1861, device='cuda:3')
compute distance is  tensor(71.5821, device='cuda:3')
compute distance is  tensor(67.8072, device='cuda:3')
calculated distance threshold is  tensor(71.1350, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.2563166668230051
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.18608333348966882
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.3692000001563407
====================
====================
iteration is  1
round is  0
accuracy is  0.36888333348967395
====================
====================
iteration is  1
round is  1
accuracy is  0.144883333489666
====================
succ_min + 1
________________________________
test distance is  tensor(4283.2280, device='cuda:3')
test acc is  0.144883333489666
test entropy is  0.07933232257925053
________________________________
diff is  tensor(44.8948, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4035, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.1491, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5273, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.6750, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0362, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3281, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2144, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4212.0933, device='cuda:3')
sum is tensor(0.2144, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6179, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1452, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1814, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5095, device='cuda:3', dtype=torch.float64)
sum is tensor(68.4043, device='cuda:3', dtype=torch.float64)
sum is tensor(642.5534, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.2285, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0195, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.6750, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.8948, device='cuda:3')
discard
cal diff is tensor(0.4035, device='cuda:3')
discard
cal diff is tensor(574.1491, device='cuda:3')
discard
cal diff is tensor(0.5273, device='cuda:3')
discard
cal diff is tensor(3640.6748, device='cuda:3')
discard
cal diff is tensor(2.0362, device='cuda:3')
discard
cal diff is tensor(20.3281, device='cuda:3')
discard
cal diff is tensor(0.2144, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9456833334896532
test entropy is  0.17886738585574286
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.17886738585574286
avg test loss is  0.16403191994184624
avg accuracy is  0.9456833334896532
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.06916472854327037
avg test loss is  11.287596090516047
avg accuracy is  0.14448333348966602
compute_distance is  tensor(99.5958, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(99.5958, device='cuda:3')
test acc is  0.14448333348966602
test entropy is  0.06916472854327037
________________________________
diff is  tensor(0.7576, device='cuda:3')
diff is  tensor(0.0075, device='cuda:3')
diff is  tensor(15.5301, device='cuda:3')
diff is  tensor(0.0163, device='cuda:3')
diff is  tensor(82.7894, device='cuda:3')
diff is  tensor(0.0332, device='cuda:3')
diff is  tensor(0.4502, device='cuda:3')
diff is  tensor(0.0039, device='cuda:3')
threshold is  tensor(28.4609, device='cuda:3')
sum is tensor(0.0039, device='cuda:3')
sum is tensor(0.0115, device='cuda:3')
sum is tensor(0.0277, device='cuda:3')
sum is tensor(0.0609, device='cuda:3')
sum is tensor(0.5112, device='cuda:3')
sum is tensor(1.2687, device='cuda:3')
sum is tensor(16.7989, device='cuda:3')
sum is tensor(99.5883, device='cuda:3')
ratio is tensor(0.8591, device='cuda:3')
threshold is tensor(82.7894, device='cuda:3')
cal diff is tensor(0.7576, device='cuda:3')
discard
cal diff is tensor(0.0075, device='cuda:3')
discard
cal diff is tensor(15.5301, device='cuda:3')
discard
cal diff is tensor(0.0163, device='cuda:3')
discard
cal diff is tensor(82.7894, device='cuda:3')
clipping
cal diff is tensor(0.0332, device='cuda:3')
discard
cal diff is tensor(0.4502, device='cuda:3')
discard
cal diff is tensor(0.0039, device='cuda:3')
discard
________________________________
test distance is  tensor(71.1324, device='cuda:3')
test acc is  0.30160000015633953
test entropy is  0.33117552022181596
________________________________
new distance ratio is 0.9900000000000004
num2 of attacker is  0
the length of epoch_weights is  4
 
Avg Training Stats after 60 global rounds:
Train Accuracy: 95.18% 

Test Accuracy: 95.22% 


 | Global Training Round : 61 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.00715927267447114
attack res is True
len of model dicts is  10
compute distance is  tensor(32.0173, device='cuda:3')
compute distance is  tensor(36.6964, device='cuda:3')
compute distance is  tensor(60.5585, device='cuda:3')
compute distance is  tensor(33.9919, device='cuda:3')
compute distance is  tensor(37.0198, device='cuda:3')
compute distance is  tensor(49.0310, device='cuda:3')
compute distance is  tensor(66.7696, device='cuda:3')
compute distance is  tensor(30.2330, device='cuda:3')
compute distance is  tensor(58.7784, device='cuda:3')
compute distance is  tensor(62.8081, device='cuda:3')
calculated distance threshold is  tensor(70.0214, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.15908333348966716
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.4316833334896748
====================
====================
iteration is  0
round is  2
accuracy is  0.14880000015633307
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.390250000156341
====================
====================
iteration is  1
round is  1
accuracy is  0.1902833334896691
====================
________________________________
test distance is  tensor(4282.1323, device='cuda:3')
test acc is  0.14880000015633307
test entropy is  0.17311951227343159
________________________________
diff is  tensor(44.3815, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3738, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.1736, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4667, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.0917, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0523, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3322, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2609, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4212.1108, device='cuda:3')
sum is tensor(0.2609, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6348, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1015, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1538, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4860, device='cuda:3', dtype=torch.float64)
sum is tensor(67.8675, device='cuda:3', dtype=torch.float64)
sum is tensor(640.0410, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.1327, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0192, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.0917, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.3815, device='cuda:3')
discard
cal diff is tensor(0.3738, device='cuda:3')
discard
cal diff is tensor(572.1736, device='cuda:3')
discard
cal diff is tensor(0.4667, device='cuda:3')
discard
cal diff is tensor(3642.0918, device='cuda:3')
clipping
cal diff is tensor(2.0523, device='cuda:3')
discard
cal diff is tensor(20.3322, device='cuda:3')
discard
cal diff is tensor(0.2609, device='cuda:3')
discard
________________________________
test distance is  tensor(70.0321, device='cuda:3')
test acc is  0.9483833334896531
test entropy is  0.173305791069958
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(70.0219, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0107, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(70.0321, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(70.0219, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(70.0219, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(70.0316, device='cuda:3')
test acc is  0.9483833334896531
test entropy is  0.1733057824001193
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(70.0214, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0004, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(70.0214, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0755, device='cuda:3')
test acc is  0.9476666668229864
test entropy is  0.17480287961026372
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.17480287961026372
avg test loss is  0.15613609180747987
avg accuracy is  0.9476666668229864
compute_distance is  tensor(0.0755, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.15011809312148708
avg test loss is  8.629516459731406
avg accuracy is  0.11725000015633194
compute_distance is  tensor(99.0568, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(99.0568, device='cuda:3')
test acc is  0.11725000015633194
test entropy is  0.15011809312148708
________________________________
diff is  tensor(0.7949, device='cuda:3')
diff is  tensor(0.0069, device='cuda:3')
diff is  tensor(15.1112, device='cuda:3')
diff is  tensor(0.0154, device='cuda:3')
diff is  tensor(82.6503, device='cuda:3')
diff is  tensor(0.0315, device='cuda:3')
diff is  tensor(0.4306, device='cuda:3')
diff is  tensor(0.0035, device='cuda:3')
threshold is  tensor(29.0354, device='cuda:3')
sum is tensor(0.0035, device='cuda:3')
sum is tensor(0.0104, device='cuda:3')
sum is tensor(0.0258, device='cuda:3')
sum is tensor(0.0573, device='cuda:3')
sum is tensor(0.4879, device='cuda:3')
sum is tensor(1.2828, device='cuda:3')
sum is tensor(16.3940, device='cuda:3')
sum is tensor(99.0443, device='cuda:3')
ratio is tensor(0.8470, device='cuda:3')
threshold is tensor(82.6503, device='cuda:3')
cal diff is tensor(0.7949, device='cuda:3')
discard
cal diff is tensor(0.0069, device='cuda:3')
discard
cal diff is tensor(15.1112, device='cuda:3')
discard
cal diff is tensor(0.0154, device='cuda:3')
discard
cal diff is tensor(82.6503, device='cuda:3')
clipping
cal diff is tensor(0.0315, device='cuda:3')
discard
cal diff is tensor(0.4306, device='cuda:3')
discard
cal diff is tensor(0.0035, device='cuda:3')
discard
________________________________
test distance is  tensor(70.0183, device='cuda:3')
test acc is  0.4795666668230086
test entropy is  0.4092275950509602
________________________________
new distance ratio is 1.0890000000000006
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  2
num1 of attacker is  0
current aggregation staleness i is  3
num1 of attacker is  0
current aggregation staleness i is  4
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 61 global rounds:
Train Accuracy: 95.13% 

Test Accuracy: 95.04% 


 | Global Training Round : 62 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0073388731107115746
attack res is True
len of model dicts is  10
compute distance is  tensor(28.9316, device='cuda:3')
compute distance is  tensor(38.1257, device='cuda:3')
compute distance is  tensor(39.4199, device='cuda:3')
compute distance is  tensor(42.5028, device='cuda:3')
compute distance is  tensor(47.1762, device='cuda:3')
compute distance is  tensor(43.4926, device='cuda:3')
compute distance is  tensor(41.2357, device='cuda:3')
compute distance is  tensor(44.3307, device='cuda:3')
compute distance is  tensor(63.4200, device='cuda:3')
compute distance is  tensor(62.7239, device='cuda:3')
calculated distance threshold is  tensor(70.2452, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.2539833334896716
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.35211666682300713
====================
====================
iteration is  0
round is  2
accuracy is  0.3051500001563396
====================
====================
iteration is  1
round is  0
accuracy is  0.2781333334896724
====================
====================
iteration is  1
round is  1
accuracy is  0.4821166668230086
====================
________________________________
test distance is  tensor(4279.7241, device='cuda:3')
test acc is  0.2539833334896716
test entropy is  0.3406751085636712
________________________________
diff is  tensor(42.5764, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3513, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.0961, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5290, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.6227, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0264, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3062, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2163, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4209.4790, device='cuda:3')
sum is tensor(0.2163, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5676, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0966, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1230, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4292, device='cuda:3', dtype=torch.float64)
sum is tensor(66.0056, device='cuda:3', dtype=torch.float64)
sum is tensor(637.1017, device='cuda:3', dtype=torch.float64)
sum is tensor(4279.7243, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0193, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.6227, device='cuda:3', dtype=torch.float64)
cal diff is tensor(42.5764, device='cuda:3')
discard
cal diff is tensor(0.3513, device='cuda:3')
discard
cal diff is tensor(571.0961, device='cuda:3')
discard
cal diff is tensor(0.5290, device='cuda:3')
discard
cal diff is tensor(3642.6226, device='cuda:3')
discard
cal diff is tensor(2.0264, device='cuda:3')
discard
cal diff is tensor(20.3062, device='cuda:3')
discard
cal diff is tensor(0.2163, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9472666668229865
test entropy is  0.178400169096903
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.178400169096903
avg test loss is  0.15980169050363716
avg accuracy is  0.9472666668229865
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.33190289791077693
avg test loss is  4.892504422395214
avg accuracy is  0.2635666668230052
compute_distance is  tensor(98.8988, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(98.8988, device='cuda:3')
test acc is  0.2635666668230052
test entropy is  0.33190289791077693
________________________________
diff is  tensor(0.8202, device='cuda:3')
diff is  tensor(0.0070, device='cuda:3')
diff is  tensor(15.3758, device='cuda:3')
diff is  tensor(0.0163, device='cuda:3')
diff is  tensor(82.2704, device='cuda:3')
diff is  tensor(0.0293, device='cuda:3')
diff is  tensor(0.3695, device='cuda:3')
diff is  tensor(0.0028, device='cuda:3')
threshold is  tensor(28.6536, device='cuda:3')
sum is tensor(0.0028, device='cuda:3')
sum is tensor(0.0098, device='cuda:3')
sum is tensor(0.0261, device='cuda:3')
sum is tensor(0.0553, device='cuda:3')
sum is tensor(0.4248, device='cuda:3')
sum is tensor(1.2450, device='cuda:3')
sum is tensor(16.6208, device='cuda:3')
sum is tensor(98.8912, device='cuda:3')
ratio is tensor(0.8537, device='cuda:3')
threshold is tensor(82.2704, device='cuda:3')
cal diff is tensor(0.8202, device='cuda:3')
discard
cal diff is tensor(0.0070, device='cuda:3')
discard
cal diff is tensor(15.3758, device='cuda:3')
discard
cal diff is tensor(0.0163, device='cuda:3')
discard
cal diff is tensor(82.2704, device='cuda:3')
clipping
cal diff is tensor(0.0293, device='cuda:3')
discard
cal diff is tensor(0.3695, device='cuda:3')
discard
cal diff is tensor(0.0028, device='cuda:3')
discard
________________________________
test distance is  tensor(70.2437, device='cuda:3')
test acc is  0.6765333334896655
test entropy is  0.49514735447191227
________________________________
new distance ratio is 1.1979000000000009
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 62 global rounds:
Train Accuracy: 95.21% 

Test Accuracy: 95.09% 


 | Global Training Round : 63 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007501010783016682
attack res is True
len of model dicts is  10
compute distance is  tensor(19.9342, device='cuda:3')
compute distance is  tensor(36.4598, device='cuda:3')
compute distance is  tensor(56.4862, device='cuda:3')
compute distance is  tensor(59.5057, device='cuda:3')
compute distance is  tensor(32.2662, device='cuda:3')
compute distance is  tensor(54.9283, device='cuda:3')
compute distance is  tensor(72.9130, device='cuda:3')
compute distance is  tensor(49.2663, device='cuda:3')
compute distance is  tensor(53.2938, device='cuda:3')
compute distance is  tensor(43.9590, device='cuda:3')
calculated distance threshold is  tensor(89.7439, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.3248500001563401
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2984833334896729
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.3898166668230076
====================
====================
iteration is  1
round is  0
accuracy is  0.37028333348967407
====================
====================
iteration is  1
round is  1
accuracy is  0.5028833334896754
====================
________________________________
test distance is  tensor(4283.1318, device='cuda:3')
test acc is  0.2984833334896729
test entropy is  0.31519446469573326
________________________________
diff is  tensor(43.3542, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3659, device='cuda:3', dtype=torch.float64)
diff is  tensor(575.1081, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5212, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.2608, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0214, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3119, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1878, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4193.3882, device='cuda:3')
sum is tensor(0.1878, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5537, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0749, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0962, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4081, device='cuda:3', dtype=torch.float64)
sum is tensor(66.7623, device='cuda:3', dtype=torch.float64)
sum is tensor(641.8704, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.1312, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0246, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.2608, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.3542, device='cuda:3')
discard
cal diff is tensor(0.3659, device='cuda:3')
discard
cal diff is tensor(575.1081, device='cuda:3')
discard
cal diff is tensor(0.5212, device='cuda:3')
discard
cal diff is tensor(3641.2607, device='cuda:3')
discard
cal diff is tensor(2.0214, device='cuda:3')
discard
cal diff is tensor(20.3119, device='cuda:3')
discard
cal diff is tensor(0.1878, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.947833333489653
test entropy is  0.1803416609565523
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.1803416609565523
avg test loss is  0.1590727172674798
avg accuracy is  0.947833333489653
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3539107563589682
avg test loss is  5.111051205124682
avg accuracy is  0.30931666682300635
compute_distance is  tensor(99.7285, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(99.7285, device='cuda:3')
test acc is  0.30931666682300635
test entropy is  0.3539107563589682
________________________________
diff is  tensor(0.7805, device='cuda:3')
diff is  tensor(0.0076, device='cuda:3')
diff is  tensor(16.0602, device='cuda:3')
diff is  tensor(0.0159, device='cuda:3')
diff is  tensor(82.4438, device='cuda:3')
diff is  tensor(0.0300, device='cuda:3')
diff is  tensor(0.3729, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(9.9846, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0106, device='cuda:3')
sum is tensor(0.0265, device='cuda:3')
sum is tensor(0.0565, device='cuda:3')
sum is tensor(0.4294, device='cuda:3')
sum is tensor(1.2099, device='cuda:3')
sum is tensor(17.2701, device='cuda:3')
ratio is tensor(0.4536, device='cuda:3')
threshold is tensor(16.0602, device='cuda:3')
cal diff is tensor(0.7805, device='cuda:3')
discard
cal diff is tensor(0.0076, device='cuda:3')
discard
cal diff is tensor(16.0602, device='cuda:3')
clipping
cal diff is tensor(0.0159, device='cuda:3')
discard
cal diff is tensor(82.4438, device='cuda:3')
clipping
cal diff is tensor(0.0300, device='cuda:3')
discard
cal diff is tensor(0.3729, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(44.6963, device='cuda:3')
test acc is  0.7644833334896606
test entropy is  0.34517040022654827
________________________________
new distance ratio is 1.3176900000000011
current aggregation staleness i is  1
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 63 global rounds:
Train Accuracy: 95.15% 

Test Accuracy: 95.01% 


 | Global Training Round : 64 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.00761700514703989
attack res is True
len of model dicts is  10
compute distance is  tensor(24.9599, device='cuda:3')
compute distance is  tensor(32.2003, device='cuda:3')
compute distance is  tensor(51.6675, device='cuda:3')
compute distance is  tensor(55.0225, device='cuda:3')
compute distance is  tensor(34.9290, device='cuda:3')
compute distance is  tensor(26.5038, device='cuda:3')
compute distance is  tensor(75.1383, device='cuda:3')
compute distance is  tensor(38.6007, device='cuda:3')
compute distance is  tensor(56.0495, device='cuda:3')
compute distance is  tensor(44.9540, device='cuda:3')
calculated distance threshold is  tensor(97.6914, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.23805000015633776
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.12105000015633194
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.36840000015634067
====================
====================
iteration is  1
round is  0
accuracy is  0.23418333348967102
====================
====================
iteration is  1
round is  1
accuracy is  0.29028333348967256
====================
________________________________
test distance is  tensor(4280.9976, device='cuda:3')
test acc is  0.12105000015633194
test entropy is  0.057190581579317355
________________________________
diff is  tensor(43.5841, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3379, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.5739, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5021, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.3982, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0160, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3765, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2083, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4183.3062, device='cuda:3')
sum is tensor(0.2083, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5462, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0483, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0643, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4408, device='cuda:3', dtype=torch.float64)
sum is tensor(67.0249, device='cuda:3', dtype=torch.float64)
sum is tensor(639.5988, device='cuda:3', dtype=torch.float64)
sum is tensor(4280.9970, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0268, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.3982, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.5841, device='cuda:3')
discard
cal diff is tensor(0.3379, device='cuda:3')
discard
cal diff is tensor(572.5739, device='cuda:3')
discard
cal diff is tensor(0.5021, device='cuda:3')
discard
cal diff is tensor(3641.3984, device='cuda:3')
clipping
cal diff is tensor(2.0160, device='cuda:3')
discard
cal diff is tensor(20.3765, device='cuda:3')
discard
cal diff is tensor(0.2083, device='cuda:3')
discard
________________________________
test distance is  tensor(97.7011, device='cuda:3')
test acc is  0.9467500001563198
test entropy is  0.1847652924864658
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(97.6908, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0097, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0569, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(97.6908, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(5.5713, device='cuda:3')
test acc is  0.9469166668229865
test entropy is  0.182935848601782
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.182935848601782
avg test loss is  0.1619660879946006
avg accuracy is  0.9469166668229865
compute_distance is  tensor(5.5713, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.03429534104960496
avg test loss is  10.858209277521064
avg accuracy is  0.1081333334896653
compute_distance is  tensor(93.2957, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(93.2957, device='cuda:3')
test acc is  0.1081333334896653
test entropy is  0.03429534104960496
________________________________
new distance ratio is 1.4494590000000014
current aggregation staleness i is  2
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 64 global rounds:
Train Accuracy: 95.24% 

Test Accuracy: 95.16% 


 | Global Training Round : 65 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0075553650967776775
attack res is True
len of model dicts is  10
compute distance is  tensor(25.3542, device='cuda:3')
compute distance is  tensor(50.9968, device='cuda:3')
compute distance is  tensor(72.2789, device='cuda:3')
compute distance is  tensor(57.1901, device='cuda:3')
compute distance is  tensor(41.4788, device='cuda:3')
compute distance is  tensor(38.7695, device='cuda:3')
compute distance is  tensor(52.3702, device='cuda:3')
compute distance is  tensor(28.8177, device='cuda:3')
compute distance is  tensor(63.2258, device='cuda:3')
compute distance is  tensor(45.8539, device='cuda:3')
calculated distance threshold is  tensor(100.1712, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.3055500001563396
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.36035000015634056
====================
====================
iteration is  0
round is  2
accuracy is  0.31745000015633984
====================
====================
iteration is  1
round is  0
accuracy is  0.2211333334896706
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.32201666682300656
====================
________________________________
test distance is  tensor(4283.6123, device='cuda:3')
test acc is  0.2211333334896706
test entropy is  0.23743199958984276
________________________________
diff is  tensor(45.5590, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3168, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.7929, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4585, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.8971, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0279, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3119, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2484, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4183.4409, device='cuda:3')
sum is tensor(0.2484, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5652, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0237, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0516, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3635, device='cuda:3', dtype=torch.float64)
sum is tensor(68.9225, device='cuda:3', dtype=torch.float64)
sum is tensor(642.7155, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.6126, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0275, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.8971, device='cuda:3', dtype=torch.float64)
cal diff is tensor(45.5590, device='cuda:3')
discard
cal diff is tensor(0.3168, device='cuda:3')
discard
cal diff is tensor(573.7930, device='cuda:3')
discard
cal diff is tensor(0.4585, device='cuda:3')
discard
cal diff is tensor(3640.8970, device='cuda:3')
discard
cal diff is tensor(2.0279, device='cuda:3')
discard
cal diff is tensor(20.3119, device='cuda:3')
discard
cal diff is tensor(0.2484, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9481000001563197
test entropy is  0.17955367230593777
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.17955367230593777
avg test loss is  0.1578178779323345
avg accuracy is  0.9481000001563197
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.21759844082060145
avg test loss is  5.677146166118224
avg accuracy is  0.20725000015633674
compute_distance is  tensor(93.7645, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(93.7645, device='cuda:3')
test acc is  0.20725000015633674
test entropy is  0.21759844082060145
________________________________
new distance ratio is 1.5944049000000016
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  3
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 65 global rounds:
Train Accuracy: 95.28% 

Test Accuracy: 95.17% 


 | Global Training Round : 66 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007599542383104563
attack res is True
len of model dicts is  10
compute distance is  tensor(25.4875, device='cuda:3')
compute distance is  tensor(40.7071, device='cuda:3')
compute distance is  tensor(57.3297, device='cuda:3')
compute distance is  tensor(33.2270, device='cuda:3')
compute distance is  tensor(51.1210, device='cuda:3')
compute distance is  tensor(57.3779, device='cuda:3')
compute distance is  tensor(55.9635, device='cuda:3')
compute distance is  tensor(36.8361, device='cuda:3')
compute distance is  tensor(85.9318, device='cuda:3')
compute distance is  tensor(69.0911, device='cuda:3')
calculated distance threshold is  tensor(131.4974, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.3595000001563405
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2553166668230051
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.3166500001563399
====================
====================
iteration is  1
round is  0
accuracy is  0.33943333348967364
====================
====================
iteration is  1
round is  1
accuracy is  0.3045000001563396
====================
________________________________
test distance is  tensor(4282.3408, device='cuda:3')
test acc is  0.2553166668230051
test entropy is  0.2730236341481778
________________________________
diff is  tensor(42.1168, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3906, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.5565, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5076, device='cuda:3', dtype=torch.float64)
diff is  tensor(3643.3495, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9851, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2293, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2057, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4150.8433, device='cuda:3')
sum is tensor(0.2057, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5962, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1038, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0889, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3182, device='cuda:3', dtype=torch.float64)
sum is tensor(65.4350, device='cuda:3', dtype=torch.float64)
sum is tensor(638.9915, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.3410, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0361, device='cuda:3', dtype=torch.float64)
threshold is tensor(3643.3495, device='cuda:3', dtype=torch.float64)
cal diff is tensor(42.1168, device='cuda:3')
discard
cal diff is tensor(0.3906, device='cuda:3')
discard
cal diff is tensor(573.5565, device='cuda:3')
discard
cal diff is tensor(0.5076, device='cuda:3')
discard
cal diff is tensor(3643.3496, device='cuda:3')
clipping
cal diff is tensor(1.9851, device='cuda:3')
discard
cal diff is tensor(20.2293, device='cuda:3')
discard
cal diff is tensor(0.2057, device='cuda:3')
discard
________________________________
test distance is  tensor(131.5080, device='cuda:3')
test acc is  0.9476833334896531
test entropy is  0.1810306301280888
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(131.4978, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0105, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(131.5080, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(131.4978, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(131.4978, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(131.5077, device='cuda:3')
test acc is  0.9476833334896531
test entropy is  0.18103052670163894
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(131.4974, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(131.5077, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(131.4974, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(131.4974, device='cuda:3')
discard
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9485000001563197
test entropy is  0.17739282924530983
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.17739282924530983
avg test loss is  0.15633054157353635
avg accuracy is  0.9485000001563197
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2881695980837604
avg test loss is  7.4611491775716035
avg accuracy is  0.2618833334896719
compute_distance is  tensor(99.6613, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(99.6613, device='cuda:3')
test acc is  0.2618833334896719
test entropy is  0.2881695980837604
________________________________
new distance ratio is 1.753845390000002
current aggregation staleness i is  4
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 66 global rounds:
Train Accuracy: 95.33% 

Test Accuracy: 95.18% 


 | Global Training Round : 67 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0075654261745512486
attack res is True
len of model dicts is  10
compute distance is  tensor(31.2918, device='cuda:3')
compute distance is  tensor(33.8571, device='cuda:3')
compute distance is  tensor(73.9554, device='cuda:3')
compute distance is  tensor(46.6187, device='cuda:3')
compute distance is  tensor(41.6235, device='cuda:3')
compute distance is  tensor(38.4751, device='cuda:3')
compute distance is  tensor(53.3739, device='cuda:3')
compute distance is  tensor(32.3343, device='cuda:3')
compute distance is  tensor(70.7294, device='cuda:3')
compute distance is  tensor(47.6849, device='cuda:3')
calculated distance threshold is  tensor(113.5996, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.22095000015633717
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.3343833334896735
====================
====================
iteration is  0
round is  2
accuracy is  0.21118333348967017
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.32260000015634
====================
====================
iteration is  1
round is  1
accuracy is  0.23998333348967127
====================
________________________________
test distance is  tensor(4283.1802, device='cuda:3')
test acc is  0.21118333348967017
test entropy is  0.2433496094239292
________________________________
diff is  tensor(45.0071, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3515, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.7472, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4961, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.0303, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0476, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2559, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2445, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4169.5806, device='cuda:3')
sum is tensor(0.2445, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5959, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0920, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1396, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3955, device='cuda:3', dtype=torch.float64)
sum is tensor(68.4026, device='cuda:3', dtype=torch.float64)
sum is tensor(643.1498, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.1801, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0312, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.0303, device='cuda:3', dtype=torch.float64)
cal diff is tensor(45.0071, device='cuda:3')
discard
cal diff is tensor(0.3515, device='cuda:3')
discard
cal diff is tensor(574.7472, device='cuda:3')
discard
cal diff is tensor(0.4961, device='cuda:3')
discard
cal diff is tensor(3640.0303, device='cuda:3')
discard
cal diff is tensor(2.0476, device='cuda:3')
discard
cal diff is tensor(20.2559, device='cuda:3')
discard
cal diff is tensor(0.2445, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9487666668229864
test entropy is  0.17715739222890786
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.17715739222890786
avg test loss is  0.1563819308560699
avg accuracy is  0.9487666668229864
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2701735001351279
avg test loss is  6.904780365002435
avg accuracy is  0.19596666682300282
compute_distance is  tensor(95.9841, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(95.9841, device='cuda:3')
test acc is  0.19596666682300282
test entropy is  0.2701735001351279
________________________________
new distance ratio is 1.9292299290000023
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  2
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 67 global rounds:
Train Accuracy: 95.24% 

Test Accuracy: 95.08% 


 | Global Training Round : 68 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007621284108608961
attack res is True
len of model dicts is  10
compute distance is  tensor(24.8885, device='cuda:3')
compute distance is  tensor(42.8654, device='cuda:3')
compute distance is  tensor(70.2691, device='cuda:3')
compute distance is  tensor(56.1123, device='cuda:3')
compute distance is  tensor(40.6909, device='cuda:3')
compute distance is  tensor(42.9247, device='cuda:3')
compute distance is  tensor(49.1599, device='cuda:3')
compute distance is  tensor(37.7847, device='cuda:3')
compute distance is  tensor(47.5728, device='cuda:3')
compute distance is  tensor(65.9182, device='cuda:3')
calculated distance threshold is  tensor(121.1930, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.30778333348967307
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.3717666668230074
====================
====================
iteration is  0
round is  2
accuracy is  0.3303333334896735
====================
====================
iteration is  1
round is  0
accuracy is  0.2984333334896728
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.24530000015633804
====================
succ_min + 1
________________________________
test distance is  tensor(4283.3101, device='cuda:3')
test acc is  0.24530000015633804
test entropy is  0.2818113569098749
________________________________
diff is  tensor(46.5267, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3667, device='cuda:3', dtype=torch.float64)
diff is  tensor(570.9496, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5037, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.3424, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0152, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.4072, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1986, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4162.1172, device='cuda:3')
sum is tensor(0.1986, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5653, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0690, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0841, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4914, device='cuda:3', dtype=torch.float64)
sum is tensor(70.0180, device='cuda:3', dtype=torch.float64)
sum is tensor(640.9676, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.3100, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0333, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.3424, device='cuda:3', dtype=torch.float64)
cal diff is tensor(46.5267, device='cuda:3')
discard
cal diff is tensor(0.3667, device='cuda:3')
discard
cal diff is tensor(570.9496, device='cuda:3')
discard
cal diff is tensor(0.5037, device='cuda:3')
discard
cal diff is tensor(3642.3423, device='cuda:3')
discard
cal diff is tensor(2.0152, device='cuda:3')
discard
cal diff is tensor(20.4072, device='cuda:3')
discard
cal diff is tensor(0.1986, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.947983333489653
test entropy is  0.17782318766818625
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.17782318766818625
avg test loss is  0.1584911634500172
avg accuracy is  0.947983333489653
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2615206641619648
avg test loss is  7.090566609714077
avg accuracy is  0.2578000001563384
compute_distance is  tensor(100.8242, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(100.8242, device='cuda:3')
test acc is  0.2578000001563384
test entropy is  0.2615206641619648
________________________________
new distance ratio is 2.122152921900003
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 68 global rounds:
Train Accuracy: 95.31% 

Test Accuracy: 95.24% 


 | Global Training Round : 69 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007595263421535492
attack res is True
len of model dicts is  10
compute distance is  tensor(36.5791, device='cuda:3')
compute distance is  tensor(41.3399, device='cuda:3')
compute distance is  tensor(55.9738, device='cuda:3')
compute distance is  tensor(51.4425, device='cuda:3')
compute distance is  tensor(40.5740, device='cuda:3')
compute distance is  tensor(50.4856, device='cuda:3')
compute distance is  tensor(58.3153, device='cuda:3')
compute distance is  tensor(51.7397, device='cuda:3')
compute distance is  tensor(71.4409, device='cuda:3')
compute distance is  tensor(73.1349, device='cuda:3')
calculated distance threshold is  tensor(121.9138, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.32126666682300664
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2207166668230039
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.291766666823006
====================
====================
iteration is  1
round is  0
accuracy is  0.3811000001563409
====================
====================
iteration is  1
round is  1
accuracy is  0.35561666682300713
====================
________________________________
test distance is  tensor(4281.4492, device='cuda:3')
test acc is  0.2207166668230039
test entropy is  0.24083799817192275
________________________________
diff is  tensor(44.3632, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3418, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.0099, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5161, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.6460, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0651, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3558, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1516, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4159.5352, device='cuda:3')
sum is tensor(0.1516, device='cuda:3', dtype=torch.float64)
sum is tensor(0.4934, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0095, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0746, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4304, device='cuda:3', dtype=torch.float64)
sum is tensor(67.7936, device='cuda:3', dtype=torch.float64)
sum is tensor(639.8035, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.4495, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0335, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.6460, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.3632, device='cuda:3')
discard
cal diff is tensor(0.3418, device='cuda:3')
discard
cal diff is tensor(572.0099, device='cuda:3')
discard
cal diff is tensor(0.5161, device='cuda:3')
discard
cal diff is tensor(3641.6460, device='cuda:3')
discard
cal diff is tensor(2.0651, device='cuda:3')
discard
cal diff is tensor(20.3558, device='cuda:3')
discard
cal diff is tensor(0.1516, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9494166668229864
test entropy is  0.17536365906439866
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.17536365906439866
avg test loss is  0.15417927752302557
avg accuracy is  0.9494166668229864
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.19682793838303608
avg test loss is  6.370486483645084
avg accuracy is  0.19641666682300282
compute_distance is  tensor(97.9162, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(97.9162, device='cuda:3')
test acc is  0.19641666682300282
test entropy is  0.19682793838303608
________________________________
new distance ratio is 2.3343682140900035
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  3
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 69 global rounds:
Train Accuracy: 95.31% 

Test Accuracy: 95.16% 


 | Global Training Round : 70 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007608794141560793
attack res is True
len of model dicts is  10
compute distance is  tensor(29.5908, device='cuda:3')
compute distance is  tensor(47.3875, device='cuda:3')
compute distance is  tensor(50.3862, device='cuda:3')
compute distance is  tensor(59.5732, device='cuda:3')
compute distance is  tensor(40.8438, device='cuda:3')
compute distance is  tensor(47.5185, device='cuda:3')
compute distance is  tensor(67.7961, device='cuda:3')
compute distance is  tensor(47.6406, device='cuda:3')
compute distance is  tensor(68.4870, device='cuda:3')
compute distance is  tensor(54.1719, device='cuda:3')
calculated distance threshold is  tensor(129.4687, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.19146666682300265
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.33180000015634004
====================
====================
iteration is  0
round is  2
accuracy is  0.19161666682300257
====================
====================
iteration is  1
round is  0
accuracy is  0.31991666682300646
====================
====================
iteration is  1
round is  1
accuracy is  0.22041666682300387
====================
________________________________
test distance is  tensor(4279.9380, device='cuda:3')
test acc is  0.19146666682300265
test entropy is  0.32269951996645696
________________________________
diff is  tensor(42.8133, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3732, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.1114, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5155, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.6433, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0069, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2994, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1755, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4150.4692, device='cuda:3')
sum is tensor(0.1755, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5487, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0643, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0712, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3706, device='cuda:3', dtype=torch.float64)
sum is tensor(66.1839, device='cuda:3', dtype=torch.float64)
sum is tensor(638.2953, device='cuda:3', dtype=torch.float64)
sum is tensor(4279.9385, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0356, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.6433, device='cuda:3', dtype=torch.float64)
cal diff is tensor(42.8133, device='cuda:3')
discard
cal diff is tensor(0.3732, device='cuda:3')
discard
cal diff is tensor(572.1114, device='cuda:3')
discard
cal diff is tensor(0.5155, device='cuda:3')
discard
cal diff is tensor(3641.6431, device='cuda:3')
discard
cal diff is tensor(2.0069, device='cuda:3')
discard
cal diff is tensor(20.2994, device='cuda:3')
discard
cal diff is tensor(0.1755, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9493000001563197
test entropy is  0.17593692640251696
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.17593692640251696
avg test loss is  0.15459002078826556
avg accuracy is  0.9493000001563197
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3572441662298337
avg test loss is  6.0874239783297215
avg accuracy is  0.1846500001563356
compute_distance is  tensor(100.4319, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(100.4319, device='cuda:3')
test acc is  0.1846500001563356
test entropy is  0.3572441662298337
________________________________
new distance ratio is 2.567805035499004
current aggregation staleness i is  2
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 70 global rounds:
Train Accuracy: 95.42% 

Test Accuracy: 95.39% 


 | Global Training Round : 71 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007582311052829027
attack res is True
len of model dicts is  10
compute distance is  tensor(24.9560, device='cuda:3')
compute distance is  tensor(47.6467, device='cuda:3')
compute distance is  tensor(64.5305, device='cuda:3')
compute distance is  tensor(51.2655, device='cuda:3')
compute distance is  tensor(55.3174, device='cuda:3')
compute distance is  tensor(38.6914, device='cuda:3')
compute distance is  tensor(95.2142, device='cuda:3')
compute distance is  tensor(50.9403, device='cuda:3')
compute distance is  tensor(54.4966, device='cuda:3')
compute distance is  tensor(54.6928, device='cuda:3')
calculated distance threshold is  tensor(223.4062, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.28666666682300584
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2994333334896728
====================
====================
iteration is  0
round is  2
accuracy is  0.39161666682300766
====================
====================
iteration is  1
round is  0
accuracy is  0.3849000001563409
====================
====================
iteration is  1
round is  1
accuracy is  0.2785333334896724
====================
succ_min + 1
________________________________
test distance is  tensor(4279.2544, device='cuda:3')
test acc is  0.2785333334896724
test entropy is  0.2164403444318883
________________________________
diff is  tensor(44.6447, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3756, device='cuda:3', dtype=torch.float64)
diff is  tensor(570.4118, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4799, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.8695, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0356, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2622, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1747, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4055.8481, device='cuda:3')
sum is tensor(0.1747, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5503, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0302, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0659, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3281, device='cuda:3', dtype=torch.float64)
sum is tensor(67.9728, device='cuda:3', dtype=torch.float64)
sum is tensor(638.3846, device='cuda:3', dtype=torch.float64)
sum is tensor(4279.2541, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0614, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.8695, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.6447, device='cuda:3')
discard
cal diff is tensor(0.3756, device='cuda:3')
discard
cal diff is tensor(570.4119, device='cuda:3')
discard
cal diff is tensor(0.4799, device='cuda:3')
discard
cal diff is tensor(3640.8696, device='cuda:3')
clipping
cal diff is tensor(2.0356, device='cuda:3')
discard
cal diff is tensor(20.2622, device='cuda:3')
discard
cal diff is tensor(0.1747, device='cuda:3')
discard
________________________________
test distance is  tensor(223.4162, device='cuda:3')
test acc is  0.9484000001563198
test entropy is  0.18333414416990554
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(223.4060, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0100, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0266, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(223.4059, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(5.9477, device='cuda:3')
test acc is  0.9505333334896531
test entropy is  0.1729177198350938
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.1729177198350938
avg test loss is  0.15078534299273416
avg accuracy is  0.9505333334896531
compute_distance is  tensor(5.9477, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.23252961479588105
avg test loss is  6.612617823106648
avg accuracy is  0.2754333334896723
compute_distance is  tensor(96.2335, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(96.2335, device='cuda:3')
test acc is  0.2754333334896723
test entropy is  0.23252961479588105
________________________________
new distance ratio is 2.8245855390489045
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  4
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 71 global rounds:
Train Accuracy: 95.31% 

Test Accuracy: 95.23% 


 | Global Training Round : 72 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007620127871632576
attack res is True
len of model dicts is  10
compute distance is  tensor(20.0321, device='cuda:3')
compute distance is  tensor(48.3826, device='cuda:3')
compute distance is  tensor(66.3403, device='cuda:3')
compute distance is  tensor(25.2447, device='cuda:3')
compute distance is  tensor(42.8492, device='cuda:3')
compute distance is  tensor(32.1578, device='cuda:3')
compute distance is  tensor(47.3739, device='cuda:3')
compute distance is  tensor(47.8424, device='cuda:3')
compute distance is  tensor(67.3140, device='cuda:3')
compute distance is  tensor(63.6818, device='cuda:3')
calculated distance threshold is  tensor(166.9389, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.3361500001563402
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2851166668230058
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.45001666682300834
====================
====================
iteration is  1
round is  0
accuracy is  0.1950833334896694
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.34478333348967366
====================
________________________________
test distance is  tensor(4279.7788, device='cuda:3')
test acc is  0.1950833334896694
test entropy is  0.16529254471537655
________________________________
diff is  tensor(44.8402, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3696, device='cuda:3', dtype=torch.float64)
diff is  tensor(570.4941, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4741, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.1159, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9994, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3478, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1375, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4112.8398, device='cuda:3')
sum is tensor(0.1375, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5071, device='cuda:3', dtype=torch.float64)
sum is tensor(0.9812, device='cuda:3', dtype=torch.float64)
sum is tensor(2.9805, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3283, device='cuda:3', dtype=torch.float64)
sum is tensor(68.1685, device='cuda:3', dtype=torch.float64)
sum is tensor(638.6626, device='cuda:3', dtype=torch.float64)
sum is tensor(4279.7785, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0458, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.1159, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.8402, device='cuda:3')
discard
cal diff is tensor(0.3696, device='cuda:3')
discard
cal diff is tensor(570.4941, device='cuda:3')
discard
cal diff is tensor(0.4741, device='cuda:3')
discard
cal diff is tensor(3641.1160, device='cuda:3')
clipping
cal diff is tensor(1.9994, device='cuda:3')
discard
cal diff is tensor(20.3478, device='cuda:3')
discard
cal diff is tensor(0.1375, device='cuda:3')
discard
________________________________
test distance is  tensor(166.9489, device='cuda:3')
test acc is  0.949033333489653
test entropy is  0.17607150232391572
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(166.9387, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0100, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0266, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(166.9387, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(4.4471, device='cuda:3')
test acc is  0.949283333489653
test entropy is  0.17345511314790768
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.17345511314790768
avg test loss is  0.15383529846173233
avg accuracy is  0.949283333489653
compute_distance is  tensor(4.4471, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.17629630678593478
avg test loss is  10.130331249887755
avg accuracy is  0.18876666682300242
compute_distance is  tensor(98.1762, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(98.1762, device='cuda:3')
test acc is  0.18876666682300242
test entropy is  0.17629630678593478
________________________________
new distance ratio is 3.107044092953795
num2 of attacker is  0
the length of epoch_weights is  3
 
Avg Training Stats after 72 global rounds:
Train Accuracy: 95.38% 

Test Accuracy: 95.37% 


 | Global Training Round : 73 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007537092547863722
attack res is True
len of model dicts is  10
compute distance is  tensor(34.5033, device='cuda:3')
compute distance is  tensor(50.7303, device='cuda:3')
compute distance is  tensor(59.5941, device='cuda:3')
compute distance is  tensor(61.6750, device='cuda:3')
compute distance is  tensor(47.3525, device='cuda:3')
compute distance is  tensor(32.9652, device='cuda:3')
compute distance is  tensor(59.5032, device='cuda:3')
compute distance is  tensor(56.8123, device='cuda:3')
compute distance is  tensor(95.6040, device='cuda:3')
compute distance is  tensor(56.2255, device='cuda:3')
calculated distance threshold is  tensor(247.0488, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.19611666682300277
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.4870666668230087
====================
====================
iteration is  0
round is  2
accuracy is  0.2757000001563391
====================
====================
iteration is  1
round is  0
accuracy is  0.15283333348966668
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.19228333348966925
====================
________________________________
test distance is  tensor(4282.7168, device='cuda:3')
test acc is  0.15283333348966668
test entropy is  0.06883036508758578
________________________________
diff is  tensor(44.0090, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3579, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.7473, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5303, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.4902, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0720, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3067, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2030, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4035.6680, device='cuda:3')
sum is tensor(0.2030, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5609, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0912, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1632, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4699, device='cuda:3', dtype=torch.float64)
sum is tensor(67.4789, device='cuda:3', dtype=torch.float64)
sum is tensor(641.2262, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.7164, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0678, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.4902, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.0090, device='cuda:3')
discard
cal diff is tensor(0.3579, device='cuda:3')
discard
cal diff is tensor(573.7473, device='cuda:3')
discard
cal diff is tensor(0.5303, device='cuda:3')
discard
cal diff is tensor(3641.4902, device='cuda:3')
clipping
cal diff is tensor(2.0720, device='cuda:3')
discard
cal diff is tensor(20.3067, device='cuda:3')
discard
cal diff is tensor(0.2030, device='cuda:3')
discard
________________________________
test distance is  tensor(247.0586, device='cuda:3')
test acc is  0.9498166668229864
test entropy is  0.1747258146331191
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(247.0484, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0098, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0451, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(247.0484, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(11.1574, device='cuda:3')
test acc is  0.9506333334896531
test entropy is  0.1711377873897616
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.1711377873897616
avg test loss is  0.15063940176962695
avg accuracy is  0.9506333334896531
compute_distance is  tensor(11.1574, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.04265481420705266
avg test loss is  10.279629629558084
avg accuracy is  0.14935000015633307
compute_distance is  tensor(90.4583, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(90.4583, device='cuda:3')
test acc is  0.14935000015633307
test entropy is  0.04265481420705266
________________________________
new distance ratio is 3.4177485022491747
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  2
num1 of attacker is  0
current aggregation staleness i is  3
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 73 global rounds:
Train Accuracy: 95.32% 

Test Accuracy: 95.27% 


 | Global Training Round : 74 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007540562190115452
attack res is True
len of model dicts is  10
compute distance is  tensor(32.8218, device='cuda:3')
compute distance is  tensor(35.0168, device='cuda:3')
compute distance is  tensor(68.3836, device='cuda:3')
compute distance is  tensor(55.0936, device='cuda:3')
compute distance is  tensor(34.0414, device='cuda:3')
compute distance is  tensor(33.3683, device='cuda:3')
compute distance is  tensor(67.9462, device='cuda:3')
compute distance is  tensor(39.1856, device='cuda:3')
compute distance is  tensor(65.5967, device='cuda:3')
compute distance is  tensor(55.6694, device='cuda:3')
calculated distance threshold is  tensor(166.5173, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.2604000001563387
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2854500001563391
====================
====================
iteration is  0
round is  2
accuracy is  0.1951166668230027
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.28398333348967253
====================
====================
iteration is  1
round is  1
accuracy is  0.30640000015633967
====================
________________________________
test distance is  tensor(4281.5537, device='cuda:3')
test acc is  0.1951166668230027
test entropy is  0.18673862031559701
________________________________
diff is  tensor(43.1146, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3620, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.1079, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4921, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.8869, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0170, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3528, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2196, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4115.0366, device='cuda:3')
sum is tensor(0.2196, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5816, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0737, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0907, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4435, device='cuda:3', dtype=torch.float64)
sum is tensor(66.5581, device='cuda:3', dtype=torch.float64)
sum is tensor(638.6660, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.5529, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0457, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.8869, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.1146, device='cuda:3')
discard
cal diff is tensor(0.3620, device='cuda:3')
discard
cal diff is tensor(572.1079, device='cuda:3')
discard
cal diff is tensor(0.4921, device='cuda:3')
discard
cal diff is tensor(3642.8867, device='cuda:3')
discard
cal diff is tensor(2.0170, device='cuda:3')
discard
cal diff is tensor(20.3528, device='cuda:3')
discard
cal diff is tensor(0.2196, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9496333334896531
test entropy is  0.17159829829245615
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.17159829829245615
avg test loss is  0.15320519872033583
avg accuracy is  0.9496333334896531
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.16021665477994154
avg test loss is  5.856811067442904
avg accuracy is  0.17165000015633466
compute_distance is  tensor(93.5972, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(93.5972, device='cuda:3')
test acc is  0.17165000015633466
test entropy is  0.16021665477994154
________________________________
new distance ratio is 3.7595233524740923
num2 of attacker is  0
the length of epoch_weights is  1
 
Avg Training Stats after 74 global rounds:
Train Accuracy: 95.36% 

Test Accuracy: 95.32% 


 | Global Training Round : 75 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007541487459093332
attack res is True
len of model dicts is  10
compute distance is  tensor(21.8164, device='cuda:3')
compute distance is  tensor(42.8002, device='cuda:3')
compute distance is  tensor(52.5054, device='cuda:3')
compute distance is  tensor(73.5183, device='cuda:3')
compute distance is  tensor(37.5246, device='cuda:3')
compute distance is  tensor(32.1321, device='cuda:3')
compute distance is  tensor(60.7684, device='cuda:3')
compute distance is  tensor(48.1954, device='cuda:3')
compute distance is  tensor(59.9151, device='cuda:3')
compute distance is  tensor(63.4763, device='cuda:3')
calculated distance threshold is  tensor(235.6281, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.39951666682300785
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.3056500001563396
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.1800500001563353
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.22063333348967054
====================
====================
iteration is  1
round is  1
accuracy is  0.2365333334896712
====================
________________________________
test distance is  tensor(4277.9414, device='cuda:3')
test acc is  0.1800500001563353
test entropy is  0.11749284644164383
________________________________
diff is  tensor(41.4239, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3032, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.2281, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5044, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.9954, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0021, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2771, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2073, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4042.3135, device='cuda:3')
sum is tensor(0.2073, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5105, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0149, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0169, device='cuda:3', dtype=torch.float64)
sum is tensor(23.2941, device='cuda:3', dtype=torch.float64)
sum is tensor(64.7180, device='cuda:3', dtype=torch.float64)
sum is tensor(636.9461, device='cuda:3', dtype=torch.float64)
sum is tensor(4277.9415, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0647, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.9954, device='cuda:3', dtype=torch.float64)
cal diff is tensor(41.4239, device='cuda:3')
discard
cal diff is tensor(0.3032, device='cuda:3')
discard
cal diff is tensor(572.2281, device='cuda:3')
discard
cal diff is tensor(0.5044, device='cuda:3')
discard
cal diff is tensor(3640.9954, device='cuda:3')
discard
cal diff is tensor(2.0021, device='cuda:3')
discard
cal diff is tensor(20.2771, device='cuda:3')
discard
cal diff is tensor(0.2073, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9501000001563197
test entropy is  0.17173396721323417
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.17173396721323417
avg test loss is  0.15250876556927048
avg accuracy is  0.9501000001563197
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.10646871135020053
avg test loss is  10.222557691114543
avg accuracy is  0.16853333348966787
compute_distance is  tensor(92.8807, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(92.8807, device='cuda:3')
test acc is  0.16853333348966787
test entropy is  0.10646871135020053
________________________________
new distance ratio is 4.1354756877215015
current aggregation staleness i is  1
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 75 global rounds:
Train Accuracy: 95.46% 

Test Accuracy: 95.36% 


 | Global Training Round : 76 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007491643540561199
attack res is True
len of model dicts is  10
compute distance is  tensor(30.0369, device='cuda:3')
compute distance is  tensor(48.7086, device='cuda:3')
compute distance is  tensor(58.1582, device='cuda:3')
compute distance is  tensor(59.0541, device='cuda:3')
compute distance is  tensor(45.7745, device='cuda:3')
compute distance is  tensor(44.5229, device='cuda:3')
compute distance is  tensor(49.9622, device='cuda:3')
compute distance is  tensor(34.3514, device='cuda:3')
compute distance is  tensor(60.8949, device='cuda:3')
compute distance is  tensor(84.8907, device='cuda:3')
calculated distance threshold is  tensor(279.5679, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.3668000001563407
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.3631166668230072
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.3989333334896743
====================
====================
iteration is  1
round is  0
accuracy is  0.26658333348967206
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.2069500001563367
====================
succ_min + 1
________________________________
test distance is  tensor(4283.1460, device='cuda:3')
test acc is  0.2069500001563367
test entropy is  0.2599587210460004
________________________________
diff is  tensor(44.7601, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3672, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.3284, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4720, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.8218, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0030, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.1447, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2487, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4003.5781, device='cuda:3')
sum is tensor(0.2487, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6159, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0879, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0909, device='cuda:3', dtype=torch.float64)
sum is tensor(23.2355, device='cuda:3', dtype=torch.float64)
sum is tensor(67.9956, device='cuda:3', dtype=torch.float64)
sum is tensor(640.3241, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.1458, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0767, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.8218, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.7601, device='cuda:3')
discard
cal diff is tensor(0.3672, device='cuda:3')
discard
cal diff is tensor(572.3284, device='cuda:3')
discard
cal diff is tensor(0.4720, device='cuda:3')
discard
cal diff is tensor(3642.8218, device='cuda:3')
clipping
cal diff is tensor(2.0030, device='cuda:3')
discard
cal diff is tensor(20.1447, device='cuda:3')
discard
cal diff is tensor(0.2487, device='cuda:3')
discard
________________________________
test distance is  tensor(279.5779, device='cuda:3')
test acc is  0.9503166668229863
test entropy is  0.1730905014123998
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(279.5677, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0101, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0165, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(279.5677, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(4.6125, device='cuda:3')
test acc is  0.9508333334896529
test entropy is  0.17001887818357583
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.17001887818357583
avg test loss is  0.15078669256949698
avg accuracy is  0.9508333334896529
compute_distance is  tensor(4.6125, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.25523904502105865
avg test loss is  7.343112633426561
avg accuracy is  0.20490000015633653
compute_distance is  tensor(100.9444, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(100.9444, device='cuda:3')
test acc is  0.20490000015633653
test entropy is  0.25523904502105865
________________________________
new distance ratio is 4.549023256493652
current aggregation staleness i is  2
num1 of attacker is  0
current aggregation staleness i is  4
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 76 global rounds:
Train Accuracy: 95.50% 

Test Accuracy: 95.40% 


 | Global Training Round : 77 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0074749900959432125
attack res is True
len of model dicts is  10
compute distance is  tensor(26.2220, device='cuda:3')
compute distance is  tensor(61.3242, device='cuda:3')
compute distance is  tensor(75.4873, device='cuda:3')
compute distance is  tensor(61.7667, device='cuda:3')
compute distance is  tensor(34.1637, device='cuda:3')
compute distance is  tensor(36.1932, device='cuda:3')
compute distance is  tensor(68.2348, device='cuda:3')
compute distance is  tensor(40.4861, device='cuda:3')
compute distance is  tensor(80.2342, device='cuda:3')
compute distance is  tensor(75.6722, device='cuda:3')
calculated distance threshold is  tensor(296.4948, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.3591166668230072
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.37236666682300734
====================
====================
iteration is  0
round is  2
accuracy is  0.2589666668230051
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.4151833334896746
====================
====================
iteration is  1
round is  1
accuracy is  0.19813333348966958
====================
succ_min + 1
________________________________
test distance is  tensor(4280.6318, device='cuda:3')
test acc is  0.19813333348966958
test entropy is  0.23255356782471448
________________________________
diff is  tensor(43.8724, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3841, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.3943, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4752, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.0601, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0179, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2529, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1747, device='cuda:3', dtype=torch.float64)
threshold is  tensor(3984.1370, device='cuda:3')
sum is tensor(0.1747, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5588, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0341, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0520, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3049, device='cuda:3', dtype=torch.float64)
sum is tensor(67.1773, device='cuda:3', dtype=torch.float64)
sum is tensor(638.5716, device='cuda:3', dtype=torch.float64)
sum is tensor(4280.6317, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0814, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.0601, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.8724, device='cuda:3')
discard
cal diff is tensor(0.3841, device='cuda:3')
discard
cal diff is tensor(571.3943, device='cuda:3')
discard
cal diff is tensor(0.4752, device='cuda:3')
discard
cal diff is tensor(3642.0601, device='cuda:3')
discard
cal diff is tensor(2.0179, device='cuda:3')
discard
cal diff is tensor(20.2529, device='cuda:3')
discard
cal diff is tensor(0.1747, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9510333334896529
test entropy is  0.1694920757797354
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.1694920757797354
avg test loss is  0.14989973581147822
avg accuracy is  0.9510333334896529
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.23335504631942777
avg test loss is  6.814881366453191
avg accuracy is  0.18251666682300202
compute_distance is  tensor(101.4094, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(101.4094, device='cuda:3')
test acc is  0.18251666682300202
test entropy is  0.23335504631942777
________________________________
new distance ratio is 5.003925582143018
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  3
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 77 global rounds:
Train Accuracy: 95.46% 

Test Accuracy: 95.39% 


 | Global Training Round : 78 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007493031211197376
attack res is True
len of model dicts is  10
compute distance is  tensor(31.7768, device='cuda:3')
compute distance is  tensor(40.3481, device='cuda:3')
compute distance is  tensor(52.3001, device='cuda:3')
compute distance is  tensor(70.5113, device='cuda:3')
compute distance is  tensor(42.8756, device='cuda:3')
compute distance is  tensor(50.8298, device='cuda:3')
compute distance is  tensor(66.4338, device='cuda:3')
compute distance is  tensor(30.7430, device='cuda:3')
compute distance is  tensor(48.9982, device='cuda:3')
compute distance is  tensor(58.0713, device='cuda:3')
calculated distance threshold is  tensor(249.6402, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.3098000001563398
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.33155000015634006
====================
====================
iteration is  0
round is  2
accuracy is  0.38450000015634095
====================
====================
iteration is  1
round is  0
accuracy is  0.31963333348967327
====================
====================
iteration is  1
round is  1
accuracy is  0.265383333489672
====================
succ_min + 1
________________________________
test distance is  tensor(4284.4067, device='cuda:3')
test acc is  0.265383333489672
test entropy is  0.3400216402847375
________________________________
diff is  tensor(44.2497, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3389, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.4260, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5408, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.2685, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9994, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3554, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2278, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4034.7666, device='cuda:3')
sum is tensor(0.2278, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5667, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1075, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1069, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4623, device='cuda:3', dtype=torch.float64)
sum is tensor(67.7120, device='cuda:3', dtype=torch.float64)
sum is tensor(642.1380, device='cuda:3', dtype=torch.float64)
sum is tensor(4284.4064, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0685, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.2685, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.2496, device='cuda:3')
discard
cal diff is tensor(0.3389, device='cuda:3')
discard
cal diff is tensor(574.4260, device='cuda:3')
discard
cal diff is tensor(0.5408, device='cuda:3')
discard
cal diff is tensor(3642.2686, device='cuda:3')
clipping
cal diff is tensor(1.9994, device='cuda:3')
discard
cal diff is tensor(20.3554, device='cuda:3')
discard
cal diff is tensor(0.2278, device='cuda:3')
discard
________________________________
test distance is  tensor(249.6500, device='cuda:3')
test acc is  0.9507000001563196
test entropy is  0.17430288911755407
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(249.6399, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0098, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0468, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(249.6399, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(11.6951, device='cuda:3')
test acc is  0.9507833334896529
test entropy is  0.17002960686474594
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.17002960686474594
avg test loss is  0.15088160322911576
avg accuracy is  0.9507833334896529
compute_distance is  tensor(11.6951, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3616457228372092
avg test loss is  6.535094957107674
avg accuracy is  0.29795000015633943
compute_distance is  tensor(104.4426, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(104.4426, device='cuda:3')
test acc is  0.29795000015633943
test entropy is  0.3616457228372092
________________________________
new distance ratio is 5.50431814035732
num2 of attacker is  0
the length of epoch_weights is  2
 
Avg Training Stats after 78 global rounds:
Train Accuracy: 95.51% 

Test Accuracy: 95.39% 


 | Global Training Round : 79 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007472792640328407
attack res is True
len of model dicts is  10
compute distance is  tensor(21.8114, device='cuda:3')
compute distance is  tensor(31.5624, device='cuda:3')
compute distance is  tensor(67.8008, device='cuda:3')
compute distance is  tensor(53.2329, device='cuda:3')
compute distance is  tensor(69.8454, device='cuda:3')
compute distance is  tensor(44.4394, device='cuda:3')
compute distance is  tensor(71.5967, device='cuda:3')
compute distance is  tensor(49.1378, device='cuda:3')
compute distance is  tensor(60.4133, device='cuda:3')
compute distance is  tensor(59.6208, device='cuda:3')
calculated distance threshold is  tensor(323.2493, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.2751166668230056
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.30051666682300626
====================
====================
iteration is  0
round is  2
accuracy is  0.29916666682300613
====================
====================
iteration is  1
round is  0
accuracy is  0.3020833334896729
====================
====================
iteration is  1
round is  1
accuracy is  0.24803333348967152
====================
succ_min + 1
________________________________
test distance is  tensor(4282.0713, device='cuda:3')
test acc is  0.24803333348967152
test entropy is  0.24406607288605114
________________________________
diff is  tensor(44.5656, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3680, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.4630, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4786, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.6078, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0423, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3242, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2218, device='cuda:3', dtype=torch.float64)
threshold is  tensor(3958.8220, device='cuda:3')
sum is tensor(0.2218, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5898, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0684, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1107, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4349, device='cuda:3', dtype=torch.float64)
sum is tensor(68.0005, device='cuda:3', dtype=torch.float64)
sum is tensor(640.4634, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.0712, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0888, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.6078, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.5656, device='cuda:3')
discard
cal diff is tensor(0.3680, device='cuda:3')
discard
cal diff is tensor(572.4630, device='cuda:3')
discard
cal diff is tensor(0.4786, device='cuda:3')
discard
cal diff is tensor(3641.6079, device='cuda:3')
clipping
cal diff is tensor(2.0423, device='cuda:3')
discard
cal diff is tensor(20.3242, device='cuda:3')
discard
cal diff is tensor(0.2218, device='cuda:3')
discard
________________________________
test distance is  tensor(323.2594, device='cuda:3')
test acc is  0.9490000001563197
test entropy is  0.177705892876013
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(323.2492, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0101, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0165, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(323.2491, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(5.3315, device='cuda:3')
test acc is  0.9509833334896529
test entropy is  0.1696007030922721
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.1696007030922721
avg test loss is  0.15016536037427688
avg accuracy is  0.9509833334896529
compute_distance is  tensor(5.3315, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.26851339674771213
avg test loss is  6.340355635197686
avg accuracy is  0.24238333348967134
compute_distance is  tensor(97.8748, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(97.8748, device='cuda:3')
test acc is  0.24238333348967134
test entropy is  0.26851339674771213
________________________________
new distance ratio is 6.054749954393053
current aggregation staleness i is  1
num1 of attacker is  0
current aggregation staleness i is  2
num1 of attacker is  0
num2 of attacker is  0
the length of epoch_weights is  0
 
Avg Training Stats after 79 global rounds:
Train Accuracy: 95.44% 

Test Accuracy: 95.34% 


 | Global Training Round : 80 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007490949239581823
attack res is True
len of model dicts is  10
compute distance is  tensor(25.8917, device='cuda:3')
compute distance is  tensor(35.6404, device='cuda:3')
compute distance is  tensor(76.7426, device='cuda:3')
compute distance is  tensor(56.3434, device='cuda:3')
compute distance is  tensor(45.6517, device='cuda:3')
compute distance is  tensor(61.1207, device='cuda:3')
compute distance is  tensor(66.5741, device='cuda:3')
compute distance is  tensor(45.5816, device='cuda:3')
compute distance is  tensor(65.0655, device='cuda:3')
compute distance is  tensor(65.2851, device='cuda:3')
calculated distance threshold is  tensor(364.5703, device='cuda:3')
pinned_accuracy threshold is  0.8235000001570008
====================
iteration is  0
round is  0
accuracy is  0.3833500001563409
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.24996666682300495
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.34200000015634024
====================
====================
iteration is  1
round is  0
accuracy is  0.4958833334896754
====================
====================
iteration is  1
round is  1
accuracy is  0.29795000015633943
====================
________________________________
test distance is  tensor(4280.6128, device='cuda:3')
test acc is  0.24996666682300495
test entropy is  0.2534223168071653
________________________________
diff is  tensor(44.4230, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3287, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.3656, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4567, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.4244, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0076, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3826, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2238, device='cuda:3', dtype=torch.float64)
threshold is  tensor(3916.0425, device='cuda:3')
sum is tensor(0.2238, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5525, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0093, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0168, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3994, device='cuda:3', dtype=torch.float64)
sum is tensor(67.8224, device='cuda:3', dtype=torch.float64)
sum is tensor(639.1880, device='cuda:3', dtype=torch.float64)
sum is tensor(4280.6125, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.1001, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.4244, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.4230, device='cuda:3')
discard
cal diff is tensor(0.3287, device='cuda:3')
discard
cal diff is tensor(571.3657, device='cuda:3')
discard
cal diff is tensor(0.4567, device='cuda:3')
discard
cal diff is tensor(3641.4243, device='cuda:3')
discard
cal diff is tensor(2.0076, device='cuda:3')
discard
cal diff is tensor(20.3826, device='cuda:3')
discard
cal diff is tensor(0.2238, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9504166668229864
test entropy is  0.1699815973131133
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.1699815973131133
avg test loss is  0.15175624139039023
avg accuracy is  0.9504166668229864
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.28038200782115524
avg test loss is  6.684905205199968
avg accuracy is  0.2604833334896719
compute_distance is  tensor(104.4008, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(104.4008, device='cuda:3')
test acc is  0.2604833334896719
test entropy is  0.28038200782115524
________________________________
new distance ratio is 6.660224949832359
num2 of attacker is  0
the length of epoch_weights is  3
 
Avg Training Stats after 80 global rounds:
Train Accuracy: 95.54% 

Test Accuracy: 95.42% 

 
 Results after 80 global rounds of training:
|---- Avg testing Accuracy across each device's data: 95.54%
|----0th round Training Accuracy : 24.25%
|----1th round Training Accuracy : 72.15%
|----2th round Training Accuracy : 82.50%
|----3th round Training Accuracy : 86.41%
|----4th round Training Accuracy : 90.00%
|----5th round Training Accuracy : 93.14%
|----6th round Training Accuracy : 92.22%
|----7th round Training Accuracy : 94.57%
|----8th round Training Accuracy : 95.19%
|----9th round Training Accuracy : 95.90%
|----10th round Training Accuracy : 95.36%
|----11th round Training Accuracy : 95.98%
|----12th round Training Accuracy : 96.49%
|----13th round Training Accuracy : 96.69%
|----14th round Training Accuracy : 96.40%
|----15th round Training Accuracy : 96.73%
|----16th round Training Accuracy : 96.75%
|----17th round Training Accuracy : 97.08%
|----18th round Training Accuracy : 96.83%
|----19th round Training Accuracy : 97.00%
|----20th round Training Accuracy : 97.11%
|----21th round Training Accuracy : 97.25%
|----22th round Training Accuracy : 97.14%
|----23th round Training Accuracy : 97.18%
|----24th round Training Accuracy : 97.23%
|----25th round Training Accuracy : 97.20%
|----26th round Training Accuracy : 97.08%
|----27th round Training Accuracy : 97.27%
|----28th round Training Accuracy : 97.25%
|----29th round Training Accuracy : 97.34%
|----30th round Training Accuracy : 97.28%
|----31th round Training Accuracy : 97.31%
|----32th round Training Accuracy : 97.33%
|----33th round Training Accuracy : 97.33%
|----34th round Training Accuracy : 97.33%
|----35th round Training Accuracy : 97.35%
|----36th round Training Accuracy : 97.40%
|----37th round Training Accuracy : 97.41%
|----38th round Training Accuracy : 97.39%
|----39th round Training Accuracy : 97.43%
|----40th round Training Accuracy : 97.14%
|----41th round Training Accuracy : 97.03%
|----42th round Training Accuracy : 96.45%
|----43th round Training Accuracy : 96.51%
|----44th round Training Accuracy : 96.25%
|----45th round Training Accuracy : 96.03%
|----46th round Training Accuracy : 95.71%
|----47th round Training Accuracy : 95.86%
|----48th round Training Accuracy : 95.34%
|----49th round Training Accuracy : 95.64%
|----50th round Training Accuracy : 95.58%
|----51th round Training Accuracy : 95.52%
|----52th round Training Accuracy : 95.19%
|----53th round Training Accuracy : 95.25%
|----54th round Training Accuracy : 95.32%
|----55th round Training Accuracy : 95.47%
|----56th round Training Accuracy : 95.38%
|----57th round Training Accuracy : 95.42%
|----58th round Training Accuracy : 94.97%
|----59th round Training Accuracy : 95.18%
|----60th round Training Accuracy : 95.13%
|----61th round Training Accuracy : 95.21%
|----62th round Training Accuracy : 95.15%
|----63th round Training Accuracy : 95.24%
|----64th round Training Accuracy : 95.28%
|----65th round Training Accuracy : 95.33%
|----66th round Training Accuracy : 95.24%
|----67th round Training Accuracy : 95.31%
|----68th round Training Accuracy : 95.31%
|----69th round Training Accuracy : 95.42%
|----70th round Training Accuracy : 95.31%
|----71th round Training Accuracy : 95.38%
|----72th round Training Accuracy : 95.32%
|----73th round Training Accuracy : 95.36%
|----74th round Training Accuracy : 95.46%
|----75th round Training Accuracy : 95.50%
|----76th round Training Accuracy : 95.46%
|----77th round Training Accuracy : 95.51%
|----78th round Training Accuracy : 95.44%
|----79th round Training Accuracy : 95.54%
|----Final Test Accuracy: 95.42%
|----0th round Final Test Accuracy : 28.91%
|----1th round Final Test Accuracy : 71.80%
|----2th round Final Test Accuracy : 81.97%
|----3th round Final Test Accuracy : 86.13%
|----4th round Final Test Accuracy : 90.01%
|----5th round Final Test Accuracy : 93.02%
|----6th round Final Test Accuracy : 92.49%
|----7th round Final Test Accuracy : 94.51%
|----8th round Final Test Accuracy : 95.35%
|----9th round Final Test Accuracy : 95.45%
|----10th round Final Test Accuracy : 95.61%
|----11th round Final Test Accuracy : 96.10%
|----12th round Final Test Accuracy : 96.31%
|----13th round Final Test Accuracy : 96.44%
|----14th round Final Test Accuracy : 96.32%
|----15th round Final Test Accuracy : 96.54%
|----16th round Final Test Accuracy : 96.66%
|----17th round Final Test Accuracy : 96.87%
|----18th round Final Test Accuracy : 96.88%
|----19th round Final Test Accuracy : 96.89%
|----20th round Final Test Accuracy : 96.91%
|----21th round Final Test Accuracy : 96.93%
|----22th round Final Test Accuracy : 96.98%
|----23th round Final Test Accuracy : 97.06%
|----24th round Final Test Accuracy : 96.98%
|----25th round Final Test Accuracy : 97.00%
|----26th round Final Test Accuracy : 97.04%
|----27th round Final Test Accuracy : 97.14%
|----28th round Final Test Accuracy : 97.10%
|----29th round Final Test Accuracy : 97.26%
|----30th round Final Test Accuracy : 97.23%
|----31th round Final Test Accuracy : 97.28%
|----32th round Final Test Accuracy : 97.28%
|----33th round Final Test Accuracy : 97.27%
|----34th round Final Test Accuracy : 97.30%
|----35th round Final Test Accuracy : 97.31%
|----36th round Final Test Accuracy : 97.32%
|----37th round Final Test Accuracy : 97.34%
|----38th round Final Test Accuracy : 97.33%
|----39th round Final Test Accuracy : 97.35%
|----40th round Final Test Accuracy : 97.07%
|----41th round Final Test Accuracy : 96.95%
|----42th round Final Test Accuracy : 96.37%
|----43th round Final Test Accuracy : 96.44%
|----44th round Final Test Accuracy : 96.22%
|----45th round Final Test Accuracy : 96.08%
|----46th round Final Test Accuracy : 95.78%
|----47th round Final Test Accuracy : 95.85%
|----48th round Final Test Accuracy : 95.41%
|----49th round Final Test Accuracy : 95.73%
|----50th round Final Test Accuracy : 95.55%
|----51th round Final Test Accuracy : 95.59%
|----52th round Final Test Accuracy : 95.04%
|----53th round Final Test Accuracy : 95.18%
|----54th round Final Test Accuracy : 95.34%
|----55th round Final Test Accuracy : 95.51%
|----56th round Final Test Accuracy : 95.30%
|----57th round Final Test Accuracy : 95.39%
|----58th round Final Test Accuracy : 94.95%
|----59th round Final Test Accuracy : 95.22%
|----60th round Final Test Accuracy : 95.04%
|----61th round Final Test Accuracy : 95.09%
|----62th round Final Test Accuracy : 95.01%
|----63th round Final Test Accuracy : 95.16%
|----64th round Final Test Accuracy : 95.17%
|----65th round Final Test Accuracy : 95.18%
|----66th round Final Test Accuracy : 95.08%
|----67th round Final Test Accuracy : 95.24%
|----68th round Final Test Accuracy : 95.16%
|----69th round Final Test Accuracy : 95.39%
|----70th round Final Test Accuracy : 95.23%
|----71th round Final Test Accuracy : 95.37%
|----72th round Final Test Accuracy : 95.27%
|----73th round Final Test Accuracy : 95.32%
|----74th round Final Test Accuracy : 95.36%
|----75th round Final Test Accuracy : 95.40%
|----76th round Final Test Accuracy : 95.39%
|----77th round Final Test Accuracy : 95.39%
|----78th round Final Test Accuracy : 95.34%
|----79th round Final Test Accuracy : 95.42%

Experimental details:
    Dataset     : mnist
    Model     : cnn
    detailed Model     : vgg
    Optimizer : sgd
    Learning  : 0.01
    Global Rounds   : 80

    Federated parameters:
    Non-IID with common data
    balanced
    Fraction of users  : 0.2
    Local Batch size   : 10
    Local Epochs       : 5

    Attack ratio : 0.2
     Model attack is done!

 Total Run Time: 10989.7340
