
Experimental details:
    Dataset     : mnist
    Model     : cnn
    detailed Model     : vgg
    Optimizer : sgd
    Learning  : 0.01
    Global Rounds   : 80

    Federated parameters:
    Non-IID with common data
    balanced
    Fraction of users  : 0.2
    Local Batch size   : 10
    Local Epochs       : 5

    Attack ratio : 0.2
     Model attack is done!
attack user num is  10
 t is  8
attack_user is [40 41 42 43 44 45 46 47 48 49]

 | Global Training Round : 1 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0
 benign empirical indicaor res is  0.0
 
Avg Training Stats after 1 global rounds:
Train Accuracy: 30.67% 

Test Accuracy: 36.69% 


 | Global Training Round : 2 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.012489689514040947
 benign empirical indicaor res is  0.012489689514040947
 
Avg Training Stats after 2 global rounds:
Train Accuracy: 72.35% 

Test Accuracy: 70.89% 


 | Global Training Round : 3 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.013001112267374992
 benign empirical indicaor res is  0.013001112267374992
 
Avg Training Stats after 3 global rounds:
Train Accuracy: 68.42% 

Test Accuracy: 71.45% 


 | Global Training Round : 4 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.006429608445614576
 benign empirical indicaor res is  0.006429608445614576
 
Avg Training Stats after 4 global rounds:
Train Accuracy: 87.39% 

Test Accuracy: 87.49% 


 | Global Training Round : 5 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.005757578182965517
 benign empirical indicaor res is  0.005757578182965517
 
Avg Training Stats after 5 global rounds:
Train Accuracy: 87.98% 

Test Accuracy: 88.98% 


 | Global Training Round : 6 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0009715620544739068
 benign empirical indicaor res is  0.0009715620544739068
 
Avg Training Stats after 6 global rounds:
Train Accuracy: 90.97% 

Test Accuracy: 91.06% 


 | Global Training Round : 7 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.014230643399059772
 benign empirical indicaor res is  0.014230643399059772
 
Avg Training Stats after 7 global rounds:
Train Accuracy: 89.50% 

Test Accuracy: 90.28% 


 | Global Training Round : 8 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.010230747051537037
 benign empirical indicaor res is  0.010230747051537037
 
Avg Training Stats after 8 global rounds:
Train Accuracy: 94.27% 

Test Accuracy: 94.38% 


 | Global Training Round : 9 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.001119268243201077
 benign empirical indicaor res is  0.001119268243201077
 
Avg Training Stats after 9 global rounds:
Train Accuracy: 93.96% 

Test Accuracy: 94.59% 


 | Global Training Round : 10 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0030485347378998995
 benign empirical indicaor res is  0.0030485347378998995
 
Avg Training Stats after 10 global rounds:
Train Accuracy: 94.69% 

Test Accuracy: 94.52% 


 | Global Training Round : 11 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0006992724956944585
 benign empirical indicaor res is  0.0006992724956944585
 
Avg Training Stats after 11 global rounds:
Train Accuracy: 93.60% 

Test Accuracy: 94.32% 


 | Global Training Round : 12 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0060170735232532024
 benign empirical indicaor res is  0.0060170735232532024
 
Avg Training Stats after 12 global rounds:
Train Accuracy: 96.17% 

Test Accuracy: 96.20% 


 | Global Training Round : 13 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0017752405256032944
 benign empirical indicaor res is  0.0017752405256032944
 
Avg Training Stats after 13 global rounds:
Train Accuracy: 95.53% 

Test Accuracy: 95.88% 


 | Global Training Round : 14 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0049601346254348755
 benign empirical indicaor res is  0.0049601346254348755
 
Avg Training Stats after 14 global rounds:
Train Accuracy: 96.38% 

Test Accuracy: 96.31% 


 | Global Training Round : 15 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0038343975320458412
 benign empirical indicaor res is  0.0038343975320458412
 
Avg Training Stats after 15 global rounds:
Train Accuracy: 96.67% 

Test Accuracy: 96.76% 


 | Global Training Round : 16 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0012763671111315489
 benign empirical indicaor res is  0.0012763671111315489
 
Avg Training Stats after 16 global rounds:
Train Accuracy: 96.50% 

Test Accuracy: 96.69% 


 | Global Training Round : 17 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.003390464000403881
 benign empirical indicaor res is  0.003390464000403881
 
Avg Training Stats after 17 global rounds:
Train Accuracy: 96.40% 

Test Accuracy: 96.60% 


 | Global Training Round : 18 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0036282523069530725
 benign empirical indicaor res is  0.0036282523069530725
 
Avg Training Stats after 18 global rounds:
Train Accuracy: 96.58% 

Test Accuracy: 96.51% 


 | Global Training Round : 19 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.001939496723935008
 benign empirical indicaor res is  0.001939496723935008
 
Avg Training Stats after 19 global rounds:
Train Accuracy: 95.82% 

Test Accuracy: 96.05% 


 | Global Training Round : 20 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.003525516716763377
 benign empirical indicaor res is  0.003525516716763377
 
Avg Training Stats after 20 global rounds:
Train Accuracy: 97.24% 

Test Accuracy: 97.07% 


 | Global Training Round : 21 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0008776055183261633
 benign empirical indicaor res is  0.0008776055183261633
 
Avg Training Stats after 21 global rounds:
Train Accuracy: 97.40% 

Test Accuracy: 97.53% 


 | Global Training Round : 22 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0027250770945101976
 benign empirical indicaor res is  0.0027250770945101976
 
Avg Training Stats after 22 global rounds:
Train Accuracy: 97.38% 

Test Accuracy: 97.19% 


 | Global Training Round : 23 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0032881046645343304
 benign empirical indicaor res is  0.0032881046645343304
 
Avg Training Stats after 23 global rounds:
Train Accuracy: 97.09% 

Test Accuracy: 97.24% 


 | Global Training Round : 24 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.003634848864749074
 benign empirical indicaor res is  0.003634848864749074
 
Avg Training Stats after 24 global rounds:
Train Accuracy: 97.68% 

Test Accuracy: 97.68% 


 | Global Training Round : 25 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0005851859459653497
 benign empirical indicaor res is  0.0005851859459653497
 
Avg Training Stats after 25 global rounds:
Train Accuracy: 97.32% 

Test Accuracy: 97.18% 


 | Global Training Round : 26 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0001848176761996001
 benign empirical indicaor res is  0.0001848176761996001
 
Avg Training Stats after 26 global rounds:
Train Accuracy: 97.61% 

Test Accuracy: 97.60% 


 | Global Training Round : 27 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0037719435058534145
 benign empirical indicaor res is  0.0037719435058534145
 
Avg Training Stats after 27 global rounds:
Train Accuracy: 97.63% 

Test Accuracy: 97.70% 


 | Global Training Round : 28 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.002014275174587965
 benign empirical indicaor res is  0.002014275174587965
 
Avg Training Stats after 28 global rounds:
Train Accuracy: 97.88% 

Test Accuracy: 97.84% 


 | Global Training Round : 29 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0009144147625193
 benign empirical indicaor res is  0.0009144147625193
 
Avg Training Stats after 29 global rounds:
Train Accuracy: 97.57% 

Test Accuracy: 97.70% 


 | Global Training Round : 30 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.002275246661156416
 benign empirical indicaor res is  0.002275246661156416
 
Avg Training Stats after 30 global rounds:
Train Accuracy: 98.03% 

Test Accuracy: 97.92% 


 | Global Training Round : 31 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.00016565460828132927
 benign empirical indicaor res is  0.00016565460828132927
 
Avg Training Stats after 31 global rounds:
Train Accuracy: 97.68% 

Test Accuracy: 97.80% 


 | Global Training Round : 32 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.002798879286274314
 benign empirical indicaor res is  0.002798879286274314
 
Avg Training Stats after 32 global rounds:
Train Accuracy: 98.03% 

Test Accuracy: 98.01% 


 | Global Training Round : 33 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0004726416664198041
 benign empirical indicaor res is  0.0004726416664198041
 
Avg Training Stats after 33 global rounds:
Train Accuracy: 97.79% 

Test Accuracy: 98.02% 


 | Global Training Round : 34 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.001688246731646359
 benign empirical indicaor res is  0.001688246731646359
 
Avg Training Stats after 34 global rounds:
Train Accuracy: 97.99% 

Test Accuracy: 97.90% 


 | Global Training Round : 35 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0023178013507276773
 benign empirical indicaor res is  0.0023178013507276773
 
Avg Training Stats after 35 global rounds:
Train Accuracy: 97.91% 

Test Accuracy: 97.93% 


 | Global Training Round : 36 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.00037550603155978024
 benign empirical indicaor res is  0.00037550603155978024
 
Avg Training Stats after 36 global rounds:
Train Accuracy: 98.19% 

Test Accuracy: 98.23% 


 | Global Training Round : 37 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0012334900675341487
 benign empirical indicaor res is  0.0012334900675341487
 
Avg Training Stats after 37 global rounds:
Train Accuracy: 97.75% 

Test Accuracy: 97.79% 


 | Global Training Round : 38 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.002081007929518819
 benign empirical indicaor res is  0.002081007929518819
 
Avg Training Stats after 38 global rounds:
Train Accuracy: 98.21% 

Test Accuracy: 98.17% 


 | Global Training Round : 39 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.001500617596320808
 benign empirical indicaor res is  0.001500617596320808
 
Avg Training Stats after 39 global rounds:
Train Accuracy: 98.19% 

Test Accuracy: 98.22% 


 | Global Training Round : 40 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0015049991197884083
 benign empirical indicaor res is  0.0015049991197884083
 
Avg Training Stats after 40 global rounds:
Train Accuracy: 98.25% 

Test Accuracy: 98.24% 


 | Global Training Round : 41 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
poisoned accuracy threshold is  0.832400000157001
distance ratio is <class 'float'>
len of model dicts is  10
compute distance is  tensor(20.5014, device='cuda:3')
compute distance is  tensor(24.5946, device='cuda:3')
compute distance is  tensor(29.9628, device='cuda:3')
compute distance is  tensor(29.3515, device='cuda:3')
compute distance is  tensor(27.4072, device='cuda:3')
compute distance is  tensor(24.3294, device='cuda:3')
compute distance is  tensor(30.1215, device='cuda:3')
compute distance is  tensor(29.1431, device='cuda:3')
compute distance is  tensor(56.1372, device='cuda:3')
compute distance is  tensor(67.4526, device='cuda:3')
calculated distance threshold is  tensor(66.9831, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.4646333334896751
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.3494666668230071
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.4296333334896748
====================
====================
iteration is  1
round is  0
accuracy is  0.39148333348967435
====================
====================
iteration is  1
round is  1
accuracy is  0.3645833334896741
====================
________________________________
test distance is  tensor(4283.3452, device='cuda:3')
test acc is  0.3494666668230071
test entropy is  0.34634208105711034
________________________________
diff is  tensor(43.2482, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4355, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.1307, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4784, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.5094, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0567, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3278, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1594, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4216.3623, device='cuda:3')
sum is tensor(0.1594, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5948, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0733, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1300, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4578, device='cuda:3', dtype=torch.float64)
sum is tensor(66.7060, device='cuda:3', dtype=torch.float64)
sum is tensor(640.8367, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.3461, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0184, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.5094, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.2482, device='cuda:3')
discard
cal diff is tensor(0.4355, device='cuda:3')
discard
cal diff is tensor(574.1307, device='cuda:3')
discard
cal diff is tensor(0.4784, device='cuda:3')
discard
cal diff is tensor(3642.5093, device='cuda:3')
discard
cal diff is tensor(2.0567, device='cuda:3')
discard
cal diff is tensor(20.3278, device='cuda:3')
discard
cal diff is tensor(0.1594, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9824000001563186
test entropy is  0.08837534362740164
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.08837534362740164
avg test loss is  0.05783694777089153
avg accuracy is  0.9824000001563186
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3368721089796471
avg test loss is  4.227404962724714
avg accuracy is  0.3901166668230076
compute_distance is  tensor(106.6649, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(106.6649, device='cuda:3')
test acc is  0.3901166668230076
test entropy is  0.3368721089796471
________________________________
diff is  tensor(0.7398, device='cuda:3')
diff is  tensor(0.0065, device='cuda:3')
diff is  tensor(14.8809, device='cuda:3')
diff is  tensor(0.0163, device='cuda:3')
diff is  tensor(90.5290, device='cuda:3')
diff is  tensor(0.0391, device='cuda:3')
diff is  tensor(0.4445, device='cuda:3')
diff is  tensor(0.0033, device='cuda:3')
threshold is  tensor(39.6819, device='cuda:3')
sum is tensor(0.0033, device='cuda:3')
sum is tensor(0.0099, device='cuda:3')
sum is tensor(0.0262, device='cuda:3')
sum is tensor(0.0653, device='cuda:3')
sum is tensor(0.5098, device='cuda:3')
sum is tensor(1.2496, device='cuda:3')
sum is tensor(16.1304, device='cuda:3')
sum is tensor(106.6594, device='cuda:3')
ratio is tensor(0.7398, device='cuda:3')
threshold is tensor(90.5290, device='cuda:3')
cal diff is tensor(0.7398, device='cuda:3')
discard
cal diff is tensor(0.0065, device='cuda:3')
discard
cal diff is tensor(14.8809, device='cuda:3')
discard
cal diff is tensor(0.0163, device='cuda:3')
discard
cal diff is tensor(90.5290, device='cuda:3')
clipping
cal diff is tensor(0.0391, device='cuda:3')
discard
cal diff is tensor(0.4445, device='cuda:3')
discard
cal diff is tensor(0.0033, device='cuda:3')
discard
________________________________
test distance is  tensor(66.9866, device='cuda:3')
test acc is  0.8164333334896579
test entropy is  0.34079786142242996
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(66.9777, device='cuda:3')
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0035, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.7405, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(66.9777, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(49.6090, device='cuda:3')
test acc is  0.9283666668229871
test entropy is  0.23434386535017476
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.23434386535017476
avg test loss is  0.21303782207386962
avg accuracy is  0.9283666668229871
compute_distance is  tensor(49.6090, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.34362486047721874
avg test loss is  4.313833578563194
avg accuracy is  0.38053333348967416
compute_distance is  tensor(136.0825, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(136.0825, device='cuda:3')
test acc is  0.38053333348967416
test entropy is  0.34362486047721874
________________________________
diff is  tensor(0.7218, device='cuda:3')
diff is  tensor(0.0067, device='cuda:3')
diff is  tensor(14.0757, device='cuda:3')
diff is  tensor(0.0149, device='cuda:3')
diff is  tensor(120.9124, device='cuda:3')
diff is  tensor(0.0244, device='cuda:3')
diff is  tensor(0.3102, device='cuda:3')
diff is  tensor(0.0020, device='cuda:3')
threshold is  tensor(69.0994, device='cuda:3')
sum is tensor(0.0020, device='cuda:3')
sum is tensor(0.0087, device='cuda:3')
sum is tensor(0.0236, device='cuda:3')
sum is tensor(0.0480, device='cuda:3')
sum is tensor(0.3582, device='cuda:3')
sum is tensor(1.0800, device='cuda:3')
sum is tensor(15.1557, device='cuda:3')
sum is tensor(136.0681, device='cuda:3')
ratio is tensor(0.5539, device='cuda:3')
threshold is tensor(120.9124, device='cuda:3')
cal diff is tensor(0.7218, device='cuda:3')
discard
cal diff is tensor(0.0067, device='cuda:3')
discard
cal diff is tensor(14.0757, device='cuda:3')
discard
cal diff is tensor(0.0149, device='cuda:3')
discard
cal diff is tensor(120.9124, device='cuda:3')
clipping
cal diff is tensor(0.0244, device='cuda:3')
discard
cal diff is tensor(0.3102, device='cuda:3')
discard
cal diff is tensor(0.0020, device='cuda:3')
discard
________________________________
test distance is  tensor(66.9796, device='cuda:3')
test acc is  0.8993000001563214
test entropy is  0.2874136052326734
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2874136052326734
avg test loss is  0.2876964041720957
avg accuracy is  0.8993000001563214
compute_distance is  tensor(66.9796, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.34658160654784265
avg test loss is  4.340880649938766
avg accuracy is  0.3766833334896741
compute_distance is  tensor(149.4320, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(149.4320, device='cuda:3')
test acc is  0.3766833334896741
test entropy is  0.34658160654784265
________________________________
diff is  tensor(0.7616, device='cuda:3')
diff is  tensor(0.0071, device='cuda:3')
diff is  tensor(14.1342, device='cuda:3')
diff is  tensor(0.0150, device='cuda:3')
diff is  tensor(134.1914, device='cuda:3')
diff is  tensor(0.0223, device='cuda:3')
diff is  tensor(0.2812, device='cuda:3')
diff is  tensor(0.0018, device='cuda:3')
threshold is  tensor(82.4489, device='cuda:3')
sum is tensor(0.0018, device='cuda:3')
sum is tensor(0.0089, device='cuda:3')
sum is tensor(0.0240, device='cuda:3')
sum is tensor(0.0462, device='cuda:3')
sum is tensor(0.3274, device='cuda:3')
sum is tensor(1.0890, device='cuda:3')
sum is tensor(15.2232, device='cuda:3')
sum is tensor(149.4146, device='cuda:3')
ratio is tensor(0.4990, device='cuda:3')
threshold is tensor(134.1914, device='cuda:3')
cal diff is tensor(0.7616, device='cuda:3')
discard
cal diff is tensor(0.0071, device='cuda:3')
discard
cal diff is tensor(14.1342, device='cuda:3')
discard
cal diff is tensor(0.0150, device='cuda:3')
discard
cal diff is tensor(134.1914, device='cuda:3')
clipping
cal diff is tensor(0.0223, device='cuda:3')
discard
cal diff is tensor(0.2812, device='cuda:3')
discard
cal diff is tensor(0.0018, device='cuda:3')
discard
________________________________
test distance is  tensor(66.9779, device='cuda:3')
test acc is  0.9219000001563207
test entropy is  0.2580370980142149
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2580370980142149
avg test loss is  0.23065039908279106
avg accuracy is  0.9219000001563207
compute_distance is  tensor(66.9779, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.34715270854707464
avg test loss is  4.33536816227919
avg accuracy is  0.37690000015634073
compute_distance is  tensor(150.8372, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(150.8372, device='cuda:3')
test acc is  0.37690000015634073
test entropy is  0.34715270854707464
________________________________
diff is  tensor(0.7746, device='cuda:3')
diff is  tensor(0.0072, device='cuda:3')
diff is  tensor(14.5640, device='cuda:3')
diff is  tensor(0.0156, device='cuda:3')
diff is  tensor(135.1475, device='cuda:3')
diff is  tensor(0.0231, device='cuda:3')
diff is  tensor(0.2850, device='cuda:3')
diff is  tensor(0.0020, device='cuda:3')
threshold is  tensor(83.8541, device='cuda:3')
sum is tensor(0.0020, device='cuda:3')
sum is tensor(0.0092, device='cuda:3')
sum is tensor(0.0248, device='cuda:3')
sum is tensor(0.0479, device='cuda:3')
sum is tensor(0.3329, device='cuda:3')
sum is tensor(1.1075, device='cuda:3')
sum is tensor(15.6715, device='cuda:3')
sum is tensor(150.8190, device='cuda:3')
ratio is tensor(0.4955, device='cuda:3')
threshold is tensor(135.1475, device='cuda:3')
cal diff is tensor(0.7746, device='cuda:3')
discard
cal diff is tensor(0.0072, device='cuda:3')
discard
cal diff is tensor(14.5640, device='cuda:3')
discard
cal diff is tensor(0.0156, device='cuda:3')
discard
cal diff is tensor(135.1475, device='cuda:3')
clipping
cal diff is tensor(0.0231, device='cuda:3')
discard
cal diff is tensor(0.2850, device='cuda:3')
discard
cal diff is tensor(0.0020, device='cuda:3')
discard
________________________________
test distance is  tensor(66.9777, device='cuda:3')
test acc is  0.9263166668229871
test entropy is  0.25025124894752937
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.25025124894752937
avg test loss is  0.2184752883282361
avg accuracy is  0.9263166668229871
compute_distance is  tensor(66.9777, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3474234404054278
avg test loss is  4.333520048208582
avg accuracy is  0.3769166668230074
compute_distance is  tensor(151.1403, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(151.1403, device='cuda:3')
test acc is  0.3769166668230074
test entropy is  0.3474234404054278
________________________________
diff is  tensor(0.7760, device='cuda:3')
diff is  tensor(0.0073, device='cuda:3')
diff is  tensor(14.7137, device='cuda:3')
diff is  tensor(0.0158, device='cuda:3')
diff is  tensor(135.2975, device='cuda:3')
diff is  tensor(0.0234, device='cuda:3')
diff is  tensor(0.2859, device='cuda:3')
diff is  tensor(0.0020, device='cuda:3')
threshold is  tensor(84.1573, device='cuda:3')
sum is tensor(0.0020, device='cuda:3')
sum is tensor(0.0093, device='cuda:3')
sum is tensor(0.0251, device='cuda:3')
sum is tensor(0.0485, device='cuda:3')
sum is tensor(0.3344, device='cuda:3')
sum is tensor(1.1104, device='cuda:3')
sum is tensor(15.8241, device='cuda:3')
sum is tensor(151.1216, device='cuda:3')
ratio is tensor(0.4949, device='cuda:3')
threshold is tensor(135.2975, device='cuda:3')
cal diff is tensor(0.7760, device='cuda:3')
discard
cal diff is tensor(0.0073, device='cuda:3')
discard
cal diff is tensor(14.7137, device='cuda:3')
discard
cal diff is tensor(0.0158, device='cuda:3')
discard
cal diff is tensor(135.2975, device='cuda:3')
clipping
cal diff is tensor(0.0234, device='cuda:3')
discard
cal diff is tensor(0.2859, device='cuda:3')
discard
cal diff is tensor(0.0020, device='cuda:3')
discard
________________________________
test distance is  tensor(66.9775, device='cuda:3')
test acc is  0.9276500001563205
test entropy is  0.24776519159836047
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.24776519159836047
avg test loss is  0.21525182024136916
avg accuracy is  0.9276500001563205
compute_distance is  tensor(66.9775, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3475727903595103
avg test loss is  4.333301392699609
avg accuracy is  0.3767333334896741
compute_distance is  tensor(151.2153, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(151.2153, device='cuda:3')
test acc is  0.3767333334896741
test entropy is  0.3475727903595103
________________________________
diff is  tensor(0.7756, device='cuda:3')
diff is  tensor(0.0073, device='cuda:3')
diff is  tensor(14.7628, device='cuda:3')
diff is  tensor(0.0159, device='cuda:3')
diff is  tensor(135.3238, device='cuda:3')
diff is  tensor(0.0235, device='cuda:3')
diff is  tensor(0.2855, device='cuda:3')
diff is  tensor(0.0020, device='cuda:3')
threshold is  tensor(84.2323, device='cuda:3')
sum is tensor(0.0020, device='cuda:3')
sum is tensor(0.0093, device='cuda:3')
sum is tensor(0.0252, device='cuda:3')
sum is tensor(0.0487, device='cuda:3')
sum is tensor(0.3341, device='cuda:3')
sum is tensor(1.1098, device='cuda:3')
sum is tensor(15.8725, device='cuda:3')
sum is tensor(151.1963, device='cuda:3')
ratio is tensor(0.4948, device='cuda:3')
threshold is tensor(135.3238, device='cuda:3')
cal diff is tensor(0.7756, device='cuda:3')
discard
cal diff is tensor(0.0073, device='cuda:3')
discard
cal diff is tensor(14.7628, device='cuda:3')
discard
cal diff is tensor(0.0159, device='cuda:3')
discard
cal diff is tensor(135.3238, device='cuda:3')
clipping
cal diff is tensor(0.0235, device='cuda:3')
discard
cal diff is tensor(0.2855, device='cuda:3')
discard
cal diff is tensor(0.0020, device='cuda:3')
discard
________________________________
test distance is  tensor(66.9775, device='cuda:3')
test acc is  0.9283333334896537
test entropy is  0.24657577648758888
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.24657577648758888
avg test loss is  0.2140329711115373
avg accuracy is  0.9283333334896537
compute_distance is  tensor(66.9775, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3476682287861289
avg test loss is  4.333908165950002
avg accuracy is  0.3767333334896741
compute_distance is  tensor(151.2203, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(151.2203, device='cuda:3')
test acc is  0.3767333334896741
test entropy is  0.3476682287861289
________________________________
diff is  tensor(0.7743, device='cuda:3')
diff is  tensor(0.0073, device='cuda:3')
diff is  tensor(14.7819, device='cuda:3')
diff is  tensor(0.0159, device='cuda:3')
diff is  tensor(135.3110, device='cuda:3')
diff is  tensor(0.0235, device='cuda:3')
diff is  tensor(0.2851, device='cuda:3')
diff is  tensor(0.0020, device='cuda:3')
threshold is  tensor(84.2372, device='cuda:3')
sum is tensor(0.0020, device='cuda:3')
sum is tensor(0.0093, device='cuda:3')
sum is tensor(0.0252, device='cuda:3')
sum is tensor(0.0487, device='cuda:3')
sum is tensor(0.3338, device='cuda:3')
sum is tensor(1.1081, device='cuda:3')
sum is tensor(15.8900, device='cuda:3')
sum is tensor(151.2010, device='cuda:3')
ratio is tensor(0.4949, device='cuda:3')
threshold is tensor(135.3110, device='cuda:3')
cal diff is tensor(0.7743, device='cuda:3')
discard
cal diff is tensor(0.0073, device='cuda:3')
discard
cal diff is tensor(14.7819, device='cuda:3')
discard
cal diff is tensor(0.0159, device='cuda:3')
discard
cal diff is tensor(135.3110, device='cuda:3')
clipping
cal diff is tensor(0.0235, device='cuda:3')
discard
cal diff is tensor(0.2851, device='cuda:3')
discard
cal diff is tensor(0.0020, device='cuda:3')
discard
________________________________
test distance is  tensor(66.9774, device='cuda:3')
test acc is  0.9285166668229871
test entropy is  0.2457958656524036
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2457958656524036
avg test loss is  0.21329981266165465
avg accuracy is  0.9285166668229871
compute_distance is  tensor(66.9774, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3477148365999844
avg test loss is  4.3350895986374
avg accuracy is  0.3766666668230075
compute_distance is  tensor(151.1857, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(151.1857, device='cuda:3')
test acc is  0.3766666668230075
test entropy is  0.3477148365999844
________________________________
diff is  tensor(0.7736, device='cuda:3')
diff is  tensor(0.0073, device='cuda:3')
diff is  tensor(14.7907, device='cuda:3')
diff is  tensor(0.0160, device='cuda:3')
diff is  tensor(135.2683, device='cuda:3')
diff is  tensor(0.0235, device='cuda:3')
diff is  tensor(0.2849, device='cuda:3')
diff is  tensor(0.0020, device='cuda:3')
threshold is  tensor(84.2027, device='cuda:3')
sum is tensor(0.0020, device='cuda:3')
sum is tensor(0.0093, device='cuda:3')
sum is tensor(0.0252, device='cuda:3')
sum is tensor(0.0487, device='cuda:3')
sum is tensor(0.3336, device='cuda:3')
sum is tensor(1.1072, device='cuda:3')
sum is tensor(15.8979, device='cuda:3')
sum is tensor(151.1663, device='cuda:3')
ratio is tensor(0.4950, device='cuda:3')
threshold is tensor(135.2683, device='cuda:3')
cal diff is tensor(0.7736, device='cuda:3')
discard
cal diff is tensor(0.0073, device='cuda:3')
discard
cal diff is tensor(14.7907, device='cuda:3')
discard
cal diff is tensor(0.0160, device='cuda:3')
discard
cal diff is tensor(135.2683, device='cuda:3')
clipping
cal diff is tensor(0.0235, device='cuda:3')
discard
cal diff is tensor(0.2849, device='cuda:3')
discard
cal diff is tensor(0.0020, device='cuda:3')
discard
________________________________
test distance is  tensor(66.9774, device='cuda:3')
test acc is  0.9287666668229871
test entropy is  0.2453103547316116
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2453103547316116
avg test loss is  0.212841442645168
avg accuracy is  0.9287666668229871
compute_distance is  tensor(66.9774, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.34777520887696667
avg test loss is  4.336772452285295
avg accuracy is  0.37656666682300743
compute_distance is  tensor(151.1757, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(151.1757, device='cuda:3')
test acc is  0.37656666682300743
test entropy is  0.34777520887696667
________________________________
diff is  tensor(0.7732, device='cuda:3')
diff is  tensor(0.0073, device='cuda:3')
diff is  tensor(14.7924, device='cuda:3')
diff is  tensor(0.0159, device='cuda:3')
diff is  tensor(135.2569, device='cuda:3')
diff is  tensor(0.0235, device='cuda:3')
diff is  tensor(0.2849, device='cuda:3')
diff is  tensor(0.0020, device='cuda:3')
threshold is  tensor(84.1927, device='cuda:3')
sum is tensor(0.0020, device='cuda:3')
sum is tensor(0.0093, device='cuda:3')
sum is tensor(0.0252, device='cuda:3')
sum is tensor(0.0487, device='cuda:3')
sum is tensor(0.3336, device='cuda:3')
sum is tensor(1.1068, device='cuda:3')
sum is tensor(15.8992, device='cuda:3')
sum is tensor(151.1561, device='cuda:3')
ratio is tensor(0.4951, device='cuda:3')
threshold is tensor(135.2569, device='cuda:3')
cal diff is tensor(0.7732, device='cuda:3')
discard
cal diff is tensor(0.0073, device='cuda:3')
discard
cal diff is tensor(14.7924, device='cuda:3')
discard
cal diff is tensor(0.0159, device='cuda:3')
discard
cal diff is tensor(135.2569, device='cuda:3')
clipping
cal diff is tensor(0.0235, device='cuda:3')
discard
cal diff is tensor(0.2849, device='cuda:3')
discard
cal diff is tensor(0.0020, device='cuda:3')
discard
reach max round
new distance ratio is 0.99
 
Avg Training Stats after 41 global rounds:
Train Accuracy: 97.22% 

Test Accuracy: 97.09% 


 | Global Training Round : 42 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.004686859901994467
attack res is False
len of model dicts is  10
compute distance is  tensor(18.5516, device='cuda:3')
compute distance is  tensor(23.6590, device='cuda:3')
compute distance is  tensor(43.5173, device='cuda:3')
compute distance is  tensor(23.0274, device='cuda:3')
compute distance is  tensor(17.9327, device='cuda:3')
compute distance is  tensor(34.1790, device='cuda:3')
compute distance is  tensor(23.9806, device='cuda:3')
compute distance is  tensor(38.0963, device='cuda:3')
compute distance is  tensor(59.5155, device='cuda:3')
compute distance is  tensor(64.2943, device='cuda:3')
calculated distance threshold is  tensor(59.6582, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.3003500001563396
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.42881666682300806
====================
====================
iteration is  0
round is  2
accuracy is  0.3715500001563407
====================
====================
iteration is  1
round is  0
accuracy is  0.342866666823007
====================
====================
iteration is  1
round is  1
accuracy is  0.2522000001563383
====================
succ_min + 1
________________________________
test distance is  tensor(4281.8457, device='cuda:3')
test acc is  0.2522000001563383
test entropy is  0.30586372876662943
________________________________
diff is  tensor(44.7948, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2929, device='cuda:3', dtype=torch.float64)
diff is  tensor(570.9380, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5041, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.7832, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0289, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3142, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1901, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4222.1875, device='cuda:3')
sum is tensor(0.1901, device='cuda:3', dtype=torch.float64)
sum is tensor(0.4831, device='cuda:3', dtype=torch.float64)
sum is tensor(0.9871, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0160, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3302, device='cuda:3', dtype=torch.float64)
sum is tensor(68.1250, device='cuda:3', dtype=torch.float64)
sum is tensor(639.0630, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.8462, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0164, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.7832, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.7948, device='cuda:3')
discard
cal diff is tensor(0.2929, device='cuda:3')
discard
cal diff is tensor(570.9380, device='cuda:3')
discard
cal diff is tensor(0.5041, device='cuda:3')
discard
cal diff is tensor(3642.7832, device='cuda:3')
clipping
cal diff is tensor(2.0289, device='cuda:3')
discard
cal diff is tensor(20.3142, device='cuda:3')
discard
cal diff is tensor(0.1901, device='cuda:3')
discard
________________________________
test distance is  tensor(59.6689, device='cuda:3')
test acc is  0.970250000156319
test entropy is  0.1388755301311453
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(59.6587, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0107, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(59.6689, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(59.6587, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(59.6587, device='cuda:3')
discard
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.970400000156319
test entropy is  0.13836463626775977
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.13836463626775977
avg test loss is  0.09454276995894227
avg accuracy is  0.970400000156319
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.33023663535555287
avg test loss is  6.3617967967031355
avg accuracy is  0.2624666668230053
compute_distance is  tensor(104.0578, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(104.0578, device='cuda:3')
test acc is  0.2624666668230053
test entropy is  0.33023663535555287
________________________________
diff is  tensor(0.7713, device='cuda:3')
diff is  tensor(0.0068, device='cuda:3')
diff is  tensor(16.6896, device='cuda:3')
diff is  tensor(0.0185, device='cuda:3')
diff is  tensor(86.0994, device='cuda:3')
diff is  tensor(0.0366, device='cuda:3')
diff is  tensor(0.4214, device='cuda:3')
diff is  tensor(0.0032, device='cuda:3')
threshold is  tensor(44.3996, device='cuda:3')
sum is tensor(0.0032, device='cuda:3')
sum is tensor(0.0100, device='cuda:3')
sum is tensor(0.0285, device='cuda:3')
sum is tensor(0.0651, device='cuda:3')
sum is tensor(0.4865, device='cuda:3')
sum is tensor(1.2578, device='cuda:3')
sum is tensor(17.9474, device='cuda:3')
sum is tensor(104.0468, device='cuda:3')
ratio is tensor(0.6928, device='cuda:3')
threshold is tensor(86.0994, device='cuda:3')
cal diff is tensor(0.7713, device='cuda:3')
discard
cal diff is tensor(0.0068, device='cuda:3')
discard
cal diff is tensor(16.6896, device='cuda:3')
discard
cal diff is tensor(0.0185, device='cuda:3')
discard
cal diff is tensor(86.0994, device='cuda:3')
clipping
cal diff is tensor(0.0366, device='cuda:3')
discard
cal diff is tensor(0.4214, device='cuda:3')
discard
cal diff is tensor(0.0032, device='cuda:3')
discard
________________________________
test distance is  tensor(59.6570, device='cuda:3')
test acc is  0.7464333334896615
test entropy is  0.40483768139757326
________________________________
new distance ratio is 0.8999999999999999
 
Avg Training Stats after 42 global rounds:
Train Accuracy: 98.03% 

Test Accuracy: 98.13% 


 | Global Training Round : 43 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0032833139412105083
attack res is False
len of model dicts is  10
compute distance is  tensor(23.5012, device='cuda:3')
compute distance is  tensor(24.7679, device='cuda:3')
compute distance is  tensor(76.7661, device='cuda:3')
compute distance is  tensor(23.0659, device='cuda:3')
compute distance is  tensor(23.0203, device='cuda:3')
compute distance is  tensor(46.2162, device='cuda:3')
compute distance is  tensor(51.4224, device='cuda:3')
compute distance is  tensor(31.1733, device='cuda:3')
compute distance is  tensor(51.2377, device='cuda:3')
compute distance is  tensor(32.6693, device='cuda:3')
calculated distance threshold is  tensor(66.9941, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.38033333348967424
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.3535500001563406
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.32415000015633993
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.3861333334896742
====================
====================
iteration is  1
round is  1
accuracy is  0.18831666682300233
====================
succ_min + 1
________________________________
test distance is  tensor(4281.7632, device='cuda:3')
test acc is  0.18831666682300233
test entropy is  0.1155798021934307
________________________________
diff is  tensor(44.1419, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4088, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.1321, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4969, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.0505, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0374, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2842, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2109, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4214.7690, device='cuda:3')
sum is tensor(0.2109, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6198, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1167, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1541, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4383, device='cuda:3', dtype=torch.float64)
sum is tensor(67.5802, device='cuda:3', dtype=torch.float64)
sum is tensor(640.7123, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.7628, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0184, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.0505, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.1419, device='cuda:3')
discard
cal diff is tensor(0.4088, device='cuda:3')
discard
cal diff is tensor(573.1321, device='cuda:3')
discard
cal diff is tensor(0.4969, device='cuda:3')
discard
cal diff is tensor(3641.0505, device='cuda:3')
discard
cal diff is tensor(2.0374, device='cuda:3')
discard
cal diff is tensor(20.2842, device='cuda:3')
discard
cal diff is tensor(0.2109, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9804000001563188
test entropy is  0.1027593180727857
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.1027593180727857
avg test loss is  0.06613467304162117
avg accuracy is  0.9804000001563188
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.1034084458325082
avg test loss is  8.53550379362696
avg accuracy is  0.17001666682300132
compute_distance is  tensor(95.7879, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(95.7879, device='cuda:3')
test acc is  0.17001666682300132
test entropy is  0.1034084458325082
________________________________
diff is  tensor(0.7101, device='cuda:3')
diff is  tensor(0.0061, device='cuda:3')
diff is  tensor(13.6648, device='cuda:3')
diff is  tensor(0.0162, device='cuda:3')
diff is  tensor(80.9194, device='cuda:3')
diff is  tensor(0.0338, device='cuda:3')
diff is  tensor(0.4218, device='cuda:3')
diff is  tensor(0.0031, device='cuda:3')
threshold is  tensor(28.7937, device='cuda:3')
sum is tensor(0.0031, device='cuda:3')
sum is tensor(0.0092, device='cuda:3')
sum is tensor(0.0254, device='cuda:3')
sum is tensor(0.0592, device='cuda:3')
sum is tensor(0.4810, device='cuda:3')
sum is tensor(1.1911, device='cuda:3')
sum is tensor(14.8558, device='cuda:3')
sum is tensor(95.7752, device='cuda:3')
ratio is tensor(0.8278, device='cuda:3')
threshold is tensor(80.9194, device='cuda:3')
cal diff is tensor(0.7101, device='cuda:3')
discard
cal diff is tensor(0.0061, device='cuda:3')
discard
cal diff is tensor(13.6648, device='cuda:3')
discard
cal diff is tensor(0.0162, device='cuda:3')
discard
cal diff is tensor(80.9194, device='cuda:3')
clipping
cal diff is tensor(0.0338, device='cuda:3')
discard
cal diff is tensor(0.4218, device='cuda:3')
discard
cal diff is tensor(0.0031, device='cuda:3')
discard
________________________________
test distance is  tensor(66.9921, device='cuda:3')
test acc is  0.5147500001563421
test entropy is  0.31101386898806865
________________________________
new distance ratio is 0.818181818181818
 
Avg Training Stats after 43 global rounds:
Train Accuracy: 90.86% 

Test Accuracy: 91.57% 


 | Global Training Round : 44 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.00619750190526247
attack res is True
len of model dicts is  10
compute distance is  tensor(34.4866, device='cuda:3')
compute distance is  tensor(40.5308, device='cuda:3')
compute distance is  tensor(44.0575, device='cuda:3')
compute distance is  tensor(54.6582, device='cuda:3')
compute distance is  tensor(37.7606, device='cuda:3')
compute distance is  tensor(43.6521, device='cuda:3')
compute distance is  tensor(47.1120, device='cuda:3')
compute distance is  tensor(39.8796, device='cuda:3')
compute distance is  tensor(38.4951, device='cuda:3')
compute distance is  tensor(54.7593, device='cuda:3')
calculated distance threshold is  tensor(52.7321, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.12378333348966528
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.3351166668230069
====================
====================
iteration is  0
round is  2
accuracy is  0.24750000015633816
====================
====================
iteration is  1
round is  0
accuracy is  0.27318333348967216
====================
====================
iteration is  1
round is  1
accuracy is  0.19503333348966945
====================
________________________________
test distance is  tensor(4282.6177, device='cuda:3')
test acc is  0.12378333348966528
test entropy is  0.029471865340100246
________________________________
diff is  tensor(43.3553, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3872, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.8495, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5272, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.9505, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0349, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3360, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1768, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4229.8857, device='cuda:3')
sum is tensor(0.1768, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5640, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0911, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1261, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4620, device='cuda:3', dtype=torch.float64)
sum is tensor(66.8174, device='cuda:3', dtype=torch.float64)
sum is tensor(640.6668, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.6173, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0145, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.9505, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.3553, device='cuda:3')
discard
cal diff is tensor(0.3872, device='cuda:3')
discard
cal diff is tensor(573.8494, device='cuda:3')
discard
cal diff is tensor(0.5272, device='cuda:3')
discard
cal diff is tensor(3641.9504, device='cuda:3')
discard
cal diff is tensor(2.0349, device='cuda:3')
discard
cal diff is tensor(20.3360, device='cuda:3')
discard
cal diff is tensor(0.1768, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9120333334896542
test entropy is  0.23215828685046258
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.23215828685046258
avg test loss is  0.2482112394705383
avg accuracy is  0.9120333334896542
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.023229838076565385
avg test loss is  13.421367680848535
avg accuracy is  0.11771666682299863
compute_distance is  tensor(89.2376, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(89.2376, device='cuda:3')
test acc is  0.11771666682299863
test entropy is  0.023229838076565385
________________________________
diff is  tensor(0.6938, device='cuda:3')
diff is  tensor(0.0064, device='cuda:3')
diff is  tensor(12.9002, device='cuda:3')
diff is  tensor(0.0142, device='cuda:3')
diff is  tensor(75.2226, device='cuda:3')
diff is  tensor(0.0307, device='cuda:3')
diff is  tensor(0.3567, device='cuda:3')
diff is  tensor(0.0031, device='cuda:3')
threshold is  tensor(36.5056, device='cuda:3')
sum is tensor(0.0031, device='cuda:3')
sum is tensor(0.0095, device='cuda:3')
sum is tensor(0.0237, device='cuda:3')
sum is tensor(0.0544, device='cuda:3')
sum is tensor(0.4111, device='cuda:3')
sum is tensor(1.1050, device='cuda:3')
sum is tensor(14.0052, device='cuda:3')
sum is tensor(89.2278, device='cuda:3')
ratio is tensor(0.7009, device='cuda:3')
threshold is tensor(75.2226, device='cuda:3')
cal diff is tensor(0.6938, device='cuda:3')
discard
cal diff is tensor(0.0064, device='cuda:3')
discard
cal diff is tensor(12.9002, device='cuda:3')
discard
cal diff is tensor(0.0142, device='cuda:3')
discard
cal diff is tensor(75.2226, device='cuda:3')
clipping
cal diff is tensor(0.0307, device='cuda:3')
discard
cal diff is tensor(0.3567, device='cuda:3')
discard
cal diff is tensor(0.0031, device='cuda:3')
discard
________________________________
test distance is  tensor(52.7288, device='cuda:3')
test acc is  0.31278333348967313
test entropy is  0.2703364504807031
________________________________
new distance ratio is 0.8999999999999999
 
Avg Training Stats after 44 global rounds:
Train Accuracy: 97.64% 

Test Accuracy: 97.61% 


 | Global Training Round : 45 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.004605339374393225
attack res is False
len of model dicts is  10
compute distance is  tensor(27.2283, device='cuda:3')
compute distance is  tensor(18.2393, device='cuda:3')
compute distance is  tensor(43.3420, device='cuda:3')
compute distance is  tensor(31.8466, device='cuda:3')
compute distance is  tensor(29.7053, device='cuda:3')
compute distance is  tensor(30.2775, device='cuda:3')
compute distance is  tensor(44.5152, device='cuda:3')
compute distance is  tensor(23.6355, device='cuda:3')
compute distance is  tensor(85.6936, device='cuda:3')
compute distance is  tensor(42.5629, device='cuda:3')
calculated distance threshold is  tensor(73.4292, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.14165000015633242
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.43620000015634147
====================
====================
iteration is  0
round is  2
accuracy is  0.16246666682300076
====================
====================
iteration is  1
round is  0
accuracy is  0.38666666682300765
====================
====================
iteration is  1
round is  1
accuracy is  0.39366666682300766
====================
________________________________
test distance is  tensor(4284.0562, device='cuda:3')
test acc is  0.14165000015633242
test entropy is  0.11543693679815797
________________________________
diff is  tensor(43.9839, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3850, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.4999, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5362, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.0559, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0340, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3441, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2166, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4210.6270, device='cuda:3')
sum is tensor(0.2166, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6016, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1378, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1718, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5160, device='cuda:3', dtype=torch.float64)
sum is tensor(67.4998, device='cuda:3', dtype=torch.float64)
sum is tensor(641.9997, device='cuda:3', dtype=torch.float64)
sum is tensor(4284.0556, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0202, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.0559, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.9839, device='cuda:3')
discard
cal diff is tensor(0.3850, device='cuda:3')
discard
cal diff is tensor(574.4999, device='cuda:3')
discard
cal diff is tensor(0.5362, device='cuda:3')
discard
cal diff is tensor(3642.0557, device='cuda:3')
discard
cal diff is tensor(2.0340, device='cuda:3')
discard
cal diff is tensor(20.3441, device='cuda:3')
discard
cal diff is tensor(0.2166, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9765833334896522
test entropy is  0.11924210145100475
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.11924210145100475
avg test loss is  0.07887250067505326
avg accuracy is  0.9765833334896522
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.0903989417688933
avg test loss is  7.744924565622293
avg accuracy is  0.101050000156332
compute_distance is  tensor(97.4930, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(97.4930, device='cuda:3')
test acc is  0.101050000156332
test entropy is  0.0903989417688933
________________________________
diff is  tensor(0.8340, device='cuda:3')
diff is  tensor(0.0069, device='cuda:3')
diff is  tensor(14.2699, device='cuda:3')
diff is  tensor(0.0154, device='cuda:3')
diff is  tensor(81.9103, device='cuda:3')
diff is  tensor(0.0368, device='cuda:3')
diff is  tensor(0.4093, device='cuda:3')
diff is  tensor(0.0031, device='cuda:3')
threshold is  tensor(24.0639, device='cuda:3')
sum is tensor(0.0031, device='cuda:3')
sum is tensor(0.0100, device='cuda:3')
sum is tensor(0.0254, device='cuda:3')
sum is tensor(0.0621, device='cuda:3')
sum is tensor(0.4714, device='cuda:3')
sum is tensor(1.3054, device='cuda:3')
sum is tensor(15.5753, device='cuda:3')
sum is tensor(97.4856, device='cuda:3')
ratio is tensor(0.8964, device='cuda:3')
threshold is tensor(81.9103, device='cuda:3')
cal diff is tensor(0.8340, device='cuda:3')
discard
cal diff is tensor(0.0069, device='cuda:3')
discard
cal diff is tensor(14.2699, device='cuda:3')
discard
cal diff is tensor(0.0154, device='cuda:3')
discard
cal diff is tensor(81.9103, device='cuda:3')
clipping
cal diff is tensor(0.0368, device='cuda:3')
discard
cal diff is tensor(0.4093, device='cuda:3')
discard
cal diff is tensor(0.0031, device='cuda:3')
discard
________________________________
test distance is  tensor(73.4291, device='cuda:3')
test acc is  0.5641833334896741
test entropy is  0.3493071589896928
________________________________
new distance ratio is 0.818181818181818
 
Avg Training Stats after 45 global rounds:
Train Accuracy: 97.76% 

Test Accuracy: 97.78% 


 | Global Training Round : 46 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.004391148220747709
attack res is False
len of model dicts is  10
compute distance is  tensor(18.0622, device='cuda:3')
compute distance is  tensor(20.4754, device='cuda:3')
compute distance is  tensor(25.8605, device='cuda:3')
compute distance is  tensor(36.4914, device='cuda:3')
compute distance is  tensor(31.8396, device='cuda:3')
compute distance is  tensor(28.0993, device='cuda:3')
compute distance is  tensor(37.8411, device='cuda:3')
compute distance is  tensor(46.3161, device='cuda:3')
compute distance is  tensor(42.4658, device='cuda:3')
compute distance is  tensor(48.9679, device='cuda:3')
calculated distance threshold is  tensor(41.0499, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.2693833334896721
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.26048333348967184
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.5300333334896756
====================
====================
iteration is  1
round is  0
accuracy is  0.28521666682300584
====================
====================
iteration is  1
round is  1
accuracy is  0.38195000015634084
====================
________________________________
test distance is  tensor(4281.3696, device='cuda:3')
test acc is  0.26048333348967184
test entropy is  0.2721807750017404
________________________________
diff is  tensor(44.1260, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3608, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.6482, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5058, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.2765, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0609, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2112, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1799, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4240.3198, device='cuda:3')
sum is tensor(0.1799, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5407, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0465, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1074, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3186, device='cuda:3', dtype=torch.float64)
sum is tensor(67.4447, device='cuda:3', dtype=torch.float64)
sum is tensor(639.0929, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.3694, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0113, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.2765, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.1260, device='cuda:3')
discard
cal diff is tensor(0.3608, device='cuda:3')
discard
cal diff is tensor(571.6482, device='cuda:3')
discard
cal diff is tensor(0.5058, device='cuda:3')
discard
cal diff is tensor(3642.2764, device='cuda:3')
discard
cal diff is tensor(2.0609, device='cuda:3')
discard
cal diff is tensor(20.2112, device='cuda:3')
discard
cal diff is tensor(0.1799, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9766166668229855
test entropy is  0.11696534055366573
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.11696534055366573
avg test loss is  0.0757462068394855
avg accuracy is  0.9766166668229855
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.27651140158936416
avg test loss is  5.961145172749501
avg accuracy is  0.26911666682300545
compute_distance is  tensor(101.6252, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(101.6252, device='cuda:3')
test acc is  0.26911666682300545
test entropy is  0.27651140158936416
________________________________
diff is  tensor(0.7425, device='cuda:3')
diff is  tensor(0.0065, device='cuda:3')
diff is  tensor(16.1418, device='cuda:3')
diff is  tensor(0.0179, device='cuda:3')
diff is  tensor(84.2526, device='cuda:3')
diff is  tensor(0.0348, device='cuda:3')
diff is  tensor(0.4170, device='cuda:3')
diff is  tensor(0.0029, device='cuda:3')
threshold is  tensor(60.5752, device='cuda:3')
sum is tensor(0.0029, device='cuda:3')
sum is tensor(0.0095, device='cuda:3')
sum is tensor(0.0273, device='cuda:3')
sum is tensor(0.0622, device='cuda:3')
sum is tensor(0.4791, device='cuda:3')
sum is tensor(1.2217, device='cuda:3')
sum is tensor(17.3635, device='cuda:3')
sum is tensor(101.6161, device='cuda:3')
ratio is tensor(0.4871, device='cuda:3')
threshold is tensor(84.2526, device='cuda:3')
cal diff is tensor(0.7425, device='cuda:3')
discard
cal diff is tensor(0.0065, device='cuda:3')
discard
cal diff is tensor(16.1418, device='cuda:3')
discard
cal diff is tensor(0.0179, device='cuda:3')
discard
cal diff is tensor(84.2526, device='cuda:3')
clipping
cal diff is tensor(0.0348, device='cuda:3')
discard
cal diff is tensor(0.4170, device='cuda:3')
discard
cal diff is tensor(0.0029, device='cuda:3')
discard
________________________________
test distance is  tensor(41.0488, device='cuda:3')
test acc is  0.9370500001563202
test entropy is  0.24352556803047276
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.24352556803047276
avg test loss is  0.1920227800080898
avg accuracy is  0.9370500001563202
compute_distance is  tensor(41.0488, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2733541214262753
avg test loss is  6.074234844524978
avg accuracy is  0.2693166668230054
compute_distance is  tensor(125.1074, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(125.1074, device='cuda:3')
test acc is  0.2693166668230054
test entropy is  0.2733541214262753
________________________________
diff is  tensor(0.7585, device='cuda:3')
diff is  tensor(0.0063, device='cuda:3')
diff is  tensor(13.9459, device='cuda:3')
diff is  tensor(0.0148, device='cuda:3')
diff is  tensor(110.0078, device='cuda:3')
diff is  tensor(0.0255, device='cuda:3')
diff is  tensor(0.3322, device='cuda:3')
diff is  tensor(0.0023, device='cuda:3')
threshold is  tensor(84.0575, device='cuda:3')
sum is tensor(0.0023, device='cuda:3')
sum is tensor(0.0086, device='cuda:3')
sum is tensor(0.0234, device='cuda:3')
sum is tensor(0.0490, device='cuda:3')
sum is tensor(0.3812, device='cuda:3')
sum is tensor(1.1397, device='cuda:3')
sum is tensor(15.0856, device='cuda:3')
sum is tensor(125.0934, device='cuda:3')
ratio is tensor(0.3730, device='cuda:3')
threshold is tensor(110.0078, device='cuda:3')
cal diff is tensor(0.7585, device='cuda:3')
discard
cal diff is tensor(0.0063, device='cuda:3')
discard
cal diff is tensor(13.9459, device='cuda:3')
discard
cal diff is tensor(0.0148, device='cuda:3')
discard
cal diff is tensor(110.0078, device='cuda:3')
clipping
cal diff is tensor(0.0255, device='cuda:3')
discard
cal diff is tensor(0.3322, device='cuda:3')
discard
cal diff is tensor(0.0023, device='cuda:3')
discard
________________________________
test distance is  tensor(41.0457, device='cuda:3')
test acc is  0.9477000001563198
test entropy is  0.2229062945429069
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2229062945429069
avg test loss is  0.16533120393530645
avg accuracy is  0.9477000001563198
compute_distance is  tensor(41.0457, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2733910729064108
avg test loss is  6.068931743280212
avg accuracy is  0.26891666682300547
compute_distance is  tensor(126.9980, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(126.9980, device='cuda:3')
test acc is  0.26891666682300547
test entropy is  0.2733910729064108
________________________________
diff is  tensor(0.7758, device='cuda:3')
diff is  tensor(0.0065, device='cuda:3')
diff is  tensor(14.3337, device='cuda:3')
diff is  tensor(0.0152, device='cuda:3')
diff is  tensor(111.4907, device='cuda:3')
diff is  tensor(0.0261, device='cuda:3')
diff is  tensor(0.3326, device='cuda:3')
diff is  tensor(0.0024, device='cuda:3')
threshold is  tensor(85.9481, device='cuda:3')
sum is tensor(0.0024, device='cuda:3')
sum is tensor(0.0089, device='cuda:3')
sum is tensor(0.0240, device='cuda:3')
sum is tensor(0.0502, device='cuda:3')
sum is tensor(0.3828, device='cuda:3')
sum is tensor(1.1586, device='cuda:3')
sum is tensor(15.4923, device='cuda:3')
sum is tensor(126.9830, device='cuda:3')
ratio is tensor(0.3681, device='cuda:3')
threshold is tensor(111.4907, device='cuda:3')
cal diff is tensor(0.7758, device='cuda:3')
discard
cal diff is tensor(0.0065, device='cuda:3')
discard
cal diff is tensor(14.3337, device='cuda:3')
discard
cal diff is tensor(0.0152, device='cuda:3')
discard
cal diff is tensor(111.4907, device='cuda:3')
clipping
cal diff is tensor(0.0261, device='cuda:3')
discard
cal diff is tensor(0.3326, device='cuda:3')
discard
cal diff is tensor(0.0024, device='cuda:3')
discard
________________________________
test distance is  tensor(41.0453, device='cuda:3')
test acc is  0.949983333489653
test entropy is  0.21737642439284813
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.21737642439284813
avg test loss is  0.15898914239816128
avg accuracy is  0.949983333489653
compute_distance is  tensor(41.0453, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.27343716405665697
avg test loss is  6.068613706112925
avg accuracy is  0.2687833334896721
compute_distance is  tensor(127.3636, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(127.3636, device='cuda:3')
test acc is  0.2687833334896721
test entropy is  0.27343716405665697
________________________________
diff is  tensor(0.7788, device='cuda:3')
diff is  tensor(0.0066, device='cuda:3')
diff is  tensor(14.4403, device='cuda:3')
diff is  tensor(0.0153, device='cuda:3')
diff is  tensor(111.7451, device='cuda:3')
diff is  tensor(0.0263, device='cuda:3')
diff is  tensor(0.3334, device='cuda:3')
diff is  tensor(0.0024, device='cuda:3')
threshold is  tensor(86.3137, device='cuda:3')
sum is tensor(0.0024, device='cuda:3')
sum is tensor(0.0089, device='cuda:3')
sum is tensor(0.0242, device='cuda:3')
sum is tensor(0.0506, device='cuda:3')
sum is tensor(0.3840, device='cuda:3')
sum is tensor(1.1628, device='cuda:3')
sum is tensor(15.6030, device='cuda:3')
sum is tensor(127.3482, device='cuda:3')
ratio is tensor(0.3672, device='cuda:3')
threshold is tensor(111.7451, device='cuda:3')
cal diff is tensor(0.7788, device='cuda:3')
discard
cal diff is tensor(0.0066, device='cuda:3')
discard
cal diff is tensor(14.4403, device='cuda:3')
discard
cal diff is tensor(0.0153, device='cuda:3')
discard
cal diff is tensor(111.7451, device='cuda:3')
clipping
cal diff is tensor(0.0263, device='cuda:3')
discard
cal diff is tensor(0.3334, device='cuda:3')
discard
cal diff is tensor(0.0024, device='cuda:3')
discard
________________________________
test distance is  tensor(41.0452, device='cuda:3')
test acc is  0.9504666668229864
test entropy is  0.21599959964151066
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.21599959964151066
avg test loss is  0.15750641360886888
avg accuracy is  0.9504666668229864
compute_distance is  tensor(41.0452, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2734391223837826
avg test loss is  6.070027874476874
avg accuracy is  0.2686500001563388
compute_distance is  tensor(127.4747, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(127.4747, device='cuda:3')
test acc is  0.2686500001563388
test entropy is  0.2734391223837826
________________________________
diff is  tensor(0.7795, device='cuda:3')
diff is  tensor(0.0066, device='cuda:3')
diff is  tensor(14.4744, device='cuda:3')
diff is  tensor(0.0153, device='cuda:3')
diff is  tensor(111.8208, device='cuda:3')
diff is  tensor(0.0264, device='cuda:3')
diff is  tensor(0.3336, device='cuda:3')
diff is  tensor(0.0024, device='cuda:3')
threshold is  tensor(86.4248, device='cuda:3')
sum is tensor(0.0024, device='cuda:3')
sum is tensor(0.0089, device='cuda:3')
sum is tensor(0.0243, device='cuda:3')
sum is tensor(0.0507, device='cuda:3')
sum is tensor(0.3843, device='cuda:3')
sum is tensor(1.1638, device='cuda:3')
sum is tensor(15.6382, device='cuda:3')
sum is tensor(127.4590, device='cuda:3')
ratio is tensor(0.3670, device='cuda:3')
threshold is tensor(111.8208, device='cuda:3')
cal diff is tensor(0.7795, device='cuda:3')
discard
cal diff is tensor(0.0066, device='cuda:3')
discard
cal diff is tensor(14.4744, device='cuda:3')
discard
cal diff is tensor(0.0153, device='cuda:3')
discard
cal diff is tensor(111.8208, device='cuda:3')
clipping
cal diff is tensor(0.0264, device='cuda:3')
discard
cal diff is tensor(0.3336, device='cuda:3')
discard
cal diff is tensor(0.0024, device='cuda:3')
discard
________________________________
test distance is  tensor(41.0451, device='cuda:3')
test acc is  0.9506833334896531
test entropy is  0.21554396701837653
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.21554396701837653
avg test loss is  0.15704670208675076
avg accuracy is  0.9506833334896531
compute_distance is  tensor(41.0451, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.27345517069609687
avg test loss is  6.070756521814667
avg accuracy is  0.26870000015633877
compute_distance is  tensor(127.5150, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(127.5150, device='cuda:3')
test acc is  0.26870000015633877
test entropy is  0.27345517069609687
________________________________
diff is  tensor(0.7798, device='cuda:3')
diff is  tensor(0.0066, device='cuda:3')
diff is  tensor(14.4839, device='cuda:3')
diff is  tensor(0.0153, device='cuda:3')
diff is  tensor(111.8509, device='cuda:3')
diff is  tensor(0.0264, device='cuda:3')
diff is  tensor(0.3338, device='cuda:3')
diff is  tensor(0.0024, device='cuda:3')
threshold is  tensor(86.4650, device='cuda:3')
sum is tensor(0.0024, device='cuda:3')
sum is tensor(0.0090, device='cuda:3')
sum is tensor(0.0243, device='cuda:3')
sum is tensor(0.0507, device='cuda:3')
sum is tensor(0.3845, device='cuda:3')
sum is tensor(1.1644, device='cuda:3')
sum is tensor(15.6483, device='cuda:3')
sum is tensor(127.4992, device='cuda:3')
ratio is tensor(0.3669, device='cuda:3')
threshold is tensor(111.8509, device='cuda:3')
cal diff is tensor(0.7798, device='cuda:3')
discard
cal diff is tensor(0.0066, device='cuda:3')
discard
cal diff is tensor(14.4839, device='cuda:3')
discard
cal diff is tensor(0.0153, device='cuda:3')
discard
cal diff is tensor(111.8509, device='cuda:3')
clipping
cal diff is tensor(0.0264, device='cuda:3')
discard
cal diff is tensor(0.3338, device='cuda:3')
discard
cal diff is tensor(0.0024, device='cuda:3')
discard
________________________________
test distance is  tensor(41.0451, device='cuda:3')
test acc is  0.9507500001563197
test entropy is  0.21534614652585882
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.21534614652585882
avg test loss is  0.15685063166452495
avg accuracy is  0.9507500001563197
compute_distance is  tensor(41.0451, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2734375349811908
avg test loss is  6.070975357535551
avg accuracy is  0.26876666682300543
compute_distance is  tensor(127.5395, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(127.5395, device='cuda:3')
test acc is  0.26876666682300543
test entropy is  0.2734375349811908
________________________________
diff is  tensor(0.7798, device='cuda:3')
diff is  tensor(0.0066, device='cuda:3')
diff is  tensor(14.4884, device='cuda:3')
diff is  tensor(0.0153, device='cuda:3')
diff is  tensor(111.8706, device='cuda:3')
diff is  tensor(0.0264, device='cuda:3')
diff is  tensor(0.3339, device='cuda:3')
diff is  tensor(0.0024, device='cuda:3')
threshold is  tensor(86.4895, device='cuda:3')
sum is tensor(0.0024, device='cuda:3')
sum is tensor(0.0090, device='cuda:3')
sum is tensor(0.0243, device='cuda:3')
sum is tensor(0.0507, device='cuda:3')
sum is tensor(0.3847, device='cuda:3')
sum is tensor(1.1645, device='cuda:3')
sum is tensor(15.6529, device='cuda:3')
sum is tensor(127.5235, device='cuda:3')
ratio is tensor(0.3668, device='cuda:3')
threshold is tensor(111.8706, device='cuda:3')
cal diff is tensor(0.7798, device='cuda:3')
discard
cal diff is tensor(0.0066, device='cuda:3')
discard
cal diff is tensor(14.4884, device='cuda:3')
discard
cal diff is tensor(0.0153, device='cuda:3')
discard
cal diff is tensor(111.8706, device='cuda:3')
clipping
cal diff is tensor(0.0264, device='cuda:3')
discard
cal diff is tensor(0.3339, device='cuda:3')
discard
cal diff is tensor(0.0024, device='cuda:3')
discard
________________________________
test distance is  tensor(41.0450, device='cuda:3')
test acc is  0.9508000001563197
test entropy is  0.21521730728145602
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.21521730728145602
avg test loss is  0.15672548618048493
avg accuracy is  0.9508000001563197
compute_distance is  tensor(41.0450, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2734345064869822
avg test loss is  6.071491510374968
avg accuracy is  0.26876666682300543
compute_distance is  tensor(127.5560, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(127.5560, device='cuda:3')
test acc is  0.26876666682300543
test entropy is  0.2734345064869822
________________________________
diff is  tensor(0.7799, device='cuda:3')
diff is  tensor(0.0066, device='cuda:3')
diff is  tensor(14.4899, device='cuda:3')
diff is  tensor(0.0153, device='cuda:3')
diff is  tensor(111.8851, device='cuda:3')
diff is  tensor(0.0264, device='cuda:3')
diff is  tensor(0.3342, device='cuda:3')
diff is  tensor(0.0024, device='cuda:3')
threshold is  tensor(86.5060, device='cuda:3')
sum is tensor(0.0024, device='cuda:3')
sum is tensor(0.0090, device='cuda:3')
sum is tensor(0.0243, device='cuda:3')
sum is tensor(0.0507, device='cuda:3')
sum is tensor(0.3850, device='cuda:3')
sum is tensor(1.1649, device='cuda:3')
sum is tensor(15.6548, device='cuda:3')
sum is tensor(127.5399, device='cuda:3')
ratio is tensor(0.3668, device='cuda:3')
threshold is tensor(111.8851, device='cuda:3')
cal diff is tensor(0.7799, device='cuda:3')
discard
cal diff is tensor(0.0066, device='cuda:3')
discard
cal diff is tensor(14.4899, device='cuda:3')
discard
cal diff is tensor(0.0153, device='cuda:3')
discard
cal diff is tensor(111.8851, device='cuda:3')
clipping
cal diff is tensor(0.0264, device='cuda:3')
discard
cal diff is tensor(0.3342, device='cuda:3')
discard
cal diff is tensor(0.0024, device='cuda:3')
discard
________________________________
test distance is  tensor(41.0450, device='cuda:3')
test acc is  0.9508000001563197
test entropy is  0.21513653892888698
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.21513653892888698
avg test loss is  0.15663747363555025
avg accuracy is  0.9508000001563197
compute_distance is  tensor(41.0450, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2734251614890373
avg test loss is  6.072207429515782
avg accuracy is  0.26870000015633877
compute_distance is  tensor(127.5731, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(127.5731, device='cuda:3')
test acc is  0.26870000015633877
test entropy is  0.2734251614890373
________________________________
diff is  tensor(0.7799, device='cuda:3')
diff is  tensor(0.0066, device='cuda:3')
diff is  tensor(14.4900, device='cuda:3')
diff is  tensor(0.0153, device='cuda:3')
diff is  tensor(111.9020, device='cuda:3')
diff is  tensor(0.0265, device='cuda:3')
diff is  tensor(0.3344, device='cuda:3')
diff is  tensor(0.0024, device='cuda:3')
threshold is  tensor(86.5232, device='cuda:3')
sum is tensor(0.0024, device='cuda:3')
sum is tensor(0.0090, device='cuda:3')
sum is tensor(0.0243, device='cuda:3')
sum is tensor(0.0507, device='cuda:3')
sum is tensor(0.3851, device='cuda:3')
sum is tensor(1.1650, device='cuda:3')
sum is tensor(15.6550, device='cuda:3')
sum is tensor(127.5571, device='cuda:3')
ratio is tensor(0.3667, device='cuda:3')
threshold is tensor(111.9020, device='cuda:3')
cal diff is tensor(0.7799, device='cuda:3')
discard
cal diff is tensor(0.0066, device='cuda:3')
discard
cal diff is tensor(14.4900, device='cuda:3')
discard
cal diff is tensor(0.0153, device='cuda:3')
discard
cal diff is tensor(111.9020, device='cuda:3')
clipping
cal diff is tensor(0.0265, device='cuda:3')
discard
cal diff is tensor(0.3344, device='cuda:3')
discard
cal diff is tensor(0.0024, device='cuda:3')
discard
________________________________
test distance is  tensor(41.0450, device='cuda:3')
test acc is  0.9508166668229864
test entropy is  0.21504371098554464
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.21504371098554464
avg test loss is  0.1565352713804382
avg accuracy is  0.9508166668229864
compute_distance is  tensor(41.0450, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2734317450381037
avg test loss is  6.072741951261248
avg accuracy is  0.2687333334896721
compute_distance is  tensor(127.5827, device='cuda:3')
++++++++++++++++++++
reach max round
new distance ratio is 0.818181818181818
 
Avg Training Stats after 46 global rounds:
Train Accuracy: 94.33% 

Test Accuracy: 93.47% 


 | Global Training Round : 47 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007540078833699226
attack res is True
len of model dicts is  10
compute distance is  tensor(34.3435, device='cuda:3')
compute distance is  tensor(41.5460, device='cuda:3')
compute distance is  tensor(80.3169, device='cuda:3')
compute distance is  tensor(67.9338, device='cuda:3')
compute distance is  tensor(38.6078, device='cuda:3')
compute distance is  tensor(40.8915, device='cuda:3')
compute distance is  tensor(71.6551, device='cuda:3')
compute distance is  tensor(41.3137, device='cuda:3')
compute distance is  tensor(72.4099, device='cuda:3')
compute distance is  tensor(65.6143, device='cuda:3')
calculated distance threshold is  tensor(75.7196, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.15978333348966717
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.17723333348966838
====================
====================
iteration is  0
round is  2
accuracy is  0.32350000015634
====================
====================
iteration is  1
round is  0
accuracy is  0.2022833334896698
====================
====================
iteration is  1
round is  1
accuracy is  0.20556666682300329
====================
________________________________
test distance is  tensor(4280.5103, device='cuda:3')
test acc is  0.15978333348966717
test entropy is  0.17965707224188074
________________________________
diff is  tensor(44.0053, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3272, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.8000, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4881, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.3349, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0435, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2905, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2208, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4204.7905, device='cuda:3')
sum is tensor(0.2208, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5480, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0361, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0796, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3701, device='cuda:3', dtype=torch.float64)
sum is tensor(67.3754, device='cuda:3', dtype=torch.float64)
sum is tensor(639.1754, device='cuda:3', dtype=torch.float64)
sum is tensor(4280.5102, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0208, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.3349, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.0053, device='cuda:3')
discard
cal diff is tensor(0.3272, device='cuda:3')
discard
cal diff is tensor(571.8000, device='cuda:3')
discard
cal diff is tensor(0.4881, device='cuda:3')
discard
cal diff is tensor(3641.3350, device='cuda:3')
clipping
cal diff is tensor(2.0435, device='cuda:3')
discard
cal diff is tensor(20.2905, device='cuda:3')
discard
cal diff is tensor(0.2208, device='cuda:3')
discard
________________________________
test distance is  tensor(75.7299, device='cuda:3')
test acc is  0.9328666668229869
test entropy is  0.22610631698706765
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(75.7197, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0103, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(75.7299, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(75.7197, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(75.7197, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(75.7298, device='cuda:3')
test acc is  0.9328666668229869
test entropy is  0.22610639774405372
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(75.7196, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0004, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(75.7196, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0767, device='cuda:3')
test acc is  0.9331166668229869
test entropy is  0.22532390629940197
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.22532390629940197
avg test loss is  0.20042850042798563
avg accuracy is  0.9331166668229869
compute_distance is  tensor(0.0767, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.20229586065292104
avg test loss is  9.028575614571317
avg accuracy is  0.1573166668230003
compute_distance is  tensor(81.5478, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(81.5478, device='cuda:3')
test acc is  0.1573166668230003
test entropy is  0.20229586065292104
________________________________
diff is  tensor(0.7604, device='cuda:3')
diff is  tensor(0.0071, device='cuda:3')
diff is  tensor(12.3616, device='cuda:3')
diff is  tensor(0.0123, device='cuda:3')
diff is  tensor(67.9994, device='cuda:3')
diff is  tensor(0.0267, device='cuda:3')
diff is  tensor(0.3604, device='cuda:3')
diff is  tensor(0.0028, device='cuda:3')
threshold is  tensor(5.8281, device='cuda:3')
sum is tensor(0.0028, device='cuda:3')
sum is tensor(0.0099, device='cuda:3')
sum is tensor(0.0222, device='cuda:3')
sum is tensor(0.0488, device='cuda:3')
sum is tensor(0.4092, device='cuda:3')
sum is tensor(1.1696, device='cuda:3')
sum is tensor(13.5312, device='cuda:3')
ratio is tensor(0.6231, device='cuda:3')
threshold is tensor(12.3616, device='cuda:3')
cal diff is tensor(0.7604, device='cuda:3')
discard
cal diff is tensor(0.0071, device='cuda:3')
discard
cal diff is tensor(12.3616, device='cuda:3')
clipping
cal diff is tensor(0.0123, device='cuda:3')
discard
cal diff is tensor(67.9994, device='cuda:3')
clipping
cal diff is tensor(0.0267, device='cuda:3')
discard
cal diff is tensor(0.3604, device='cuda:3')
discard
cal diff is tensor(0.0028, device='cuda:3')
discard
________________________________
test distance is  tensor(50.0915, device='cuda:3')
test acc is  0.3541333334896739
test entropy is  0.3937057337082271
________________________________
new distance ratio is 0.8999999999999999
 
Avg Training Stats after 47 global rounds:
Train Accuracy: 88.49% 

Test Accuracy: 88.06% 


 | Global Training Round : 48 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.008401182480156422
attack res is True
len of model dicts is  10
compute distance is  tensor(56.2680, device='cuda:3')
compute distance is  tensor(45.6320, device='cuda:3')
compute distance is  tensor(64.0204, device='cuda:3')
compute distance is  tensor(73.9330, device='cuda:3')
compute distance is  tensor(41.6143, device='cuda:3')
compute distance is  tensor(50.9518, device='cuda:3')
compute distance is  tensor(48.6452, device='cuda:3')
compute distance is  tensor(61.0294, device='cuda:3')
compute distance is  tensor(50.5184, device='cuda:3')
compute distance is  tensor(84.1096, device='cuda:3')
calculated distance threshold is  tensor(83.6846, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.24033333348967129
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.11298333348966529
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.17211666682300147
====================
====================
iteration is  1
round is  0
accuracy is  0.17835000015633506
====================
====================
iteration is  1
round is  1
accuracy is  0.2735166668230055
====================
________________________________
test distance is  tensor(4280.4082, device='cuda:3')
test acc is  0.11298333348966529
test entropy is  0.09852839785931843
________________________________
diff is  tensor(44.3457, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3458, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.8583, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5557, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.8941, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0201, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2073, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1812, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4196.7236, device='cuda:3')
sum is tensor(0.1812, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5270, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0827, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1029, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3101, device='cuda:3', dtype=torch.float64)
sum is tensor(67.6559, device='cuda:3', dtype=torch.float64)
sum is tensor(639.5141, device='cuda:3', dtype=torch.float64)
sum is tensor(4280.4082, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0230, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.8941, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.3457, device='cuda:3')
discard
cal diff is tensor(0.3458, device='cuda:3')
discard
cal diff is tensor(571.8583, device='cuda:3')
discard
cal diff is tensor(0.5557, device='cuda:3')
discard
cal diff is tensor(3640.8940, device='cuda:3')
discard
cal diff is tensor(2.0201, device='cuda:3')
discard
cal diff is tensor(20.2073, device='cuda:3')
discard
cal diff is tensor(0.1812, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.8787000001563221
test entropy is  0.30123288049372526
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.30123288049372526
avg test loss is  0.3616543587114511
avg accuracy is  0.8787000001563221
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.10163539828760411
avg test loss is  14.292627114985288
avg accuracy is  0.10450000015633197
compute_distance is  tensor(77.6547, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(77.6547, device='cuda:3')
test acc is  0.10450000015633197
test entropy is  0.10163539828760411
________________________________
new distance ratio is 0.99
 
Avg Training Stats after 48 global rounds:
Train Accuracy: 97.03% 

Test Accuracy: 96.83% 


 | Global Training Round : 49 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.006649176124483347
attack res is True
len of model dicts is  10
compute distance is  tensor(30.0682, device='cuda:3')
compute distance is  tensor(47.6282, device='cuda:3')
compute distance is  tensor(46.7862, device='cuda:3')
compute distance is  tensor(45.0693, device='cuda:3')
compute distance is  tensor(32.8965, device='cuda:3')
compute distance is  tensor(41.2736, device='cuda:3')
compute distance is  tensor(40.0886, device='cuda:3')
compute distance is  tensor(40.5855, device='cuda:3')
compute distance is  tensor(120.3448, device='cuda:3')
compute distance is  tensor(88.1352, device='cuda:3')
calculated distance threshold is  tensor(128.3794, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.35758333348967386
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.21061666682300345
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.45420000015634165
====================
====================
iteration is  1
round is  0
accuracy is  0.5801833334896725
====================
====================
iteration is  1
round is  1
accuracy is  0.29913333348967286
====================
________________________________
test distance is  tensor(4283.1401, device='cuda:3')
test acc is  0.21061666682300345
test entropy is  0.21391932753675275
________________________________
diff is  tensor(42.6063, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4002, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.8458, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4836, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.3844, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0114, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2196, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1888, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4154.7607, device='cuda:3')
sum is tensor(0.1888, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5890, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0726, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0841, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3037, device='cuda:3', dtype=torch.float64)
sum is tensor(65.9100, device='cuda:3', dtype=torch.float64)
sum is tensor(640.7558, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.1402, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0352, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.3844, device='cuda:3', dtype=torch.float64)
cal diff is tensor(42.6063, device='cuda:3')
discard
cal diff is tensor(0.4002, device='cuda:3')
discard
cal diff is tensor(574.8458, device='cuda:3')
discard
cal diff is tensor(0.4836, device='cuda:3')
discard
cal diff is tensor(3642.3845, device='cuda:3')
clipping
cal diff is tensor(2.0114, device='cuda:3')
discard
cal diff is tensor(20.2196, device='cuda:3')
discard
cal diff is tensor(0.1888, device='cuda:3')
discard
________________________________
test distance is  tensor(128.3897, device='cuda:3')
test acc is  0.9696666668229856
test entropy is  0.13706804114554735
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(128.3795, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0103, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(128.3897, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(128.3795, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(128.3795, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(128.3897, device='cuda:3')
test acc is  0.9696666668229856
test entropy is  0.1370680688747338
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(128.3794, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(128.3896, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(128.3794, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(128.3794, device='cuda:3')
discard
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9695333334896523
test entropy is  0.13684946928880234
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.13684946928880234
avg test loss is  0.09758356544000507
avg accuracy is  0.9695333334896523
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.23621566464969598
avg test loss is  8.853724192454617
avg accuracy is  0.21091666682300347
compute_distance is  tensor(96.0150, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(96.0150, device='cuda:3')
test acc is  0.21091666682300347
test entropy is  0.23621566464969598
________________________________
new distance ratio is 1.089
 
Avg Training Stats after 49 global rounds:
Train Accuracy: 72.14% 

Test Accuracy: 70.28% 


 | Global Training Round : 50 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007702777627855539
attack res is True
len of model dicts is  10
compute distance is  tensor(54.2024, device='cuda:3')
compute distance is  tensor(146.1762, device='cuda:3')
compute distance is  tensor(135.7942, device='cuda:3')
compute distance is  tensor(95.3226, device='cuda:3')
compute distance is  tensor(113.6001, device='cuda:3')
compute distance is  tensor(57.8015, device='cuda:3')
compute distance is  tensor(115.1719, device='cuda:3')
compute distance is  tensor(103.4901, device='cuda:3')
compute distance is  tensor(68.8995, device='cuda:3')
compute distance is  tensor(54.5554, device='cuda:3')
calculated distance threshold is  tensor(164.3779, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.17673333348966844
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.17080000015633465
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.19380000015633597
====================
====================
iteration is  1
round is  0
accuracy is  0.2189166668230038
====================
====================
iteration is  1
round is  1
accuracy is  0.15666666682300032
====================
succ_min + 1
________________________________
test distance is  tensor(4283.1558, device='cuda:3')
test acc is  0.15666666682300032
test entropy is  0.16168663487918594
________________________________
diff is  tensor(43.0145, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3346, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.5915, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4368, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.2417, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9898, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3040, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2427, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4118.7778, device='cuda:3')
sum is tensor(0.2427, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5773, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0141, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0038, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3079, device='cuda:3', dtype=torch.float64)
sum is tensor(66.3224, device='cuda:3', dtype=torch.float64)
sum is tensor(640.9139, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.1556, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0451, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.2417, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.0145, device='cuda:3')
discard
cal diff is tensor(0.3346, device='cuda:3')
discard
cal diff is tensor(574.5915, device='cuda:3')
discard
cal diff is tensor(0.4368, device='cuda:3')
discard
cal diff is tensor(3642.2417, device='cuda:3')
discard
cal diff is tensor(1.9898, device='cuda:3')
discard
cal diff is tensor(20.3040, device='cuda:3')
discard
cal diff is tensor(0.2427, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.697850000156331
test entropy is  0.39540258529725103
________________________________
new distance ratio is 1.1979
 
Avg Training Stats after 50 global rounds:
Train Accuracy: 97.31% 

Test Accuracy: 96.88% 


 | Global Training Round : 51 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0050695729441940784
attack res is True
len of model dicts is  10
compute distance is  tensor(20.4311, device='cuda:3')
compute distance is  tensor(30.6110, device='cuda:3')
compute distance is  tensor(54.0207, device='cuda:3')
compute distance is  tensor(73.4936, device='cuda:3')
compute distance is  tensor(31.7832, device='cuda:3')
compute distance is  tensor(28.7279, device='cuda:3')
compute distance is  tensor(42.2215, device='cuda:3')
compute distance is  tensor(40.2521, device='cuda:3')
compute distance is  tensor(74.8017, device='cuda:3')
compute distance is  tensor(75.7576, device='cuda:3')
calculated distance threshold is  tensor(93.3343, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.35103333348967375
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.34268333348967367
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.42076666682300795
====================
====================
iteration is  1
round is  0
accuracy is  0.2688500001563388
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.47786666682300855
====================
________________________________
test distance is  tensor(4281.1245, device='cuda:3')
test acc is  0.2688500001563388
test entropy is  0.36135988817540315
________________________________
diff is  tensor(43.5569, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3932, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.7158, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5165, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.4619, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9992, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3112, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1706, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4187.7900, device='cuda:3')
sum is tensor(0.1706, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5637, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0802, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0795, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3907, device='cuda:3', dtype=torch.float64)
sum is tensor(66.9476, device='cuda:3', dtype=torch.float64)
sum is tensor(639.6633, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.1252, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0256, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.4619, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.5569, device='cuda:3')
discard
cal diff is tensor(0.3932, device='cuda:3')
discard
cal diff is tensor(572.7158, device='cuda:3')
discard
cal diff is tensor(0.5165, device='cuda:3')
discard
cal diff is tensor(3641.4619, device='cuda:3')
clipping
cal diff is tensor(1.9992, device='cuda:3')
discard
cal diff is tensor(20.3112, device='cuda:3')
discard
cal diff is tensor(0.1706, device='cuda:3')
discard
________________________________
test distance is  tensor(93.3453, device='cuda:3')
test acc is  0.9708333334896523
test entropy is  0.15907628074097735
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(93.3353, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0111, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(93.3455, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(93.3353, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(93.3353, device='cuda:3')
discard
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9701333334896524
test entropy is  0.15838271795488051
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.15838271795488051
avg test loss is  0.09673120434145763
avg accuracy is  0.9701333334896524
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.36303666823390707
avg test loss is  4.3693965658196
avg accuracy is  0.27746666682300564
compute_distance is  tensor(108.3602, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(108.3602, device='cuda:3')
test acc is  0.27746666682300564
test entropy is  0.36303666823390707
________________________________
diff is  tensor(0.8689, device='cuda:3')
diff is  tensor(0.0079, device='cuda:3')
diff is  tensor(17.5654, device='cuda:3')
diff is  tensor(0.0187, device='cuda:3')
diff is  tensor(89.4194, device='cuda:3')
diff is  tensor(0.0356, device='cuda:3')
diff is  tensor(0.4301, device='cuda:3')
diff is  tensor(0.0035, device='cuda:3')
threshold is  tensor(15.0260, device='cuda:3')
sum is tensor(0.0035, device='cuda:3')
sum is tensor(0.0114, device='cuda:3')
sum is tensor(0.0300, device='cuda:3')
sum is tensor(0.0657, device='cuda:3')
sum is tensor(0.4958, device='cuda:3')
sum is tensor(1.3647, device='cuda:3')
sum is tensor(18.9301, device='cuda:3')
ratio is tensor(0.2223, device='cuda:3')
threshold is tensor(17.5654, device='cuda:3')
cal diff is tensor(0.8689, device='cuda:3')
discard
cal diff is tensor(0.0079, device='cuda:3')
discard
cal diff is tensor(17.5654, device='cuda:3')
clipping
cal diff is tensor(0.0187, device='cuda:3')
discard
cal diff is tensor(89.4194, device='cuda:3')
clipping
cal diff is tensor(0.0356, device='cuda:3')
discard
cal diff is tensor(0.4301, device='cuda:3')
discard
cal diff is tensor(0.0035, device='cuda:3')
discard
________________________________
test distance is  tensor(23.7861, device='cuda:3')
test acc is  0.9553666668229861
test entropy is  0.1943054581676592
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.1943054581676592
avg test loss is  0.1363286188553407
avg accuracy is  0.9553666668229861
compute_distance is  tensor(23.7861, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.36542617971264224
avg test loss is  4.39643232654661
avg accuracy is  0.27915000015633906
compute_distance is  tensor(119.0800, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(119.0800, device='cuda:3')
test acc is  0.27915000015633906
test entropy is  0.36542617971264224
________________________________
diff is  tensor(0.8244, device='cuda:3')
diff is  tensor(0.0076, device='cuda:3')
diff is  tensor(18.9537, device='cuda:3')
diff is  tensor(0.0154, device='cuda:3')
diff is  tensor(98.8608, device='cuda:3')
diff is  tensor(0.0291, device='cuda:3')
diff is  tensor(0.3730, device='cuda:3')
diff is  tensor(0.0029, device='cuda:3')
threshold is  tensor(25.7457, device='cuda:3')
sum is tensor(0.0029, device='cuda:3')
sum is tensor(0.0104, device='cuda:3')
sum is tensor(0.0258, device='cuda:3')
sum is tensor(0.0549, device='cuda:3')
sum is tensor(0.4279, device='cuda:3')
sum is tensor(1.2523, device='cuda:3')
sum is tensor(20.2060, device='cuda:3')
sum is tensor(119.0668, device='cuda:3')
ratio is tensor(0.9440, device='cuda:3')
threshold is tensor(98.8608, device='cuda:3')
cal diff is tensor(0.8244, device='cuda:3')
discard
cal diff is tensor(0.0076, device='cuda:3')
discard
cal diff is tensor(18.9537, device='cuda:3')
discard
cal diff is tensor(0.0154, device='cuda:3')
discard
cal diff is tensor(98.8608, device='cuda:3')
clipping
cal diff is tensor(0.0291, device='cuda:3')
discard
cal diff is tensor(0.3730, device='cuda:3')
discard
cal diff is tensor(0.0029, device='cuda:3')
discard
________________________________
test distance is  tensor(93.3312, device='cuda:3')
test acc is  0.7102333334896634
test entropy is  0.47386131885209315
________________________________
new distance ratio is 1.31769
 
Avg Training Stats after 51 global rounds:
Train Accuracy: 96.97% 

Test Accuracy: 96.51% 


 | Global Training Round : 52 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007396333385258913
attack res is True
len of model dicts is  10
compute distance is  tensor(36.0145, device='cuda:3')
compute distance is  tensor(29.7698, device='cuda:3')
compute distance is  tensor(41.7316, device='cuda:3')
compute distance is  tensor(43.1238, device='cuda:3')
compute distance is  tensor(36.6341, device='cuda:3')
compute distance is  tensor(47.5718, device='cuda:3')
compute distance is  tensor(72.4129, device='cuda:3')
compute distance is  tensor(36.4064, device='cuda:3')
compute distance is  tensor(74.4579, device='cuda:3')
compute distance is  tensor(79.0684, device='cuda:3')
calculated distance threshold is  tensor(101.2262, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.3641666668230073
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.32498333348967334
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.34905000015634036
====================
====================
iteration is  1
round is  0
accuracy is  0.2954500001563394
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.3238333334896733
====================
________________________________
test distance is  tensor(4286.8511, device='cuda:3')
test acc is  0.2954500001563394
test entropy is  0.4678671171924453
________________________________
diff is  tensor(46.3571, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3420, device='cuda:3', dtype=torch.float64)
diff is  tensor(575.2496, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5288, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.8179, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0336, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3194, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2027, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4185.6250, device='cuda:3')
sum is tensor(0.2027, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5446, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0734, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1070, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4264, device='cuda:3', dtype=torch.float64)
sum is tensor(69.7835, device='cuda:3', dtype=torch.float64)
sum is tensor(645.0331, device='cuda:3', dtype=torch.float64)
sum is tensor(4286.8510, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0278, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.8179, device='cuda:3', dtype=torch.float64)
cal diff is tensor(46.3571, device='cuda:3')
discard
cal diff is tensor(0.3420, device='cuda:3')
discard
cal diff is tensor(575.2496, device='cuda:3')
discard
cal diff is tensor(0.5288, device='cuda:3')
discard
cal diff is tensor(3641.8179, device='cuda:3')
clipping
cal diff is tensor(2.0336, device='cuda:3')
discard
cal diff is tensor(20.3194, device='cuda:3')
discard
cal diff is tensor(0.2027, device='cuda:3')
discard
________________________________
test distance is  tensor(101.2362, device='cuda:3')
test acc is  0.9663333334896524
test entropy is  0.18028336460354613
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(101.2260, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0101, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0156, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(101.2260, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(1.5922, device='cuda:3')
test acc is  0.9669333334896524
test entropy is  0.1779518503465378
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.1779518503465378
avg test loss is  0.11076073968477214
avg accuracy is  0.9669333334896524
compute_distance is  tensor(1.5922, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.5423365549873441
avg test loss is  5.014609521894313
avg accuracy is  0.32275000015634
compute_distance is  tensor(113.3409, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(113.3409, device='cuda:3')
test acc is  0.32275000015634
test entropy is  0.5423365549873441
________________________________
diff is  tensor(0.8994, device='cuda:3')
diff is  tensor(0.0111, device='cuda:3')
diff is  tensor(19.0396, device='cuda:3')
diff is  tensor(0.0213, device='cuda:3')
diff is  tensor(92.8586, device='cuda:3')
diff is  tensor(0.0409, device='cuda:3')
diff is  tensor(0.4597, device='cuda:3')
diff is  tensor(0.0037, device='cuda:3')
threshold is  tensor(12.1148, device='cuda:3')
sum is tensor(0.0037, device='cuda:3')
sum is tensor(0.0148, device='cuda:3')
sum is tensor(0.0360, device='cuda:3')
sum is tensor(0.0770, device='cuda:3')
sum is tensor(0.5367, device='cuda:3')
sum is tensor(1.4360, device='cuda:3')
sum is tensor(20.4756, device='cuda:3')
ratio is tensor(0.4391, device='cuda:3')
threshold is tensor(19.0396, device='cuda:3')
cal diff is tensor(0.8994, device='cuda:3')
discard
cal diff is tensor(0.0111, device='cuda:3')
discard
cal diff is tensor(19.0396, device='cuda:3')
clipping
cal diff is tensor(0.0213, device='cuda:3')
discard
cal diff is tensor(92.8586, device='cuda:3')
clipping
cal diff is tensor(0.0409, device='cuda:3')
discard
cal diff is tensor(0.4597, device='cuda:3')
discard
cal diff is tensor(0.0037, device='cuda:3')
discard
________________________________
test distance is  tensor(49.1435, device='cuda:3')
test acc is  0.8566166668229896
test entropy is  0.3871137213859477
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3871137213859477
avg test loss is  0.43656326339506646
avg accuracy is  0.8566166668229896
compute_distance is  tensor(49.1435, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.5205990486879593
avg test loss is  5.317737411334316
avg accuracy is  0.31803333348967316
compute_distance is  tensor(132.4246, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(132.4246, device='cuda:3')
test acc is  0.31803333348967316
test entropy is  0.5205990486879593
________________________________
diff is  tensor(1.1484, device='cuda:3')
diff is  tensor(0.0100, device='cuda:3')
diff is  tensor(23.2802, device='cuda:3')
diff is  tensor(0.0159, device='cuda:3')
diff is  tensor(107.6126, device='cuda:3')
diff is  tensor(0.0242, device='cuda:3')
diff is  tensor(0.3196, device='cuda:3')
diff is  tensor(0.0025, device='cuda:3')
threshold is  tensor(31.1985, device='cuda:3')
sum is tensor(0.0025, device='cuda:3')
sum is tensor(0.0125, device='cuda:3')
sum is tensor(0.0284, device='cuda:3')
sum is tensor(0.0526, device='cuda:3')
sum is tensor(0.3722, device='cuda:3')
sum is tensor(1.5206, device='cuda:3')
sum is tensor(24.8008, device='cuda:3')
sum is tensor(132.4135, device='cuda:3')
ratio is tensor(0.9405, device='cuda:3')
threshold is tensor(107.6126, device='cuda:3')
cal diff is tensor(1.1484, device='cuda:3')
discard
cal diff is tensor(0.0100, device='cuda:3')
discard
cal diff is tensor(23.2802, device='cuda:3')
discard
cal diff is tensor(0.0159, device='cuda:3')
discard
cal diff is tensor(107.6126, device='cuda:3')
clipping
cal diff is tensor(0.0242, device='cuda:3')
discard
cal diff is tensor(0.3196, device='cuda:3')
discard
cal diff is tensor(0.0025, device='cuda:3')
discard
________________________________
test distance is  tensor(101.2237, device='cuda:3')
test acc is  0.6525166668230006
test entropy is  0.5897762528868881
________________________________
new distance ratio is 1.449459
 
Avg Training Stats after 52 global rounds:
Train Accuracy: 97.46% 

Test Accuracy: 97.17% 


 | Global Training Round : 53 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.008254125714302063
attack res is True
len of model dicts is  10
compute distance is  tensor(23.1226, device='cuda:3')
compute distance is  tensor(29.8272, device='cuda:3')
compute distance is  tensor(48.6039, device='cuda:3')
compute distance is  tensor(80.1953, device='cuda:3')
compute distance is  tensor(33.2581, device='cuda:3')
compute distance is  tensor(29.6867, device='cuda:3')
compute distance is  tensor(46.9334, device='cuda:3')
compute distance is  tensor(28.5911, device='cuda:3')
compute distance is  tensor(58.3000, device='cuda:3')
compute distance is  tensor(55.8685, device='cuda:3')
calculated distance threshold is  tensor(114.1196, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.2782500001563391
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2765500001563389
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.3793666668230075
====================
====================
iteration is  1
round is  0
accuracy is  0.23665000015633786
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.4226333334896747
====================
________________________________
test distance is  tensor(4279.6279, device='cuda:3')
test acc is  0.23665000015633786
test entropy is  0.36924682338354686
________________________________
diff is  tensor(43.5481, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2858, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.2527, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5135, device='cuda:3', dtype=torch.float64)
diff is  tensor(3639.5092, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9945, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3602, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1637, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4165.5083, device='cuda:3')
sum is tensor(0.1637, device='cuda:3', dtype=torch.float64)
sum is tensor(0.4496, device='cuda:3', dtype=torch.float64)
sum is tensor(0.9631, device='cuda:3', dtype=torch.float64)
sum is tensor(2.9576, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3178, device='cuda:3', dtype=torch.float64)
sum is tensor(66.8659, device='cuda:3', dtype=torch.float64)
sum is tensor(640.1186, device='cuda:3', dtype=torch.float64)
sum is tensor(4279.6278, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0314, device='cuda:3', dtype=torch.float64)
threshold is tensor(3639.5092, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.5481, device='cuda:3')
discard
cal diff is tensor(0.2858, device='cuda:3')
discard
cal diff is tensor(573.2527, device='cuda:3')
discard
cal diff is tensor(0.5135, device='cuda:3')
discard
cal diff is tensor(3639.5093, device='cuda:3')
clipping
cal diff is tensor(1.9945, device='cuda:3')
discard
cal diff is tensor(20.3602, device='cuda:3')
discard
cal diff is tensor(0.1637, device='cuda:3')
discard
________________________________
test distance is  tensor(114.1298, device='cuda:3')
test acc is  0.9716333334896523
test entropy is  0.1478860425288235
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(114.1195, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0055, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(114.1195, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.6408, device='cuda:3')
test acc is  0.971850000156319
test entropy is  0.14608974987938841
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.14608974987938841
avg test loss is  0.09218747480345496
avg accuracy is  0.971850000156319
compute_distance is  tensor(0.6408, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.4124348056850149
avg test loss is  5.116765742108766
avg accuracy is  0.22256666682300405
compute_distance is  tensor(97.3090, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(97.3090, device='cuda:3')
test acc is  0.22256666682300405
test entropy is  0.4124348056850149
________________________________
new distance ratio is 1.5944049000000002
 
Avg Training Stats after 53 global rounds:
Train Accuracy: 84.08% 

Test Accuracy: 82.74% 


 | Global Training Round : 54 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.010392384603619576
attack res is True
len of model dicts is  10
compute distance is  tensor(38.2536, device='cuda:3')
compute distance is  tensor(60.0802, device='cuda:3')
compute distance is  tensor(72.2617, device='cuda:3')
compute distance is  tensor(111.6964, device='cuda:3')
compute distance is  tensor(85.2826, device='cuda:3')
compute distance is  tensor(58.7547, device='cuda:3')
compute distance is  tensor(117.3355, device='cuda:3')
compute distance is  tensor(33.0186, device='cuda:3')
compute distance is  tensor(59.3584, device='cuda:3')
compute distance is  tensor(64.5240, device='cuda:3')
calculated distance threshold is  tensor(180.8975, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.21495000015633697
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.3386333334896736
====================
====================
iteration is  0
round is  2
accuracy is  0.11261666682299863
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.3093666668230064
====================
====================
iteration is  1
round is  1
accuracy is  0.22468333348967073
====================
________________________________
test distance is  tensor(4277.8853, device='cuda:3')
test acc is  0.11261666682299863
test entropy is  0.15212569355186242
________________________________
diff is  tensor(43.2941, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3360, device='cuda:3', dtype=torch.float64)
diff is  tensor(570.2337, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5128, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.9483, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0329, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2998, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2288, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4096.9878, device='cuda:3')
sum is tensor(0.2288, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5647, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0775, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1104, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4102, device='cuda:3', dtype=torch.float64)
sum is tensor(66.7042, device='cuda:3', dtype=torch.float64)
sum is tensor(636.9379, device='cuda:3', dtype=torch.float64)
sum is tensor(4277.8862, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0497, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.9483, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.2941, device='cuda:3')
discard
cal diff is tensor(0.3360, device='cuda:3')
discard
cal diff is tensor(570.2336, device='cuda:3')
discard
cal diff is tensor(0.5128, device='cuda:3')
discard
cal diff is tensor(3640.9482, device='cuda:3')
discard
cal diff is tensor(2.0329, device='cuda:3')
discard
cal diff is tensor(20.2998, device='cuda:3')
discard
cal diff is tensor(0.2288, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.8180833334896581
test entropy is  0.37430331155435365
________________________________
new distance ratio is 1.7538453900000004
 
Avg Training Stats after 54 global rounds:
Train Accuracy: 97.53% 

Test Accuracy: 97.34% 


 | Global Training Round : 55 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007544417399913073
attack res is True
len of model dicts is  10
compute distance is  tensor(31.1193, device='cuda:3')
compute distance is  tensor(32.4590, device='cuda:3')
compute distance is  tensor(48.2534, device='cuda:3')
compute distance is  tensor(44.3295, device='cuda:3')
compute distance is  tensor(41.0035, device='cuda:3')
compute distance is  tensor(20.8533, device='cuda:3')
compute distance is  tensor(56.8030, device='cuda:3')
compute distance is  tensor(24.6608, device='cuda:3')
compute distance is  tensor(68.4087, device='cuda:3')
compute distance is  tensor(61.6280, device='cuda:3')
calculated distance threshold is  tensor(112.5986, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.4222333334896746
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.3213000001563399
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.3017000001563396
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.26693333348967213
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.2911000001563393
====================
________________________________
test distance is  tensor(4282.7769, device='cuda:3')
test acc is  0.26693333348967213
test entropy is  0.3323302740640223
________________________________
diff is  tensor(44.3258, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3824, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.0733, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4969, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.9001, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0658, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3319, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2002, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4170.1782, device='cuda:3')
sum is tensor(0.2002, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5826, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0795, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1453, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4772, device='cuda:3', dtype=torch.float64)
sum is tensor(67.8029, device='cuda:3', dtype=torch.float64)
sum is tensor(641.8763, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.7764, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0309, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.9001, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.3258, device='cuda:3')
discard
cal diff is tensor(0.3824, device='cuda:3')
discard
cal diff is tensor(574.0734, device='cuda:3')
discard
cal diff is tensor(0.4969, device='cuda:3')
discard
cal diff is tensor(3640.8999, device='cuda:3')
discard
cal diff is tensor(2.0658, device='cuda:3')
discard
cal diff is tensor(20.3319, device='cuda:3')
discard
cal diff is tensor(0.2002, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9731833334896524
test entropy is  0.13973932587770002
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.13973932587770002
avg test loss is  0.0882147327556944
avg accuracy is  0.9731833334896524
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.36686536780933837
avg test loss is  5.1997894008022385
avg accuracy is  0.2773833334896723
compute_distance is  tensor(96.0599, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(96.0599, device='cuda:3')
test acc is  0.2773833334896723
test entropy is  0.36686536780933837
________________________________
new distance ratio is 1.9292299290000006
 
Avg Training Stats after 55 global rounds:
Train Accuracy: 94.65% 

Test Accuracy: 94.39% 


 | Global Training Round : 56 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007042620796710253
attack res is True
len of model dicts is  10
compute distance is  tensor(27.2137, device='cuda:3')
compute distance is  tensor(33.7788, device='cuda:3')
compute distance is  tensor(34.7967, device='cuda:3')
compute distance is  tensor(34.4804, device='cuda:3')
compute distance is  tensor(24.4937, device='cuda:3')
compute distance is  tensor(38.2905, device='cuda:3')
compute distance is  tensor(57.0034, device='cuda:3')
compute distance is  tensor(18.8391, device='cuda:3')
compute distance is  tensor(70.9706, device='cuda:3')
compute distance is  tensor(55.3032, device='cuda:3')
calculated distance threshold is  tensor(129.4702, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.1579166668230005
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.34546666682300703
====================
====================
iteration is  0
round is  2
accuracy is  0.2184500001563372
====================
====================
iteration is  1
round is  0
accuracy is  0.33703333348967346
====================
====================
iteration is  1
round is  1
accuracy is  0.20758333348967017
====================
________________________________
test distance is  tensor(4283.6260, device='cuda:3')
test acc is  0.1579166668230005
test entropy is  0.1708050131726303
________________________________
diff is  tensor(44.4679, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3765, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.4921, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5120, device='cuda:3', dtype=torch.float64)
diff is  tensor(3643.3643, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0112, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.1963, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2058, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4154.1558, device='cuda:3')
sum is tensor(0.2058, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5822, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0943, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1055, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3017, device='cuda:3', dtype=torch.float64)
sum is tensor(67.7696, device='cuda:3', dtype=torch.float64)
sum is tensor(640.2618, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.6261, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0355, device='cuda:3', dtype=torch.float64)
threshold is tensor(3643.3643, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.4679, device='cuda:3')
discard
cal diff is tensor(0.3765, device='cuda:3')
discard
cal diff is tensor(572.4921, device='cuda:3')
discard
cal diff is tensor(0.5120, device='cuda:3')
discard
cal diff is tensor(3643.3643, device='cuda:3')
discard
cal diff is tensor(2.0112, device='cuda:3')
discard
cal diff is tensor(20.1963, device='cuda:3')
discard
cal diff is tensor(0.2058, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.947333333489653
test entropy is  0.2049897833546596
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2049897833546596
avg test loss is  0.15760800766466715
avg accuracy is  0.947333333489653
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.13618707668774926
avg test loss is  10.117635603398403
avg accuracy is  0.15925000015633395
compute_distance is  tensor(83.0019, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(83.0019, device='cuda:3')
test acc is  0.15925000015633395
test entropy is  0.13618707668774926
________________________________
new distance ratio is 2.1221529219000006
 
Avg Training Stats after 56 global rounds:
Train Accuracy: 96.31% 

Test Accuracy: 96.42% 


 | Global Training Round : 57 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.006231982726603746
attack res is True
len of model dicts is  10
compute distance is  tensor(21.8078, device='cuda:3')
compute distance is  tensor(36.8603, device='cuda:3')
compute distance is  tensor(53.8306, device='cuda:3')
compute distance is  tensor(42.5371, device='cuda:3')
compute distance is  tensor(26.8926, device='cuda:3')
compute distance is  tensor(20.9834, device='cuda:3')
compute distance is  tensor(77.5223, device='cuda:3')
compute distance is  tensor(32.9906, device='cuda:3')
compute distance is  tensor(67.8003, device='cuda:3')
compute distance is  tensor(47.4616, device='cuda:3')
calculated distance threshold is  tensor(152.9661, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.2282833334896709
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.33138333348967347
====================
====================
iteration is  0
round is  2
accuracy is  0.3229333334896733
====================
====================
iteration is  1
round is  0
accuracy is  0.25123333348967164
====================
====================
iteration is  1
round is  1
accuracy is  0.4073333334896745
====================
________________________________
test distance is  tensor(4283.4233, device='cuda:3')
test acc is  0.2282833334896709
test entropy is  0.3428817541201486
________________________________
diff is  tensor(44.8544, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3348, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.7828, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4897, device='cuda:3', dtype=torch.float64)
diff is  tensor(3643.2775, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0701, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3977, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2171, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4130.4570, device='cuda:3')
sum is tensor(0.2171, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5519, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0416, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1117, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5093, device='cuda:3', dtype=torch.float64)
sum is tensor(68.3637, device='cuda:3', dtype=torch.float64)
sum is tensor(640.1465, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.4240, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0420, device='cuda:3', dtype=torch.float64)
threshold is tensor(3643.2775, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.8544, device='cuda:3')
discard
cal diff is tensor(0.3348, device='cuda:3')
discard
cal diff is tensor(571.7828, device='cuda:3')
discard
cal diff is tensor(0.4897, device='cuda:3')
discard
cal diff is tensor(3643.2773, device='cuda:3')
discard
cal diff is tensor(2.0701, device='cuda:3')
discard
cal diff is tensor(20.3977, device='cuda:3')
discard
cal diff is tensor(0.2171, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9611833334896527
test entropy is  0.17551219125371625
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.17551219125371625
avg test loss is  0.1265473367466625
avg accuracy is  0.9611833334896527
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.36680553083035994
avg test loss is  6.527519655634345
avg accuracy is  0.2544000001563384
compute_distance is  tensor(85.4351, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(85.4351, device='cuda:3')
test acc is  0.2544000001563384
test entropy is  0.36680553083035994
________________________________
new distance ratio is 2.334368214090001
 
Avg Training Stats after 57 global rounds:
Train Accuracy: 94.93% 

Test Accuracy: 95.27% 


 | Global Training Round : 58 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.005499782040715218
attack res is True
len of model dicts is  10
compute distance is  tensor(23.0856, device='cuda:3')
compute distance is  tensor(16.8063, device='cuda:3')
compute distance is  tensor(67.6286, device='cuda:3')
compute distance is  tensor(40.9434, device='cuda:3')
compute distance is  tensor(39.5510, device='cuda:3')
compute distance is  tensor(44.4233, device='cuda:3')
compute distance is  tensor(63.8808, device='cuda:3')
compute distance is  tensor(18.2145, device='cuda:3')
compute distance is  tensor(69.9239, device='cuda:3')
compute distance is  tensor(58.3546, device='cuda:3')
calculated distance threshold is  tensor(153.2020, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.22451666682300395
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.3391833334896736
====================
====================
iteration is  0
round is  2
accuracy is  0.28885000015633916
====================
====================
iteration is  1
round is  0
accuracy is  0.12100000015633194
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.4177666668230079
====================
________________________________
test distance is  tensor(4282.0254, device='cuda:3')
test acc is  0.12100000015633194
test entropy is  0.20842196196635396
________________________________
diff is  tensor(45.4765, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3470, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.0217, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5244, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.0257, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0268, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3728, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2305, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4128.8232, device='cuda:3')
sum is tensor(0.2305, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5776, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1020, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1288, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5016, device='cuda:3', dtype=torch.float64)
sum is tensor(68.9781, device='cuda:3', dtype=torch.float64)
sum is tensor(639.9998, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.0255, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0421, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.0257, device='cuda:3', dtype=torch.float64)
cal diff is tensor(45.4765, device='cuda:3')
discard
cal diff is tensor(0.3470, device='cuda:3')
discard
cal diff is tensor(571.0217, device='cuda:3')
discard
cal diff is tensor(0.5244, device='cuda:3')
discard
cal diff is tensor(3642.0259, device='cuda:3')
clipping
cal diff is tensor(2.0268, device='cuda:3')
discard
cal diff is tensor(20.3728, device='cuda:3')
discard
cal diff is tensor(0.2305, device='cuda:3')
discard
________________________________
test distance is  tensor(153.2125, device='cuda:3')
test acc is  0.9485500001563197
test entropy is  0.2310045483841825
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(153.2023, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0105, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(153.2126, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(153.2023, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(153.2023, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(153.2122, device='cuda:3')
test acc is  0.9485500001563197
test entropy is  0.23100439501977932
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(153.2020, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(153.2122, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(153.2020, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(153.2020, device='cuda:3')
discard
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9493000001563197
test entropy is  0.22880834110700754
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.22880834110700754
avg test loss is  0.16786922260161752
avg accuracy is  0.9493000001563197
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.23628043265802773
avg test loss is  12.373584360964516
avg accuracy is  0.1362500001563319
compute_distance is  tensor(80.8237, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(80.8237, device='cuda:3')
test acc is  0.1362500001563319
test entropy is  0.23628043265802773
________________________________
new distance ratio is 2.567805035499001
 
Avg Training Stats after 58 global rounds:
Train Accuracy: 94.27% 

Test Accuracy: 94.46% 


 | Global Training Round : 59 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.004260761197656393
attack res is False
len of model dicts is  10
compute distance is  tensor(31.4870, device='cuda:3')
compute distance is  tensor(11.0147, device='cuda:3')
compute distance is  tensor(82.0801, device='cuda:3')
compute distance is  tensor(59.5623, device='cuda:3')
compute distance is  tensor(42.3715, device='cuda:3')
compute distance is  tensor(29.9400, device='cuda:3')
compute distance is  tensor(66.7156, device='cuda:3')
compute distance is  tensor(15.9890, device='cuda:3')
compute distance is  tensor(49.9490, device='cuda:3')
compute distance is  tensor(77.0540, device='cuda:3')
calculated distance threshold is  tensor(176.9077, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.34910000015634046
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2740166668230056
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.3142666668230065
====================
====================
iteration is  1
round is  0
accuracy is  0.2566666668230051
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.31728333348967325
====================
________________________________
test distance is  tensor(4285.6763, device='cuda:3')
test acc is  0.2566666668230051
test entropy is  0.29471426322134825
________________________________
diff is  tensor(44.6212, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3457, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.4920, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5265, device='cuda:3', dtype=torch.float64)
diff is  tensor(3643.1695, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0214, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3043, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1957, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4108.7686, device='cuda:3')
sum is tensor(0.1957, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5413, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0679, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0893, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3936, device='cuda:3', dtype=torch.float64)
sum is tensor(68.0148, device='cuda:3', dtype=torch.float64)
sum is tensor(642.5068, device='cuda:3', dtype=torch.float64)
sum is tensor(4285.6763, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0486, device='cuda:3', dtype=torch.float64)
threshold is tensor(3643.1695, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.6212, device='cuda:3')
discard
cal diff is tensor(0.3457, device='cuda:3')
discard
cal diff is tensor(574.4919, device='cuda:3')
discard
cal diff is tensor(0.5265, device='cuda:3')
discard
cal diff is tensor(3643.1694, device='cuda:3')
discard
cal diff is tensor(2.0214, device='cuda:3')
discard
cal diff is tensor(20.3043, device='cuda:3')
discard
cal diff is tensor(0.1957, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9391000001563201
test entropy is  0.22226511823660783
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.22226511823660783
avg test loss is  0.18310984587177698
avg accuracy is  0.9391000001563201
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.314355734044682
avg test loss is  7.335542179628222
avg accuracy is  0.29533333348967267
compute_distance is  tensor(80.2794, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(80.2794, device='cuda:3')
test acc is  0.29533333348967267
test entropy is  0.314355734044682
________________________________
new distance ratio is 2.334368214090001
 
Avg Training Stats after 59 global rounds:
Train Accuracy: 86.06% 

Test Accuracy: 86.04% 


 | Global Training Round : 60 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0030309883877635
attack res is False
len of model dicts is  10
compute distance is  tensor(34.7583, device='cuda:3')
compute distance is  tensor(21.5016, device='cuda:3')
compute distance is  tensor(77.0433, device='cuda:3')
compute distance is  tensor(110.2120, device='cuda:3')
compute distance is  tensor(68.2429, device='cuda:3')
compute distance is  tensor(43.0490, device='cuda:3')
compute distance is  tensor(72.0704, device='cuda:3')
compute distance is  tensor(42.6732, device='cuda:3')
compute distance is  tensor(59.4002, device='cuda:3')
compute distance is  tensor(57.4388, device='cuda:3')
calculated distance threshold is  tensor(209.7586, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.2358666668230044
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.1360000001563319
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.1450000001563328
====================
====================
iteration is  1
round is  0
accuracy is  0.23240000015633763
====================
====================
iteration is  1
round is  1
accuracy is  0.14885000015633304
====================
________________________________
test distance is  tensor(4283.8853, device='cuda:3')
test acc is  0.1360000001563319
test entropy is  0.1453963605436816
________________________________
diff is  tensor(44.1040, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3631, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.1367, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4968, device='cuda:3', dtype=torch.float64)
diff is  tensor(3643.2253, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0300, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3427, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1863, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4074.1267, device='cuda:3')
sum is tensor(0.1863, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5495, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0463, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0763, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4190, device='cuda:3', dtype=torch.float64)
sum is tensor(67.5229, device='cuda:3', dtype=torch.float64)
sum is tensor(640.6596, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.8849, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0576, device='cuda:3', dtype=torch.float64)
threshold is tensor(3643.2253, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.1040, device='cuda:3')
discard
cal diff is tensor(0.3631, device='cuda:3')
discard
cal diff is tensor(573.1367, device='cuda:3')
discard
cal diff is tensor(0.4968, device='cuda:3')
discard
cal diff is tensor(3643.2253, device='cuda:3')
clipping
cal diff is tensor(2.0300, device='cuda:3')
discard
cal diff is tensor(20.3427, device='cuda:3')
discard
cal diff is tensor(0.1863, device='cuda:3')
discard
________________________________
test distance is  tensor(209.7684, device='cuda:3')
test acc is  0.8494666668229901
test entropy is  0.3432748192218321
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(209.7582, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0098, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0417, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(209.7582, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(8.7676, device='cuda:3')
test acc is  0.8485500001563234
test entropy is  0.3416387477059608
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3416387477059608
avg test loss is  0.45856537176633694
avg accuracy is  0.8485500001563234
compute_distance is  tensor(8.7676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.16042687983782306
avg test loss is  15.371052341420514
avg accuracy is  0.1259166668229986
compute_distance is  tensor(75.7468, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(75.7468, device='cuda:3')
test acc is  0.1259166668229986
test entropy is  0.16042687983782306
________________________________
new distance ratio is 2.1221529219000006
 
Avg Training Stats after 60 global rounds:
Train Accuracy: 97.96% 

Test Accuracy: 97.89% 


 | Global Training Round : 61 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0034383628517389297
attack res is False
len of model dicts is  10
compute distance is  tensor(25.2645, device='cuda:3')
compute distance is  tensor(24.4186, device='cuda:3')
compute distance is  tensor(48.9771, device='cuda:3')
compute distance is  tensor(63.1130, device='cuda:3')
compute distance is  tensor(28.3863, device='cuda:3')
compute distance is  tensor(26.8933, device='cuda:3')
compute distance is  tensor(37.9213, device='cuda:3')
compute distance is  tensor(31.9292, device='cuda:3')
compute distance is  tensor(87.1134, device='cuda:3')
compute distance is  tensor(66.9673, device='cuda:3')
calculated distance threshold is  tensor(145.3713, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.15020000015633314
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.33018333348967344
====================
====================
iteration is  0
round is  2
accuracy is  0.1923166668230026
====================
====================
iteration is  1
round is  0
accuracy is  0.27930000015633905
====================
====================
iteration is  1
round is  1
accuracy is  0.2026000001563364
====================
________________________________
test distance is  tensor(4282.6392, device='cuda:3')
test acc is  0.15020000015633314
test entropy is  0.20123723675923816
________________________________
diff is  tensor(44.5960, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3669, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.2482, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5159, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.4506, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0368, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2212, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2035, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4137.2681, device='cuda:3')
sum is tensor(0.2035, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5704, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0863, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1231, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3443, device='cuda:3', dtype=torch.float64)
sum is tensor(67.9403, device='cuda:3', dtype=torch.float64)
sum is tensor(641.1885, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.6391, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0399, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.4506, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.5960, device='cuda:3')
discard
cal diff is tensor(0.3669, device='cuda:3')
discard
cal diff is tensor(573.2482, device='cuda:3')
discard
cal diff is tensor(0.5159, device='cuda:3')
discard
cal diff is tensor(3641.4507, device='cuda:3')
clipping
cal diff is tensor(2.0368, device='cuda:3')
discard
cal diff is tensor(20.2212, device='cuda:3')
discard
cal diff is tensor(0.2035, device='cuda:3')
discard
________________________________
test distance is  tensor(145.3812, device='cuda:3')
test acc is  0.9787666668229855
test entropy is  0.11980642675201712
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(145.3711, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0099, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0333, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(145.3712, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(4.8542, device='cuda:3')
test acc is  0.9788666668229854
test entropy is  0.11779185846598862
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.11779185846598862
avg test loss is  0.0719306806270192
avg accuracy is  0.9788666668229854
compute_distance is  tensor(4.8542, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.21501998707397915
avg test loss is  10.29802143039988
avg accuracy is  0.14641666682299947
compute_distance is  tensor(90.7944, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(90.7944, device='cuda:3')
test acc is  0.14641666682299947
test entropy is  0.21501998707397915
________________________________
new distance ratio is 1.9292299290000003
 
Avg Training Stats after 61 global rounds:
Train Accuracy: 64.69% 

Test Accuracy: 65.44% 


 | Global Training Round : 62 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0019181303214281797
attack res is False
len of model dicts is  10
compute distance is  tensor(102.0883, device='cuda:3')
compute distance is  tensor(137.2368, device='cuda:3')
compute distance is  tensor(102.8962, device='cuda:3')
compute distance is  tensor(84.3930, device='cuda:3')
compute distance is  tensor(73.7523, device='cuda:3')
compute distance is  tensor(156.5295, device='cuda:3')
compute distance is  tensor(128.6615, device='cuda:3')
compute distance is  tensor(141.0046, device='cuda:3')
compute distance is  tensor(86.3208, device='cuda:3')
compute distance is  tensor(117.2316, device='cuda:3')
calculated distance threshold is  tensor(218.9308, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.1521166668229999
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.28236666682300576
====================
====================
iteration is  0
round is  2
accuracy is  0.1719166668230014
====================
====================
iteration is  1
round is  0
accuracy is  0.1281000001563319
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.2610833334896719
====================
________________________________
test distance is  tensor(4277.6729, device='cuda:3')
test acc is  0.1281000001563319
test entropy is  0.16014063143844542
________________________________
diff is  tensor(43.1354, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3342, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.5313, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4925, device='cuda:3', dtype=torch.float64)
diff is  tensor(3639.7479, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0271, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2470, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1571, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4058.7422, device='cuda:3')
sum is tensor(0.1571, device='cuda:3', dtype=torch.float64)
sum is tensor(0.4913, device='cuda:3', dtype=torch.float64)
sum is tensor(0.9839, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0110, device='cuda:3', dtype=torch.float64)
sum is tensor(23.2580, device='cuda:3', dtype=torch.float64)
sum is tensor(66.3934, device='cuda:3', dtype=torch.float64)
sum is tensor(637.9247, device='cuda:3', dtype=torch.float64)
sum is tensor(4277.6726, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0601, device='cuda:3', dtype=torch.float64)
threshold is tensor(3639.7479, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.1354, device='cuda:3')
discard
cal diff is tensor(0.3342, device='cuda:3')
discard
cal diff is tensor(571.5312, device='cuda:3')
discard
cal diff is tensor(0.4925, device='cuda:3')
discard
cal diff is tensor(3639.7478, device='cuda:3')
discard
cal diff is tensor(2.0271, device='cuda:3')
discard
cal diff is tensor(20.2470, device='cuda:3')
discard
cal diff is tensor(0.1571, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.6518333334896672
test entropy is  0.4810697055701762
________________________________
new distance ratio is 1.7538453900000002
 
Avg Training Stats after 62 global rounds:
Train Accuracy: 97.28% 

Test Accuracy: 97.29% 


 | Global Training Round : 63 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  1.1417442692618351e-05
attack res is False
len of model dicts is  10
compute distance is  tensor(46.9028, device='cuda:3')
compute distance is  tensor(28.1662, device='cuda:3')
compute distance is  tensor(45.0694, device='cuda:3')
compute distance is  tensor(36.7934, device='cuda:3')
compute distance is  tensor(30.7807, device='cuda:3')
compute distance is  tensor(24.9567, device='cuda:3')
compute distance is  tensor(55.7500, device='cuda:3')
compute distance is  tensor(28.7058, device='cuda:3')
compute distance is  tensor(70.0566, device='cuda:3')
compute distance is  tensor(58.5546, device='cuda:3')
calculated distance threshold is  tensor(96.8643, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.1734166668230015
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2389333334896712
====================
====================
iteration is  0
round is  2
accuracy is  0.48958333348967537
====================
====================
iteration is  1
round is  0
accuracy is  0.30666666682300636
====================
====================
iteration is  1
round is  1
accuracy is  0.5028500001563421
====================
________________________________
test distance is  tensor(4282.0166, device='cuda:3')
test acc is  0.1734166668230015
test entropy is  0.24208450634310494
________________________________
diff is  tensor(44.7941, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3627, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.1448, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4630, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.8160, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0770, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.1825, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1760, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4185.1523, device='cuda:3')
sum is tensor(0.1760, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5388, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0018, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0788, device='cuda:3', dtype=torch.float64)
sum is tensor(23.2613, device='cuda:3', dtype=torch.float64)
sum is tensor(68.0554, device='cuda:3', dtype=torch.float64)
sum is tensor(641.2002, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.0162, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0266, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.8160, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.7942, device='cuda:3')
discard
cal diff is tensor(0.3627, device='cuda:3')
discard
cal diff is tensor(573.1448, device='cuda:3')
discard
cal diff is tensor(0.4630, device='cuda:3')
discard
cal diff is tensor(3640.8159, device='cuda:3')
discard
cal diff is tensor(2.0770, device='cuda:3')
discard
cal diff is tensor(20.1825, device='cuda:3')
discard
cal diff is tensor(0.1760, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9735666668229855
test entropy is  0.16970740865145537
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.16970740865145537
avg test loss is  0.09501612737480956
avg accuracy is  0.9735666668229855
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.18461174707708836
avg test loss is  6.1158407329242115
avg accuracy is  0.14738333348966626
compute_distance is  tensor(101.4693, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(101.4693, device='cuda:3')
test acc is  0.14738333348966626
test entropy is  0.18461174707708836
________________________________
diff is  tensor(0.8208, device='cuda:3')
diff is  tensor(0.0082, device='cuda:3')
diff is  tensor(16.6622, device='cuda:3')
diff is  tensor(0.0174, device='cuda:3')
diff is  tensor(83.5029, device='cuda:3')
diff is  tensor(0.0304, device='cuda:3')
diff is  tensor(0.4174, device='cuda:3')
diff is  tensor(0.0032, device='cuda:3')
threshold is  tensor(4.6050, device='cuda:3')
sum is tensor(0.0032, device='cuda:3')
sum is tensor(0.0114, device='cuda:3')
sum is tensor(0.0288, device='cuda:3')
sum is tensor(0.0592, device='cuda:3')
sum is tensor(0.4766, device='cuda:3')
sum is tensor(1.2974, device='cuda:3')
sum is tensor(17.9596, device='cuda:3')
ratio is tensor(0.8015, device='cuda:3')
threshold is tensor(16.6622, device='cuda:3')
cal diff is tensor(0.8208, device='cuda:3')
discard
cal diff is tensor(0.0082, device='cuda:3')
discard
cal diff is tensor(16.6622, device='cuda:3')
clipping
cal diff is tensor(0.0174, device='cuda:3')
discard
cal diff is tensor(83.5029, device='cuda:3')
clipping
cal diff is tensor(0.0304, device='cuda:3')
discard
cal diff is tensor(0.4174, device='cuda:3')
discard
cal diff is tensor(0.0032, device='cuda:3')
discard
________________________________
test distance is  tensor(80.2883, device='cuda:3')
test acc is  0.3785333334896742
test entropy is  0.43963544823721784
________________________________
new distance ratio is 1.5944049
 
Avg Training Stats after 63 global rounds:
Train Accuracy: 96.56% 

Test Accuracy: 96.71% 


 | Global Training Round : 64 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0022410156670957804
attack res is False
len of model dicts is  10
compute distance is  tensor(29.1578, device='cuda:3')
compute distance is  tensor(22.2967, device='cuda:3')
compute distance is  tensor(44.0739, device='cuda:3')
compute distance is  tensor(63.9571, device='cuda:3')
compute distance is  tensor(27.9527, device='cuda:3')
compute distance is  tensor(36.8774, device='cuda:3')
compute distance is  tensor(54.5591, device='cuda:3')
compute distance is  tensor(24.8664, device='cuda:3')
compute distance is  tensor(113.9224, device='cuda:3')
compute distance is  tensor(83.5310, device='cuda:3')
calculated distance threshold is  tensor(155.1044, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.21748333348967042
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.13618333348966524
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.19380000015633592
====================
====================
iteration is  1
round is  0
accuracy is  0.22248333348967056
====================
====================
iteration is  1
round is  1
accuracy is  0.20341666682300305
====================
________________________________
test distance is  tensor(4280.9976, device='cuda:3')
test acc is  0.13618333348966524
test entropy is  0.2018959704619735
________________________________
diff is  tensor(43.5841, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3379, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.5739, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5021, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.3982, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0160, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3765, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2083, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4125.8931, device='cuda:3')
sum is tensor(0.2083, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5462, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0483, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0643, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4408, device='cuda:3', dtype=torch.float64)
sum is tensor(67.0249, device='cuda:3', dtype=torch.float64)
sum is tensor(639.5988, device='cuda:3', dtype=torch.float64)
sum is tensor(4280.9970, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0426, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.3982, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.5841, device='cuda:3')
discard
cal diff is tensor(0.3379, device='cuda:3')
discard
cal diff is tensor(572.5739, device='cuda:3')
discard
cal diff is tensor(0.5021, device='cuda:3')
discard
cal diff is tensor(3641.3984, device='cuda:3')
clipping
cal diff is tensor(2.0160, device='cuda:3')
discard
cal diff is tensor(20.3765, device='cuda:3')
discard
cal diff is tensor(0.2083, device='cuda:3')
discard
________________________________
test distance is  tensor(155.1142, device='cuda:3')
test acc is  0.9653166668229859
test entropy is  0.20491309806323255
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(155.1039, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0098, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0485, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(155.1039, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(7.5318, device='cuda:3')
test acc is  0.9663666668229858
test entropy is  0.20130557960856443
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.20130557960856443
avg test loss is  0.12086398303429328
avg accuracy is  0.9663666668229858
compute_distance is  tensor(7.5318, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.19412158123815237
avg test loss is  10.183261691888513
avg accuracy is  0.10626666682299865
compute_distance is  tensor(92.4844, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(92.4844, device='cuda:3')
test acc is  0.10626666682299865
test entropy is  0.19412158123815237
________________________________
new distance ratio is 1.4494589999999998
 
Avg Training Stats after 64 global rounds:
Train Accuracy: 96.35% 

Test Accuracy: 96.66% 


 | Global Training Round : 65 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.001430491334758699
attack res is False
len of model dicts is  10
compute distance is  tensor(25.2536, device='cuda:3')
compute distance is  tensor(21.9836, device='cuda:3')
compute distance is  tensor(42.1064, device='cuda:3')
compute distance is  tensor(65.2154, device='cuda:3')
compute distance is  tensor(28.9032, device='cuda:3')
compute distance is  tensor(28.0419, device='cuda:3')
compute distance is  tensor(59.8087, device='cuda:3')
compute distance is  tensor(25.1626, device='cuda:3')
compute distance is  tensor(69.1717, device='cuda:3')
compute distance is  tensor(65.4055, device='cuda:3')
calculated distance threshold is  tensor(84.1628, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.25331666682300497
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.21506666682300363
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.22368333348967062
====================
====================
iteration is  1
round is  0
accuracy is  0.32788333348967336
====================
====================
iteration is  1
round is  1
accuracy is  0.26368333348967193
====================
________________________________
test distance is  tensor(4280.5625, device='cuda:3')
test acc is  0.21506666682300363
test entropy is  0.21508635106339638
________________________________
diff is  tensor(43.3399, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3764, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.0181, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5002, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.8684, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0189, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2666, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1738, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4196.3994, device='cuda:3')
sum is tensor(0.1738, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5502, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0504, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0693, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3358, device='cuda:3', dtype=torch.float64)
sum is tensor(66.6758, device='cuda:3', dtype=torch.float64)
sum is tensor(639.6939, device='cuda:3', dtype=torch.float64)
sum is tensor(4280.5623, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0231, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.8684, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.3399, device='cuda:3')
discard
cal diff is tensor(0.3764, device='cuda:3')
discard
cal diff is tensor(573.0181, device='cuda:3')
discard
cal diff is tensor(0.5002, device='cuda:3')
discard
cal diff is tensor(3640.8684, device='cuda:3')
clipping
cal diff is tensor(2.0189, device='cuda:3')
discard
cal diff is tensor(20.2666, device='cuda:3')
discard
cal diff is tensor(0.1738, device='cuda:3')
discard
________________________________
test distance is  tensor(84.1731, device='cuda:3')
test acc is  0.9631333334896526
test entropy is  0.19275754442347137
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(84.1629, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0103, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(84.1731, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(84.1629, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(84.1629, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(84.1731, device='cuda:3')
test acc is  0.9631333334896526
test entropy is  0.19275746227645163
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(84.1629, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(84.1731, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(84.1629, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(84.1629, device='cuda:3')
discard
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9630333334896526
test entropy is  0.19153383440737212
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.19153383440737212
avg test loss is  0.12451928518593375
avg accuracy is  0.9630333334896526
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.21944457656348437
avg test loss is  7.196889590098659
avg accuracy is  0.22543333348967065
compute_distance is  tensor(83.9032, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(83.9032, device='cuda:3')
test acc is  0.22543333348967065
test entropy is  0.21944457656348437
________________________________
new distance ratio is 1.3176899999999998
 
Avg Training Stats after 65 global rounds:
Train Accuracy: 95.19% 

Test Accuracy: 95.44% 


 | Global Training Round : 66 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0016666040755808353
attack res is False
len of model dicts is  10
compute distance is  tensor(22.5804, device='cuda:3')
compute distance is  tensor(30.5230, device='cuda:3')
compute distance is  tensor(42.3305, device='cuda:3')
compute distance is  tensor(67.0426, device='cuda:3')
compute distance is  tensor(39.3045, device='cuda:3')
compute distance is  tensor(36.0560, device='cuda:3')
compute distance is  tensor(53.4150, device='cuda:3')
compute distance is  tensor(30.2029, device='cuda:3')
compute distance is  tensor(71.3721, device='cuda:3')
compute distance is  tensor(67.7639, device='cuda:3')
calculated distance threshold is  tensor(81.0280, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.23708333348967114
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.21978333348967038
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.16298333348966748
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.17125000015633465
====================
====================
iteration is  1
round is  1
accuracy is  0.24050000015633796
====================
________________________________
test distance is  tensor(4285.0371, device='cuda:3')
test acc is  0.16298333348966748
test entropy is  0.1652594019990486
________________________________
diff is  tensor(46.0611, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3793, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.2979, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5038, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.0371, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0534, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.4836, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2209, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4204.0093, device='cuda:3')
sum is tensor(0.2209, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6003, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1041, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1575, device='cuda:3', dtype=torch.float64)
sum is tensor(23.6411, device='cuda:3', dtype=torch.float64)
sum is tensor(69.7022, device='cuda:3', dtype=torch.float64)
sum is tensor(643.0001, device='cuda:3', dtype=torch.float64)
sum is tensor(4285.0372, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0222, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.0371, device='cuda:3', dtype=torch.float64)
cal diff is tensor(46.0611, device='cuda:3')
discard
cal diff is tensor(0.3793, device='cuda:3')
discard
cal diff is tensor(573.2979, device='cuda:3')
discard
cal diff is tensor(0.5038, device='cuda:3')
discard
cal diff is tensor(3642.0371, device='cuda:3')
clipping
cal diff is tensor(2.0534, device='cuda:3')
discard
cal diff is tensor(20.4836, device='cuda:3')
discard
cal diff is tensor(0.2209, device='cuda:3')
discard
________________________________
test distance is  tensor(81.0382, device='cuda:3')
test acc is  0.9505166668229864
test entropy is  0.2166488141313926
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(81.0279, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0013, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(81.0279, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.1293, device='cuda:3')
test acc is  0.9509166668229864
test entropy is  0.21567429095776733
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.21567429095776733
avg test loss is  0.15614882277956268
avg accuracy is  0.9509166668229864
compute_distance is  tensor(0.1293, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.1685320983595177
avg test loss is  9.10305135743196
avg accuracy is  0.14188333348966584
compute_distance is  tensor(76.1072, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(76.1072, device='cuda:3')
test acc is  0.14188333348966584
test entropy is  0.1685320983595177
________________________________
new distance ratio is 1.1978999999999997
 
Avg Training Stats after 66 global rounds:
Train Accuracy: 97.31% 

Test Accuracy: 97.04% 


 | Global Training Round : 67 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0005005406565032899
attack res is False
len of model dicts is  10
compute distance is  tensor(29.6328, device='cuda:3')
compute distance is  tensor(16.3906, device='cuda:3')
compute distance is  tensor(76.5252, device='cuda:3')
compute distance is  tensor(58.2043, device='cuda:3')
compute distance is  tensor(38.4544, device='cuda:3')
compute distance is  tensor(24.2617, device='cuda:3')
compute distance is  tensor(45.9178, device='cuda:3')
compute distance is  tensor(25.6827, device='cuda:3')
compute distance is  tensor(65.1880, device='cuda:3')
compute distance is  tensor(41.4580, device='cuda:3')
calculated distance threshold is  tensor(81.8772, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.2946166668230061
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.33348333348967346
====================
====================
iteration is  0
round is  2
accuracy is  0.308333333489673
====================
====================
iteration is  1
round is  0
accuracy is  0.1480666668229997
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.3466000001563404
====================
________________________________
test distance is  tensor(4280.9658, device='cuda:3')
test acc is  0.1480666668229997
test entropy is  0.15577706600477828
________________________________
diff is  tensor(42.9292, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3629, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.7506, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5119, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.9688, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9997, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2279, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2155, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4199.0889, device='cuda:3')
sum is tensor(0.2155, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5784, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0903, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0900, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3179, device='cuda:3', dtype=torch.float64)
sum is tensor(66.2470, device='cuda:3', dtype=torch.float64)
sum is tensor(639.9976, device='cuda:3', dtype=torch.float64)
sum is tensor(4280.9664, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0225, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.9688, device='cuda:3', dtype=torch.float64)
cal diff is tensor(42.9292, device='cuda:3')
discard
cal diff is tensor(0.3629, device='cuda:3')
discard
cal diff is tensor(573.7505, device='cuda:3')
discard
cal diff is tensor(0.5119, device='cuda:3')
discard
cal diff is tensor(3640.9688, device='cuda:3')
discard
cal diff is tensor(1.9997, device='cuda:3')
discard
cal diff is tensor(20.2279, device='cuda:3')
discard
cal diff is tensor(0.2155, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.971850000156319
test entropy is  0.17162947981421756
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.17162947981421756
avg test loss is  0.09959236739266879
avg accuracy is  0.971850000156319
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.11224616682335639
avg test loss is  6.924569089783788
avg accuracy is  0.12403333348966528
compute_distance is  tensor(76.3239, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(76.3239, device='cuda:3')
test acc is  0.12403333348966528
test entropy is  0.11224616682335639
________________________________
new distance ratio is 1.0889999999999997
 
Avg Training Stats after 67 global rounds:
Train Accuracy: 74.49% 

Test Accuracy: 74.07% 


 | Global Training Round : 68 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0015466067707166076
attack res is False
len of model dicts is  10
compute distance is  tensor(63.7432, device='cuda:3')
compute distance is  tensor(88.6410, device='cuda:3')
compute distance is  tensor(138.8504, device='cuda:3')
compute distance is  tensor(185.5006, device='cuda:3')
compute distance is  tensor(114.9952, device='cuda:3')
compute distance is  tensor(68.7098, device='cuda:3')
compute distance is  tensor(143.0709, device='cuda:3')
compute distance is  tensor(39.0290, device='cuda:3')
compute distance is  tensor(96.5726, device='cuda:3')
compute distance is  tensor(84.3000, device='cuda:3')
calculated distance threshold is  tensor(184.0359, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.11595000015633196
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2977333334896728
====================
====================
iteration is  0
round is  2
accuracy is  0.18446666682300217
====================
====================
iteration is  1
round is  0
accuracy is  0.29918333348967285
====================
====================
iteration is  1
round is  1
accuracy is  0.1193166668229986
====================
________________________________
test distance is  tensor(4282.4653, device='cuda:3')
test acc is  0.11595000015633196
test entropy is  0.07794600701146225
________________________________
diff is  tensor(44.3491, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3083, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.5344, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4747, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.1254, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0167, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.4614, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1953, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4098.4292, device='cuda:3')
sum is tensor(0.1953, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5036, device='cuda:3', dtype=torch.float64)
sum is tensor(0.9783, device='cuda:3', dtype=torch.float64)
sum is tensor(2.9950, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4564, device='cuda:3', dtype=torch.float64)
sum is tensor(67.8055, device='cuda:3', dtype=torch.float64)
sum is tensor(640.3399, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.4653, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0505, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.1254, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.3491, device='cuda:3')
discard
cal diff is tensor(0.3083, device='cuda:3')
discard
cal diff is tensor(572.5344, device='cuda:3')
discard
cal diff is tensor(0.4747, device='cuda:3')
discard
cal diff is tensor(3642.1255, device='cuda:3')
clipping
cal diff is tensor(2.0167, device='cuda:3')
discard
cal diff is tensor(20.4614, device='cuda:3')
discard
cal diff is tensor(0.1953, device='cuda:3')
discard
________________________________
test distance is  tensor(184.0464, device='cuda:3')
test acc is  0.7394333334896618
test entropy is  0.3869499647572859
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(184.0361, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0105, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(184.0464, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(184.0361, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(184.0361, device='cuda:3')
discard
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.7326333334896623
test entropy is  0.3871192492719398
________________________________
new distance ratio is 0.9899999999999997
 
Avg Training Stats after 68 global rounds:
Train Accuracy: 98.17% 

Test Accuracy: 98.07% 


 | Global Training Round : 69 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0031755331438034773
attack res is False
len of model dicts is  10
compute distance is  tensor(26.9420, device='cuda:3')
compute distance is  tensor(30.1934, device='cuda:3')
compute distance is  tensor(57.6449, device='cuda:3')
compute distance is  tensor(78.2763, device='cuda:3')
compute distance is  tensor(28.4196, device='cuda:3')
compute distance is  tensor(18.0201, device='cuda:3')
compute distance is  tensor(47.0393, device='cuda:3')
compute distance is  tensor(34.0518, device='cuda:3')
compute distance is  tensor(72.0140, device='cuda:3')
compute distance is  tensor(62.0367, device='cuda:3')
calculated distance threshold is  tensor(72.2506, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.32038333348967335
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.29136666682300594
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.30536666682300634
====================
====================
iteration is  1
round is  0
accuracy is  0.27710000015633907
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.38643333348967424
====================
________________________________
test distance is  tensor(4280.6055, device='cuda:3')
test acc is  0.27710000015633907
test entropy is  0.2938990247751604
________________________________
diff is  tensor(42.6759, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3362, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.8113, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5073, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.7748, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0462, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2988, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1550, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4208.3550, device='cuda:3')
sum is tensor(0.1550, device='cuda:3', dtype=torch.float64)
sum is tensor(0.4912, device='cuda:3', dtype=torch.float64)
sum is tensor(0.9985, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0447, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3435, device='cuda:3', dtype=torch.float64)
sum is tensor(66.0194, device='cuda:3', dtype=torch.float64)
sum is tensor(638.8307, device='cuda:3', dtype=torch.float64)
sum is tensor(4280.6055, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0198, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.7748, device='cuda:3', dtype=torch.float64)
cal diff is tensor(42.6759, device='cuda:3')
discard
cal diff is tensor(0.3362, device='cuda:3')
discard
cal diff is tensor(572.8113, device='cuda:3')
discard
cal diff is tensor(0.5073, device='cuda:3')
discard
cal diff is tensor(3641.7749, device='cuda:3')
clipping
cal diff is tensor(2.0462, device='cuda:3')
discard
cal diff is tensor(20.2988, device='cuda:3')
discard
cal diff is tensor(0.1550, device='cuda:3')
discard
________________________________
test distance is  tensor(72.2607, device='cuda:3')
test acc is  0.9818833334896521
test entropy is  0.1112519044593882
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(72.2505, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0101, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0114, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(72.2505, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.8361, device='cuda:3')
test acc is  0.9818500001563187
test entropy is  0.11097072568565194
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.11097072568565194
avg test loss is  0.06411945521146424
avg accuracy is  0.9818500001563187
compute_distance is  tensor(0.8361, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.30530585043593
avg test loss is  6.852699337229292
avg accuracy is  0.2880500001563393
compute_distance is  tensor(98.5501, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(98.5501, device='cuda:3')
test acc is  0.2880500001563393
test entropy is  0.30530585043593
________________________________
diff is  tensor(0.9311, device='cuda:3')
diff is  tensor(0.0111, device='cuda:3')
diff is  tensor(18.4385, device='cuda:3')
diff is  tensor(0.0190, device='cuda:3')
diff is  tensor(78.6678, device='cuda:3')
diff is  tensor(0.0343, device='cuda:3')
diff is  tensor(0.4288, device='cuda:3')
diff is  tensor(0.0038, device='cuda:3')
threshold is  tensor(26.2995, device='cuda:3')
sum is tensor(0.0038, device='cuda:3')
sum is tensor(0.0149, device='cuda:3')
sum is tensor(0.0339, device='cuda:3')
sum is tensor(0.0682, device='cuda:3')
sum is tensor(0.4970, device='cuda:3')
sum is tensor(1.4281, device='cuda:3')
sum is tensor(19.8666, device='cuda:3')
sum is tensor(98.5343, device='cuda:3')
ratio is tensor(0.9182, device='cuda:3')
threshold is tensor(78.6678, device='cuda:3')
cal diff is tensor(0.9311, device='cuda:3')
discard
cal diff is tensor(0.0111, device='cuda:3')
discard
cal diff is tensor(18.4385, device='cuda:3')
discard
cal diff is tensor(0.0190, device='cuda:3')
discard
cal diff is tensor(78.6678, device='cuda:3')
clipping
cal diff is tensor(0.0343, device='cuda:3')
discard
cal diff is tensor(0.4288, device='cuda:3')
discard
cal diff is tensor(0.0038, device='cuda:3')
discard
________________________________
test distance is  tensor(72.2457, device='cuda:3')
test acc is  0.7965500001563256
test entropy is  0.3233383623744125
________________________________
new distance ratio is 0.8999999999999996
 
Avg Training Stats after 69 global rounds:
Train Accuracy: 97.42% 

Test Accuracy: 97.37% 


 | Global Training Round : 70 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.002915443852543831
attack res is False
len of model dicts is  10
compute distance is  tensor(41.4510, device='cuda:3')
compute distance is  tensor(35.3432, device='cuda:3')
compute distance is  tensor(52.3851, device='cuda:3')
compute distance is  tensor(67.5246, device='cuda:3')
compute distance is  tensor(29.7813, device='cuda:3')
compute distance is  tensor(24.1986, device='cuda:3')
compute distance is  tensor(55.8040, device='cuda:3')
compute distance is  tensor(31.8180, device='cuda:3')
compute distance is  tensor(119.0965, device='cuda:3')
compute distance is  tensor(73.4112, device='cuda:3')
calculated distance threshold is  tensor(101.8424, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.23683333348967128
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.31906666682300655
====================
====================
iteration is  0
round is  2
accuracy is  0.2942833334896727
====================
====================
iteration is  1
round is  0
accuracy is  0.35380000015634044
====================
====================
iteration is  1
round is  1
accuracy is  0.3499500001563403
====================
________________________________
test distance is  tensor(4279.9380, device='cuda:3')
test acc is  0.23683333348967128
test entropy is  0.26377123668948727
________________________________
diff is  tensor(42.8133, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3732, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.1114, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5155, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.6433, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0069, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2994, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1755, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4178.0957, device='cuda:3')
sum is tensor(0.1755, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5487, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0643, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0712, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3706, device='cuda:3', dtype=torch.float64)
sum is tensor(66.1839, device='cuda:3', dtype=torch.float64)
sum is tensor(638.2953, device='cuda:3', dtype=torch.float64)
sum is tensor(4279.9385, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0280, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.6433, device='cuda:3', dtype=torch.float64)
cal diff is tensor(42.8133, device='cuda:3')
discard
cal diff is tensor(0.3732, device='cuda:3')
discard
cal diff is tensor(572.1114, device='cuda:3')
discard
cal diff is tensor(0.5155, device='cuda:3')
discard
cal diff is tensor(3641.6431, device='cuda:3')
discard
cal diff is tensor(2.0069, device='cuda:3')
discard
cal diff is tensor(20.2994, device='cuda:3')
discard
cal diff is tensor(0.1755, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9731333334896521
test entropy is  0.1504740685041843
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.1504740685041843
avg test loss is  0.09380126286294065
avg accuracy is  0.9731333334896521
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2910992153830874
avg test loss is  9.396795974357296
avg accuracy is  0.24305000015633813
compute_distance is  tensor(96.7374, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(96.7374, device='cuda:3')
test acc is  0.24305000015633813
test entropy is  0.2910992153830874
________________________________
new distance ratio is 0.8181818181818177
 
Avg Training Stats after 70 global rounds:
Train Accuracy: 95.60% 

Test Accuracy: 95.42% 


 | Global Training Round : 71 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0029512946493923664
attack res is False
len of model dicts is  10
compute distance is  tensor(43.2828, device='cuda:3')
compute distance is  tensor(36.1708, device='cuda:3')
compute distance is  tensor(60.1705, device='cuda:3')
compute distance is  tensor(63.6561, device='cuda:3')
compute distance is  tensor(28.3700, device='cuda:3')
compute distance is  tensor(19.6291, device='cuda:3')
compute distance is  tensor(73.1691, device='cuda:3')
compute distance is  tensor(32.6131, device='cuda:3')
compute distance is  tensor(58.5045, device='cuda:3')
compute distance is  tensor(69.0769, device='cuda:3')
calculated distance threshold is  tensor(59.4522, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.44018333348967487
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.13513333348966525
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.1482333334896664
====================
====================
iteration is  1
round is  0
accuracy is  0.3180166668230066
====================
====================
iteration is  1
round is  1
accuracy is  0.3476500001563404
====================
________________________________
test distance is  tensor(4279.6875, device='cuda:3')
test acc is  0.13513333348966525
test entropy is  0.06715434583485809
________________________________
diff is  tensor(43.0315, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3725, device='cuda:3', dtype=torch.float64)
diff is  tensor(570.3640, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5194, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.9965, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9970, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.1784, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2278, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4220.2354, device='cuda:3')
sum is tensor(0.2278, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6003, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1197, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1166, device='cuda:3', dtype=torch.float64)
sum is tensor(23.2950, device='cuda:3', dtype=torch.float64)
sum is tensor(66.3265, device='cuda:3', dtype=torch.float64)
sum is tensor(636.6905, device='cuda:3', dtype=torch.float64)
sum is tensor(4279.6870, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0163, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.9965, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.0315, device='cuda:3')
discard
cal diff is tensor(0.3725, device='cuda:3')
discard
cal diff is tensor(570.3640, device='cuda:3')
discard
cal diff is tensor(0.5194, device='cuda:3')
discard
cal diff is tensor(3642.9966, device='cuda:3')
clipping
cal diff is tensor(1.9970, device='cuda:3')
discard
cal diff is tensor(20.1784, device='cuda:3')
discard
cal diff is tensor(0.2278, device='cuda:3')
discard
________________________________
test distance is  tensor(59.4620, device='cuda:3')
test acc is  0.9563500001563194
test entropy is  0.1819156203895553
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(59.4516, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0097, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0565, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(59.4516, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(3.3698, device='cuda:3')
test acc is  0.9558666668229862
test entropy is  0.18230062134182656
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.18230062134182656
avg test loss is  0.1320511721767612
avg accuracy is  0.9558666668229862
compute_distance is  tensor(3.3698, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.05371508677030848
avg test loss is  15.53390632153574
avg accuracy is  0.11393333348966529
compute_distance is  tensor(83.9586, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(83.9586, device='cuda:3')
test acc is  0.11393333348966529
test entropy is  0.05371508677030848
________________________________
diff is  tensor(1.0390, device='cuda:3')
diff is  tensor(0.0092, device='cuda:3')
diff is  tensor(14.5827, device='cuda:3')
diff is  tensor(0.0139, device='cuda:3')
diff is  tensor(67.8766, device='cuda:3')
diff is  tensor(0.0305, device='cuda:3')
diff is  tensor(0.3968, device='cuda:3')
diff is  tensor(0.0036, device='cuda:3')
threshold is  tensor(24.5064, device='cuda:3')
sum is tensor(0.0036, device='cuda:3')
sum is tensor(0.0128, device='cuda:3')
sum is tensor(0.0267, device='cuda:3')
sum is tensor(0.0572, device='cuda:3')
sum is tensor(0.4541, device='cuda:3')
sum is tensor(1.4931, device='cuda:3')
sum is tensor(16.0758, device='cuda:3')
sum is tensor(83.9524, device='cuda:3')
ratio is tensor(0.8758, device='cuda:3')
threshold is tensor(67.8766, device='cuda:3')
cal diff is tensor(1.0390, device='cuda:3')
discard
cal diff is tensor(0.0092, device='cuda:3')
discard
cal diff is tensor(14.5827, device='cuda:3')
discard
cal diff is tensor(0.0139, device='cuda:3')
discard
cal diff is tensor(67.8766, device='cuda:3')
clipping
cal diff is tensor(0.0305, device='cuda:3')
discard
cal diff is tensor(0.3968, device='cuda:3')
discard
cal diff is tensor(0.0036, device='cuda:3')
discard
________________________________
test distance is  tensor(59.4476, device='cuda:3')
test acc is  0.5037666668230089
test entropy is  0.3470529764572949
________________________________
new distance ratio is 0.7438016528925615
 
Avg Training Stats after 71 global rounds:
Train Accuracy: 88.16% 

Test Accuracy: 88.33% 


 | Global Training Round : 72 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.005547164473682642
attack res is True
len of model dicts is  10
compute distance is  tensor(40.3936, device='cuda:3')
compute distance is  tensor(62.9314, device='cuda:3')
compute distance is  tensor(55.7640, device='cuda:3')
compute distance is  tensor(70.3596, device='cuda:3')
compute distance is  tensor(38.9785, device='cuda:3')
compute distance is  tensor(30.7985, device='cuda:3')
compute distance is  tensor(58.0114, device='cuda:3')
compute distance is  tensor(47.8312, device='cuda:3')
compute distance is  tensor(52.3232, device='cuda:3')
compute distance is  tensor(71.4551, device='cuda:3')
calculated distance threshold is  tensor(64.0630, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.1022833334896653
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.32916666682300677
====================
====================
iteration is  0
round is  2
accuracy is  0.2548166668230052
====================
====================
iteration is  1
round is  0
accuracy is  0.19863333348966952
====================
====================
iteration is  1
round is  1
accuracy is  0.27975000015633905
====================
________________________________
test distance is  tensor(4281.9248, device='cuda:3')
test acc is  0.1022833334896653
test entropy is  0.0077894449283637335
________________________________
diff is  tensor(44.5708, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3502, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.9667, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4801, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.9503, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0634, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3433, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1996, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4217.8618, device='cuda:3')
sum is tensor(0.1996, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5499, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0300, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0934, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4366, device='cuda:3', dtype=torch.float64)
sum is tensor(68.0075, device='cuda:3', dtype=torch.float64)
sum is tensor(639.9741, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.9245, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0176, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.9503, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.5708, device='cuda:3')
discard
cal diff is tensor(0.3502, device='cuda:3')
discard
cal diff is tensor(571.9667, device='cuda:3')
discard
cal diff is tensor(0.4801, device='cuda:3')
discard
cal diff is tensor(3641.9504, device='cuda:3')
clipping
cal diff is tensor(2.0634, device='cuda:3')
discard
cal diff is tensor(20.3433, device='cuda:3')
discard
cal diff is tensor(0.1996, device='cuda:3')
discard
________________________________
test distance is  tensor(64.0729, device='cuda:3')
test acc is  0.8842333334896554
test entropy is  0.26359776359027637
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(64.0627, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0099, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0325, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(64.0627, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(2.0916, device='cuda:3')
test acc is  0.8835166668229887
test entropy is  0.2638635006842456
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2638635006842456
avg test loss is  0.32682157107698384
avg accuracy is  0.8835166668229887
compute_distance is  tensor(2.0916, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.002361664964347335
avg test loss is  17.16227393770523
avg accuracy is  0.1021833334896653
compute_distance is  tensor(79.1693, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(79.1693, device='cuda:3')
test acc is  0.1021833334896653
test entropy is  0.002361664964347335
________________________________
diff is  tensor(0.9030, device='cuda:3')
diff is  tensor(0.0073, device='cuda:3')
diff is  tensor(12.2099, device='cuda:3')
diff is  tensor(0.0122, device='cuda:3')
diff is  tensor(65.6615, device='cuda:3')
diff is  tensor(0.0318, device='cuda:3')
diff is  tensor(0.3319, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(15.1064, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0103, device='cuda:3')
sum is tensor(0.0225, device='cuda:3')
sum is tensor(0.0543, device='cuda:3')
sum is tensor(0.3863, device='cuda:3')
sum is tensor(1.2893, device='cuda:3')
sum is tensor(13.4991, device='cuda:3')
sum is tensor(79.1607, device='cuda:3')
ratio is tensor(0.9755, device='cuda:3')
threshold is tensor(65.6615, device='cuda:3')
cal diff is tensor(0.9030, device='cuda:3')
discard
cal diff is tensor(0.0073, device='cuda:3')
discard
cal diff is tensor(12.2099, device='cuda:3')
discard
cal diff is tensor(0.0122, device='cuda:3')
discard
cal diff is tensor(65.6615, device='cuda:3')
clipping
cal diff is tensor(0.0318, device='cuda:3')
discard
cal diff is tensor(0.3319, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(64.0570, device='cuda:3')
test acc is  0.23410000015633775
test entropy is  0.2221143012647944
________________________________
new distance ratio is 0.8181818181818177
 
Avg Training Stats after 72 global rounds:
Train Accuracy: 97.70% 

Test Accuracy: 97.53% 


 | Global Training Round : 73 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.006065630353987217
attack res is True
len of model dicts is  10
compute distance is  tensor(27.2123, device='cuda:3')
compute distance is  tensor(33.5798, device='cuda:3')
compute distance is  tensor(56.0180, device='cuda:3')
compute distance is  tensor(33.2836, device='cuda:3')
compute distance is  tensor(27.8963, device='cuda:3')
compute distance is  tensor(24.2775, device='cuda:3')
compute distance is  tensor(43.3869, device='cuda:3')
compute distance is  tensor(29.3962, device='cuda:3')
compute distance is  tensor(65.9265, device='cuda:3')
compute distance is  tensor(45.5692, device='cuda:3')
calculated distance threshold is  tensor(61.7616, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.18405000015633546
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.28990000015633927
====================
====================
iteration is  0
round is  2
accuracy is  0.16566666682300105
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.1901000001563358
====================
====================
iteration is  1
round is  1
accuracy is  0.2075000001563367
====================
________________________________
test distance is  tensor(4284.1543, device='cuda:3')
test acc is  0.16566666682300105
test entropy is  0.2627375705251053
________________________________
diff is  tensor(45.8332, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3768, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.9420, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4779, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.9728, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0360, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2661, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2493, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4222.3926, device='cuda:3')
sum is tensor(0.2493, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6261, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1040, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1400, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4061, device='cuda:3', dtype=torch.float64)
sum is tensor(69.2393, device='cuda:3', dtype=torch.float64)
sum is tensor(643.1813, device='cuda:3', dtype=torch.float64)
sum is tensor(4284.1541, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0170, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.9728, device='cuda:3', dtype=torch.float64)
cal diff is tensor(45.8332, device='cuda:3')
discard
cal diff is tensor(0.3768, device='cuda:3')
discard
cal diff is tensor(573.9420, device='cuda:3')
discard
cal diff is tensor(0.4779, device='cuda:3')
discard
cal diff is tensor(3640.9727, device='cuda:3')
discard
cal diff is tensor(2.0360, device='cuda:3')
discard
cal diff is tensor(20.2661, device='cuda:3')
discard
cal diff is tensor(0.2493, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9774500001563188
test entropy is  0.1321125946093057
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.1321125946093057
avg test loss is  0.07774492681596372
avg accuracy is  0.9774500001563188
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3042318409344535
avg test loss is  10.186474446294659
avg accuracy is  0.17275000015633493
compute_distance is  tensor(97.0036, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(97.0036, device='cuda:3')
test acc is  0.17275000015633493
test entropy is  0.3042318409344535
________________________________
diff is  tensor(1.0301, device='cuda:3')
diff is  tensor(0.0114, device='cuda:3')
diff is  tensor(17.5149, device='cuda:3')
diff is  tensor(0.0176, device='cuda:3')
diff is  tensor(77.9649, device='cuda:3')
diff is  tensor(0.0347, device='cuda:3')
diff is  tensor(0.4185, device='cuda:3')
diff is  tensor(0.0037, device='cuda:3')
threshold is  tensor(35.2420, device='cuda:3')
sum is tensor(0.0037, device='cuda:3')
sum is tensor(0.0151, device='cuda:3')
sum is tensor(0.0328, device='cuda:3')
sum is tensor(0.0675, device='cuda:3')
sum is tensor(0.4860, device='cuda:3')
sum is tensor(1.5161, device='cuda:3')
sum is tensor(19.0310, device='cuda:3')
sum is tensor(96.9959, device='cuda:3')
ratio is tensor(0.7921, device='cuda:3')
threshold is tensor(77.9649, device='cuda:3')
cal diff is tensor(1.0301, device='cuda:3')
discard
cal diff is tensor(0.0114, device='cuda:3')
discard
cal diff is tensor(17.5149, device='cuda:3')
discard
cal diff is tensor(0.0176, device='cuda:3')
discard
cal diff is tensor(77.9649, device='cuda:3')
clipping
cal diff is tensor(0.0347, device='cuda:3')
discard
cal diff is tensor(0.4185, device='cuda:3')
discard
cal diff is tensor(0.0037, device='cuda:3')
discard
________________________________
test distance is  tensor(61.7586, device='cuda:3')
test acc is  0.8432333334896569
test entropy is  0.40950020432853496
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.40950020432853496
avg test loss is  0.44991804510037275
avg accuracy is  0.8432333334896569
compute_distance is  tensor(61.7586, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2913637282465821
avg test loss is  10.557094593292106
avg accuracy is  0.1703333334896681
compute_distance is  tensor(130.4467, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(130.4467, device='cuda:3')
test acc is  0.1703333334896681
test entropy is  0.2913637282465821
________________________________
diff is  tensor(0.9366, device='cuda:3')
diff is  tensor(0.0082, device='cuda:3')
diff is  tensor(14.1307, device='cuda:3')
diff is  tensor(0.0142, device='cuda:3')
diff is  tensor(115.0118, device='cuda:3')
diff is  tensor(0.0240, device='cuda:3')
diff is  tensor(0.3023, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(68.6851, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0113, device='cuda:3')
sum is tensor(0.0254, device='cuda:3')
sum is tensor(0.0495, device='cuda:3')
sum is tensor(0.3518, device='cuda:3')
sum is tensor(1.2885, device='cuda:3')
sum is tensor(15.4191, device='cuda:3')
sum is tensor(130.4309, device='cuda:3')
ratio is tensor(0.5369, device='cuda:3')
threshold is tensor(115.0118, device='cuda:3')
cal diff is tensor(0.9366, device='cuda:3')
discard
cal diff is tensor(0.0082, device='cuda:3')
discard
cal diff is tensor(14.1307, device='cuda:3')
discard
cal diff is tensor(0.0142, device='cuda:3')
discard
cal diff is tensor(115.0118, device='cuda:3')
clipping
cal diff is tensor(0.0240, device='cuda:3')
discard
cal diff is tensor(0.3023, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(61.7554, device='cuda:3')
test acc is  0.8511833334896566
test entropy is  0.40218913332739875
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.40218913332739875
avg test loss is  0.4366821088373407
avg accuracy is  0.8511833334896566
compute_distance is  tensor(61.7554, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2910123727341959
avg test loss is  10.577189538524603
avg accuracy is  0.17040000015633475
compute_distance is  tensor(134.5520, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(134.5520, device='cuda:3')
test acc is  0.17040000015633475
test entropy is  0.2910123727341959
________________________________
diff is  tensor(0.9553, device='cuda:3')
diff is  tensor(0.0083, device='cuda:3')
diff is  tensor(14.3191, device='cuda:3')
diff is  tensor(0.0143, device='cuda:3')
diff is  tensor(118.9079, device='cuda:3')
diff is  tensor(0.0244, device='cuda:3')
diff is  tensor(0.3013, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(72.7904, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0113, device='cuda:3')
sum is tensor(0.0256, device='cuda:3')
sum is tensor(0.0500, device='cuda:3')
sum is tensor(0.3514, device='cuda:3')
sum is tensor(1.3067, device='cuda:3')
sum is tensor(15.6258, device='cuda:3')
sum is tensor(134.5336, device='cuda:3')
ratio is tensor(0.5193, device='cuda:3')
threshold is tensor(118.9079, device='cuda:3')
cal diff is tensor(0.9553, device='cuda:3')
discard
cal diff is tensor(0.0083, device='cuda:3')
discard
cal diff is tensor(14.3191, device='cuda:3')
discard
cal diff is tensor(0.0143, device='cuda:3')
discard
cal diff is tensor(118.9079, device='cuda:3')
clipping
cal diff is tensor(0.0244, device='cuda:3')
discard
cal diff is tensor(0.3013, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(61.7548, device='cuda:3')
test acc is  0.8622500001563228
test entropy is  0.3897065254035535
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3897065254035535
avg test loss is  0.40621651520829466
avg accuracy is  0.8622500001563228
compute_distance is  tensor(61.7548, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2909931533658174
avg test loss is  10.572120262869895
avg accuracy is  0.17050000015633476
compute_distance is  tensor(135.6224, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(135.6224, device='cuda:3')
test acc is  0.17050000015633476
test entropy is  0.2909931533658174
________________________________
diff is  tensor(0.9666, device='cuda:3')
diff is  tensor(0.0084, device='cuda:3')
diff is  tensor(14.4522, device='cuda:3')
diff is  tensor(0.0144, device='cuda:3')
diff is  tensor(119.8290, device='cuda:3')
diff is  tensor(0.0248, device='cuda:3')
diff is  tensor(0.3045, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(73.8608, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0114, device='cuda:3')
sum is tensor(0.0258, device='cuda:3')
sum is tensor(0.0506, device='cuda:3')
sum is tensor(0.3552, device='cuda:3')
sum is tensor(1.3218, device='cuda:3')
sum is tensor(15.7739, device='cuda:3')
sum is tensor(135.6029, device='cuda:3')
ratio is tensor(0.5153, device='cuda:3')
threshold is tensor(119.8290, device='cuda:3')
cal diff is tensor(0.9666, device='cuda:3')
discard
cal diff is tensor(0.0084, device='cuda:3')
discard
cal diff is tensor(14.4522, device='cuda:3')
discard
cal diff is tensor(0.0144, device='cuda:3')
discard
cal diff is tensor(119.8290, device='cuda:3')
clipping
cal diff is tensor(0.0248, device='cuda:3')
discard
cal diff is tensor(0.3045, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(61.7545, device='cuda:3')
test acc is  0.867633333489656
test entropy is  0.383062624982171
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.383062624982171
avg test loss is  0.39120139215769034
avg accuracy is  0.867633333489656
compute_distance is  tensor(61.7545, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.29100942940536595
avg test loss is  10.568098517623284
avg accuracy is  0.17061666682300144
compute_distance is  tensor(136.0078, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(136.0078, device='cuda:3')
test acc is  0.17061666682300144
test entropy is  0.29100942940536595
________________________________
diff is  tensor(0.9714, device='cuda:3')
diff is  tensor(0.0085, device='cuda:3')
diff is  tensor(14.5109, device='cuda:3')
diff is  tensor(0.0145, device='cuda:3')
diff is  tensor(120.1479, device='cuda:3')
diff is  tensor(0.0250, device='cuda:3')
diff is  tensor(0.3066, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(74.2462, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0115, device='cuda:3')
sum is tensor(0.0260, device='cuda:3')
sum is tensor(0.0509, device='cuda:3')
sum is tensor(0.3575, device='cuda:3')
sum is tensor(1.3289, device='cuda:3')
sum is tensor(15.8398, device='cuda:3')
sum is tensor(135.9877, device='cuda:3')
ratio is tensor(0.5139, device='cuda:3')
threshold is tensor(120.1479, device='cuda:3')
cal diff is tensor(0.9714, device='cuda:3')
discard
cal diff is tensor(0.0085, device='cuda:3')
discard
cal diff is tensor(14.5109, device='cuda:3')
discard
cal diff is tensor(0.0145, device='cuda:3')
discard
cal diff is tensor(120.1479, device='cuda:3')
clipping
cal diff is tensor(0.0250, device='cuda:3')
discard
cal diff is tensor(0.3066, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(61.7544, device='cuda:3')
test acc is  0.8705166668229891
test entropy is  0.379777645886834
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.379777645886834
avg test loss is  0.3843220447315209
avg accuracy is  0.8705166668229891
compute_distance is  tensor(61.7544, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.29093379552748155
avg test loss is  10.565944831254386
avg accuracy is  0.17065000015633477
compute_distance is  tensor(136.1711, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(136.1711, device='cuda:3')
test acc is  0.17065000015633477
test entropy is  0.29093379552748155
________________________________
diff is  tensor(0.9732, device='cuda:3')
diff is  tensor(0.0085, device='cuda:3')
diff is  tensor(14.5368, device='cuda:3')
diff is  tensor(0.0145, device='cuda:3')
diff is  tensor(120.2822, device='cuda:3')
diff is  tensor(0.0250, device='cuda:3')
diff is  tensor(0.3076, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(74.4095, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0115, device='cuda:3')
sum is tensor(0.0260, device='cuda:3')
sum is tensor(0.0510, device='cuda:3')
sum is tensor(0.3586, device='cuda:3')
sum is tensor(1.3318, device='cuda:3')
sum is tensor(15.8686, device='cuda:3')
sum is tensor(136.1508, device='cuda:3')
ratio is tensor(0.5133, device='cuda:3')
threshold is tensor(120.2822, device='cuda:3')
cal diff is tensor(0.9732, device='cuda:3')
discard
cal diff is tensor(0.0085, device='cuda:3')
discard
cal diff is tensor(14.5368, device='cuda:3')
discard
cal diff is tensor(0.0145, device='cuda:3')
discard
cal diff is tensor(120.2822, device='cuda:3')
clipping
cal diff is tensor(0.0250, device='cuda:3')
discard
cal diff is tensor(0.3076, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(61.7543, device='cuda:3')
test acc is  0.8718500001563225
test entropy is  0.3780364254549114
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3780364254549114
avg test loss is  0.38090025732861654
avg accuracy is  0.8718500001563225
compute_distance is  tensor(61.7543, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.29091451352021336
avg test loss is  10.566347304183537
avg accuracy is  0.17070000015633477
compute_distance is  tensor(136.2371, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(136.2371, device='cuda:3')
test acc is  0.17070000015633477
test entropy is  0.29091451352021336
________________________________
diff is  tensor(0.9739, device='cuda:3')
diff is  tensor(0.0085, device='cuda:3')
diff is  tensor(14.5475, device='cuda:3')
diff is  tensor(0.0145, device='cuda:3')
diff is  tensor(120.3359, device='cuda:3')
diff is  tensor(0.0251, device='cuda:3')
diff is  tensor(0.3081, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(74.4755, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0115, device='cuda:3')
sum is tensor(0.0260, device='cuda:3')
sum is tensor(0.0511, device='cuda:3')
sum is tensor(0.3592, device='cuda:3')
sum is tensor(1.3331, device='cuda:3')
sum is tensor(15.8806, device='cuda:3')
sum is tensor(136.2165, device='cuda:3')
ratio is tensor(0.5131, device='cuda:3')
threshold is tensor(120.3359, device='cuda:3')
cal diff is tensor(0.9739, device='cuda:3')
discard
cal diff is tensor(0.0085, device='cuda:3')
discard
cal diff is tensor(14.5475, device='cuda:3')
discard
cal diff is tensor(0.0145, device='cuda:3')
discard
cal diff is tensor(120.3359, device='cuda:3')
clipping
cal diff is tensor(0.0251, device='cuda:3')
discard
cal diff is tensor(0.3081, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(61.7543, device='cuda:3')
test acc is  0.872466666822989
test entropy is  0.3771289411638337
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3771289411638337
avg test loss is  0.37917139728281546
avg accuracy is  0.872466666822989
compute_distance is  tensor(61.7543, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.29089599256830684
avg test loss is  10.566444006047524
avg accuracy is  0.17066666682300144
compute_distance is  tensor(136.2845, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(136.2845, device='cuda:3')
test acc is  0.17066666682300144
test entropy is  0.29089599256830684
________________________________
diff is  tensor(0.9742, device='cuda:3')
diff is  tensor(0.0085, device='cuda:3')
diff is  tensor(14.5513, device='cuda:3')
diff is  tensor(0.0145, device='cuda:3')
diff is  tensor(120.3789, device='cuda:3')
diff is  tensor(0.0251, device='cuda:3')
diff is  tensor(0.3083, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(74.5229, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0115, device='cuda:3')
sum is tensor(0.0261, device='cuda:3')
sum is tensor(0.0512, device='cuda:3')
sum is tensor(0.3595, device='cuda:3')
sum is tensor(1.3336, device='cuda:3')
sum is tensor(15.8850, device='cuda:3')
sum is tensor(136.2638, device='cuda:3')
ratio is tensor(0.5129, device='cuda:3')
threshold is tensor(120.3789, device='cuda:3')
cal diff is tensor(0.9742, device='cuda:3')
discard
cal diff is tensor(0.0085, device='cuda:3')
discard
cal diff is tensor(14.5513, device='cuda:3')
discard
cal diff is tensor(0.0145, device='cuda:3')
discard
cal diff is tensor(120.3789, device='cuda:3')
clipping
cal diff is tensor(0.0251, device='cuda:3')
discard
cal diff is tensor(0.3083, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(61.7542, device='cuda:3')
test acc is  0.8728333334896557
test entropy is  0.37656360502436215
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.37656360502436215
avg test loss is  0.3781342972268555
avg accuracy is  0.8728333334896557
compute_distance is  tensor(61.7542, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2908798224731549
avg test loss is  10.566902795071796
avg accuracy is  0.17076666682300143
compute_distance is  tensor(136.3133, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(136.3133, device='cuda:3')
test acc is  0.17076666682300143
test entropy is  0.2908798224731549
________________________________
diff is  tensor(0.9742, device='cuda:3')
diff is  tensor(0.0085, device='cuda:3')
diff is  tensor(14.5536, device='cuda:3')
diff is  tensor(0.0145, device='cuda:3')
diff is  tensor(120.4050, device='cuda:3')
diff is  tensor(0.0251, device='cuda:3')
diff is  tensor(0.3084, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(74.5517, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0115, device='cuda:3')
sum is tensor(0.0261, device='cuda:3')
sum is tensor(0.0512, device='cuda:3')
sum is tensor(0.3596, device='cuda:3')
sum is tensor(1.3338, device='cuda:3')
sum is tensor(15.8874, device='cuda:3')
sum is tensor(136.2924, device='cuda:3')
ratio is tensor(0.5128, device='cuda:3')
threshold is tensor(120.4050, device='cuda:3')
cal diff is tensor(0.9742, device='cuda:3')
discard
cal diff is tensor(0.0085, device='cuda:3')
discard
cal diff is tensor(14.5536, device='cuda:3')
discard
cal diff is tensor(0.0145, device='cuda:3')
discard
cal diff is tensor(120.4050, device='cuda:3')
clipping
cal diff is tensor(0.0251, device='cuda:3')
discard
cal diff is tensor(0.3084, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(61.7542, device='cuda:3')
test acc is  0.8730500001563224
test entropy is  0.37618176453212687
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.37618176453212687
avg test loss is  0.37746664891237897
avg accuracy is  0.8730500001563224
compute_distance is  tensor(61.7542, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2908620998612853
avg test loss is  10.566883275757975
avg accuracy is  0.1707333334896681
compute_distance is  tensor(136.3198, device='cuda:3')
++++++++++++++++++++
reach max round
new distance ratio is 0.8181818181818177
 
Avg Training Stats after 73 global rounds:
Train Accuracy: 58.47% 

Test Accuracy: 56.67% 


 | Global Training Round : 74 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.008821344003081322
attack res is True
len of model dicts is  10
compute distance is  tensor(86.5991, device='cuda:3')
compute distance is  tensor(161.8027, device='cuda:3')
compute distance is  tensor(103.1779, device='cuda:3')
compute distance is  tensor(159.3280, device='cuda:3')
compute distance is  tensor(168.1199, device='cuda:3')
compute distance is  tensor(151.9799, device='cuda:3')
compute distance is  tensor(177.4160, device='cuda:3')
compute distance is  tensor(117.8544, device='cuda:3')
compute distance is  tensor(109.0747, device='cuda:3')
compute distance is  tensor(227.2560, device='cuda:3')
calculated distance threshold is  tensor(213.1903, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.21951666682300383
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.13086666682299858
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.16123333348966729
====================
====================
iteration is  1
round is  0
accuracy is  0.17180000015633473
====================
====================
iteration is  1
round is  1
accuracy is  0.2604500001563386
====================
________________________________
test distance is  tensor(4281.1743, device='cuda:3')
test acc is  0.13086666682299858
test entropy is  0.0825006474893707
________________________________
diff is  tensor(43.4048, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3700, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.7032, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5036, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.6360, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9551, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3812, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2209, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4067.9841, device='cuda:3')
sum is tensor(0.2209, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5909, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0945, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0496, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4308, device='cuda:3', dtype=torch.float64)
sum is tensor(66.8356, device='cuda:3', dtype=torch.float64)
sum is tensor(638.5388, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.1748, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0585, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.6360, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.4048, device='cuda:3')
discard
cal diff is tensor(0.3700, device='cuda:3')
discard
cal diff is tensor(571.7032, device='cuda:3')
discard
cal diff is tensor(0.5036, device='cuda:3')
discard
cal diff is tensor(3642.6357, device='cuda:3')
discard
cal diff is tensor(1.9551, device='cuda:3')
discard
cal diff is tensor(20.3812, device='cuda:3')
discard
cal diff is tensor(0.2209, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.5690000001563403
test entropy is  0.47769617303602224
________________________________
new distance ratio is 0.8999999999999995
 
Avg Training Stats after 74 global rounds:
Train Accuracy: 97.47% 

Test Accuracy: 97.59% 


 | Global Training Round : 75 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.009718640707433224
attack res is True
len of model dicts is  10
compute distance is  tensor(29.3022, device='cuda:3')
compute distance is  tensor(28.3845, device='cuda:3')
compute distance is  tensor(66.8732, device='cuda:3')
compute distance is  tensor(47.6948, device='cuda:3')
compute distance is  tensor(28.4286, device='cuda:3')
compute distance is  tensor(24.9687, device='cuda:3')
compute distance is  tensor(46.2924, device='cuda:3')
compute distance is  tensor(24.4410, device='cuda:3')
compute distance is  tensor(57.2407, device='cuda:3')
compute distance is  tensor(59.0662, device='cuda:3')
calculated distance threshold is  tensor(66.4488, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.34835000015634043
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.33071666682300677
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.28171666682300567
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.27671666682300566
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.33090000015634013
====================
________________________________
test distance is  tensor(4283.8682, device='cuda:3')
test acc is  0.27671666682300566
test entropy is  0.45749771966735947
________________________________
diff is  tensor(45.8515, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3569, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.8917, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4854, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.7997, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0171, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2858, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1802, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4217.4194, device='cuda:3')
sum is tensor(0.1802, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5371, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0225, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0396, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3253, device='cuda:3', dtype=torch.float64)
sum is tensor(69.1769, device='cuda:3', dtype=torch.float64)
sum is tensor(642.0685, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.8682, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0182, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.7997, device='cuda:3', dtype=torch.float64)
cal diff is tensor(45.8515, device='cuda:3')
discard
cal diff is tensor(0.3569, device='cuda:3')
discard
cal diff is tensor(572.8917, device='cuda:3')
discard
cal diff is tensor(0.4854, device='cuda:3')
discard
cal diff is tensor(3641.7996, device='cuda:3')
discard
cal diff is tensor(2.0171, device='cuda:3')
discard
cal diff is tensor(20.2858, device='cuda:3')
discard
cal diff is tensor(0.1802, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9759666668229855
test entropy is  0.16889583127600932
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.16889583127600932
avg test loss is  0.08799829173372435
avg accuracy is  0.9759666668229855
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.5188980262988666
avg test loss is  3.7427481667065163
avg accuracy is  0.29470000015633946
compute_distance is  tensor(131.3856, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(131.3856, device='cuda:3')
test acc is  0.29470000015633946
test entropy is  0.5188980262988666
________________________________
diff is  tensor(0.9584, device='cuda:3')
diff is  tensor(0.0107, device='cuda:3')
diff is  tensor(22.1654, device='cuda:3')
diff is  tensor(0.0239, device='cuda:3')
diff is  tensor(107.7151, device='cuda:3')
diff is  tensor(0.0424, device='cuda:3')
diff is  tensor(0.4598, device='cuda:3')
diff is  tensor(0.0039, device='cuda:3')
threshold is  tensor(64.9367, device='cuda:3')
sum is tensor(0.0039, device='cuda:3')
sum is tensor(0.0146, device='cuda:3')
sum is tensor(0.0385, device='cuda:3')
sum is tensor(0.0809, device='cuda:3')
sum is tensor(0.5406, device='cuda:3')
sum is tensor(1.4990, device='cuda:3')
sum is tensor(23.6644, device='cuda:3')
sum is tensor(131.3795, device='cuda:3')
ratio is tensor(0.6168, device='cuda:3')
threshold is tensor(107.7151, device='cuda:3')
cal diff is tensor(0.9584, device='cuda:3')
discard
cal diff is tensor(0.0107, device='cuda:3')
discard
cal diff is tensor(22.1654, device='cuda:3')
discard
cal diff is tensor(0.0239, device='cuda:3')
discard
cal diff is tensor(107.7151, device='cuda:3')
clipping
cal diff is tensor(0.0424, device='cuda:3')
discard
cal diff is tensor(0.4598, device='cuda:3')
discard
cal diff is tensor(0.0039, device='cuda:3')
discard
________________________________
test distance is  tensor(66.4483, device='cuda:3')
test acc is  0.9492666668229863
test entropy is  0.30202900794650445
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.30202900794650445
avg test loss is  0.1791762397535193
avg accuracy is  0.9492666668229863
compute_distance is  tensor(66.4483, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.5038233098826175
avg test loss is  3.9501856738316223
avg accuracy is  0.2920666668230061
compute_distance is  tensor(175.3203, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(175.3203, device='cuda:3')
test acc is  0.2920666668230061
test entropy is  0.5038233098826175
________________________________
diff is  tensor(1.1139, device='cuda:3')
diff is  tensor(0.0097, device='cuda:3')
diff is  tensor(19.9000, device='cuda:3')
diff is  tensor(0.0208, device='cuda:3')
diff is  tensor(153.8671, device='cuda:3')
diff is  tensor(0.0303, device='cuda:3')
diff is  tensor(0.3634, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(108.8714, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0127, device='cuda:3')
sum is tensor(0.0335, device='cuda:3')
sum is tensor(0.0637, device='cuda:3')
sum is tensor(0.4271, device='cuda:3')
sum is tensor(1.5410, device='cuda:3')
sum is tensor(21.4410, device='cuda:3')
sum is tensor(175.3081, device='cuda:3')
ratio is tensor(0.4318, device='cuda:3')
threshold is tensor(153.8671, device='cuda:3')
cal diff is tensor(1.1139, device='cuda:3')
discard
cal diff is tensor(0.0097, device='cuda:3')
discard
cal diff is tensor(19.9000, device='cuda:3')
discard
cal diff is tensor(0.0208, device='cuda:3')
discard
cal diff is tensor(153.8671, device='cuda:3')
clipping
cal diff is tensor(0.0303, device='cuda:3')
discard
cal diff is tensor(0.3634, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(66.4455, device='cuda:3')
test acc is  0.9561666668229861
test entropy is  0.2776141193772811
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2776141193772811
avg test loss is  0.1575158220419942
avg accuracy is  0.9561666668229861
compute_distance is  tensor(66.4455, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.5036967735427783
avg test loss is  3.948785110831515
avg accuracy is  0.29243333348967276
compute_distance is  tensor(178.8334, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(178.8334, device='cuda:3')
test acc is  0.29243333348967276
test entropy is  0.5036967735427783
________________________________
diff is  tensor(1.1288, device='cuda:3')
diff is  tensor(0.0100, device='cuda:3')
diff is  tensor(20.3188, device='cuda:3')
diff is  tensor(0.0211, device='cuda:3')
diff is  tensor(156.9446, device='cuda:3')
diff is  tensor(0.0312, device='cuda:3')
diff is  tensor(0.3625, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(112.3846, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0130, device='cuda:3')
sum is tensor(0.0341, device='cuda:3')
sum is tensor(0.0653, device='cuda:3')
sum is tensor(0.4278, device='cuda:3')
sum is tensor(1.5566, device='cuda:3')
sum is tensor(21.8754, device='cuda:3')
sum is tensor(178.8200, device='cuda:3')
ratio is tensor(0.4233, device='cuda:3')
threshold is tensor(156.9446, device='cuda:3')
cal diff is tensor(1.1288, device='cuda:3')
discard
cal diff is tensor(0.0100, device='cuda:3')
discard
cal diff is tensor(20.3188, device='cuda:3')
discard
cal diff is tensor(0.0211, device='cuda:3')
discard
cal diff is tensor(156.9446, device='cuda:3')
clipping
cal diff is tensor(0.0312, device='cuda:3')
discard
cal diff is tensor(0.3625, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(66.4451, device='cuda:3')
test acc is  0.9585833334896526
test entropy is  0.2707076306933406
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2707076306933406
avg test loss is  0.15122594402384149
avg accuracy is  0.9585833334896526
compute_distance is  tensor(66.4451, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.5038085556996148
avg test loss is  3.9479412173411483
avg accuracy is  0.29248333348967276
compute_distance is  tensor(179.4910, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(179.4910, device='cuda:3')
test acc is  0.29248333348967276
test entropy is  0.5038085556996148
________________________________
diff is  tensor(1.1317, device='cuda:3')
diff is  tensor(0.0101, device='cuda:3')
diff is  tensor(20.4651, device='cuda:3')
diff is  tensor(0.0212, device='cuda:3')
diff is  tensor(157.4503, device='cuda:3')
diff is  tensor(0.0315, device='cuda:3')
diff is  tensor(0.3641, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(113.0421, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0132, device='cuda:3')
sum is tensor(0.0344, device='cuda:3')
sum is tensor(0.0659, device='cuda:3')
sum is tensor(0.4300, device='cuda:3')
sum is tensor(1.5617, device='cuda:3')
sum is tensor(22.0268, device='cuda:3')
sum is tensor(179.4771, device='cuda:3')
ratio is tensor(0.4219, device='cuda:3')
threshold is tensor(157.4503, device='cuda:3')
cal diff is tensor(1.1317, device='cuda:3')
discard
cal diff is tensor(0.0101, device='cuda:3')
discard
cal diff is tensor(20.4651, device='cuda:3')
discard
cal diff is tensor(0.0212, device='cuda:3')
discard
cal diff is tensor(157.4503, device='cuda:3')
clipping
cal diff is tensor(0.0315, device='cuda:3')
discard
cal diff is tensor(0.3641, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(66.4450, device='cuda:3')
test acc is  0.9591833334896527
test entropy is  0.26847779902536223
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.26847779902536223
avg test loss is  0.14929016199765174
avg accuracy is  0.9591833334896527
compute_distance is  tensor(66.4450, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.5037404862738876
avg test loss is  3.9495191139453003
avg accuracy is  0.29245000015633943
compute_distance is  tensor(179.6700, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(179.6700, device='cuda:3')
test acc is  0.29245000015633943
test entropy is  0.5037404862738876
________________________________
diff is  tensor(1.1324, device='cuda:3')
diff is  tensor(0.0102, device='cuda:3')
diff is  tensor(20.5150, device='cuda:3')
diff is  tensor(0.0212, device='cuda:3')
diff is  tensor(157.5779, device='cuda:3')
diff is  tensor(0.0316, device='cuda:3')
diff is  tensor(0.3646, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(113.2211, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0132, device='cuda:3')
sum is tensor(0.0344, device='cuda:3')
sum is tensor(0.0660, device='cuda:3')
sum is tensor(0.4306, device='cuda:3')
sum is tensor(1.5630, device='cuda:3')
sum is tensor(22.0780, device='cuda:3')
sum is tensor(179.6558, device='cuda:3')
ratio is tensor(0.4216, device='cuda:3')
threshold is tensor(157.5779, device='cuda:3')
cal diff is tensor(1.1324, device='cuda:3')
discard
cal diff is tensor(0.0102, device='cuda:3')
discard
cal diff is tensor(20.5150, device='cuda:3')
discard
cal diff is tensor(0.0212, device='cuda:3')
discard
cal diff is tensor(157.5779, device='cuda:3')
clipping
cal diff is tensor(0.0316, device='cuda:3')
discard
cal diff is tensor(0.3646, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(66.4450, device='cuda:3')
test acc is  0.9593333334896527
test entropy is  0.2676231582313458
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2676231582313458
avg test loss is  0.148600958780185
avg accuracy is  0.9593333334896527
compute_distance is  tensor(66.4450, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.5036683970295799
avg test loss is  3.9505002147861634
avg accuracy is  0.29240000015633943
compute_distance is  tensor(179.7301, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(179.7301, device='cuda:3')
test acc is  0.29240000015633943
test entropy is  0.5036683970295799
________________________________
diff is  tensor(1.1324, device='cuda:3')
diff is  tensor(0.0102, device='cuda:3')
diff is  tensor(20.5343, device='cuda:3')
diff is  tensor(0.0213, device='cuda:3')
diff is  tensor(157.6184, device='cuda:3')
diff is  tensor(0.0316, device='cuda:3')
diff is  tensor(0.3647, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(113.2813, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0132, device='cuda:3')
sum is tensor(0.0345, device='cuda:3')
sum is tensor(0.0661, device='cuda:3')
sum is tensor(0.4308, device='cuda:3')
sum is tensor(1.5631, device='cuda:3')
sum is tensor(22.0974, device='cuda:3')
sum is tensor(179.7159, device='cuda:3')
ratio is tensor(0.4215, device='cuda:3')
threshold is tensor(157.6184, device='cuda:3')
cal diff is tensor(1.1324, device='cuda:3')
discard
cal diff is tensor(0.0102, device='cuda:3')
discard
cal diff is tensor(20.5343, device='cuda:3')
discard
cal diff is tensor(0.0213, device='cuda:3')
discard
cal diff is tensor(157.6184, device='cuda:3')
clipping
cal diff is tensor(0.0316, device='cuda:3')
discard
cal diff is tensor(0.3647, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(66.4449, device='cuda:3')
test acc is  0.9593500001563193
test entropy is  0.2672347506401
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2672347506401
avg test loss is  0.14832011296519085
avg accuracy is  0.9593500001563193
compute_distance is  tensor(66.4449, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.50364408033616
avg test loss is  3.95050395348433
avg accuracy is  0.29243333348967276
compute_distance is  tensor(179.7614, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(179.7614, device='cuda:3')
test acc is  0.29243333348967276
test entropy is  0.50364408033616
________________________________
diff is  tensor(1.1324, device='cuda:3')
diff is  tensor(0.0102, device='cuda:3')
diff is  tensor(20.5410, device='cuda:3')
diff is  tensor(0.0213, device='cuda:3')
diff is  tensor(157.6428, device='cuda:3')
diff is  tensor(0.0316, device='cuda:3')
diff is  tensor(0.3647, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(113.3126, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0132, device='cuda:3')
sum is tensor(0.0345, device='cuda:3')
sum is tensor(0.0661, device='cuda:3')
sum is tensor(0.4308, device='cuda:3')
sum is tensor(1.5632, device='cuda:3')
sum is tensor(22.1042, device='cuda:3')
sum is tensor(179.7471, device='cuda:3')
ratio is tensor(0.4214, device='cuda:3')
threshold is tensor(157.6428, device='cuda:3')
cal diff is tensor(1.1324, device='cuda:3')
discard
cal diff is tensor(0.0102, device='cuda:3')
discard
cal diff is tensor(20.5410, device='cuda:3')
discard
cal diff is tensor(0.0213, device='cuda:3')
discard
cal diff is tensor(157.6428, device='cuda:3')
clipping
cal diff is tensor(0.0316, device='cuda:3')
discard
cal diff is tensor(0.3647, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(66.4449, device='cuda:3')
test acc is  0.9593500001563193
test entropy is  0.26704083370374465
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.26704083370374465
avg test loss is  0.14818907940168496
avg accuracy is  0.9593500001563193
compute_distance is  tensor(66.4449, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.5036115331182094
avg test loss is  3.9508116184267155
avg accuracy is  0.2924166668230061
compute_distance is  tensor(179.7701, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(179.7701, device='cuda:3')
test acc is  0.2924166668230061
test entropy is  0.5036115331182094
________________________________
diff is  tensor(1.1324, device='cuda:3')
diff is  tensor(0.0102, device='cuda:3')
diff is  tensor(20.5445, device='cuda:3')
diff is  tensor(0.0213, device='cuda:3')
diff is  tensor(157.6480, device='cuda:3')
diff is  tensor(0.0316, device='cuda:3')
diff is  tensor(0.3647, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(113.3213, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0132, device='cuda:3')
sum is tensor(0.0345, device='cuda:3')
sum is tensor(0.0661, device='cuda:3')
sum is tensor(0.4307, device='cuda:3')
sum is tensor(1.5632, device='cuda:3')
sum is tensor(22.1077, device='cuda:3')
sum is tensor(179.7558, device='cuda:3')
ratio is tensor(0.4214, device='cuda:3')
threshold is tensor(157.6480, device='cuda:3')
cal diff is tensor(1.1324, device='cuda:3')
discard
cal diff is tensor(0.0102, device='cuda:3')
discard
cal diff is tensor(20.5445, device='cuda:3')
discard
cal diff is tensor(0.0213, device='cuda:3')
discard
cal diff is tensor(157.6480, device='cuda:3')
clipping
cal diff is tensor(0.0316, device='cuda:3')
discard
cal diff is tensor(0.3647, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(66.4449, device='cuda:3')
test acc is  0.9594000001563193
test entropy is  0.2669349138194056
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2669349138194056
avg test loss is  0.14812233161999347
avg accuracy is  0.9594000001563193
compute_distance is  tensor(66.4449, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.5036081055969571
avg test loss is  3.950731497329435
avg accuracy is  0.2924166668230061
compute_distance is  tensor(179.7815, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(179.7815, device='cuda:3')
test acc is  0.2924166668230061
test entropy is  0.5036081055969571
________________________________
diff is  tensor(1.1323, device='cuda:3')
diff is  tensor(0.0102, device='cuda:3')
diff is  tensor(20.5456, device='cuda:3')
diff is  tensor(0.0213, device='cuda:3')
diff is  tensor(157.6584, device='cuda:3')
diff is  tensor(0.0316, device='cuda:3')
diff is  tensor(0.3646, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(113.3326, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0132, device='cuda:3')
sum is tensor(0.0345, device='cuda:3')
sum is tensor(0.0661, device='cuda:3')
sum is tensor(0.4307, device='cuda:3')
sum is tensor(1.5630, device='cuda:3')
sum is tensor(22.1086, device='cuda:3')
sum is tensor(179.7671, device='cuda:3')
ratio is tensor(0.4214, device='cuda:3')
threshold is tensor(157.6584, device='cuda:3')
cal diff is tensor(1.1323, device='cuda:3')
discard
cal diff is tensor(0.0102, device='cuda:3')
discard
cal diff is tensor(20.5456, device='cuda:3')
discard
cal diff is tensor(0.0213, device='cuda:3')
discard
cal diff is tensor(157.6584, device='cuda:3')
clipping
cal diff is tensor(0.0316, device='cuda:3')
discard
cal diff is tensor(0.3646, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(66.4449, device='cuda:3')
test acc is  0.9594333334896527
test entropy is  0.26686180813480287
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.26686180813480287
avg test loss is  0.14807706737696236
avg accuracy is  0.9594333334896527
compute_distance is  tensor(66.4449, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.5035818023150409
avg test loss is  3.9511056584335846
avg accuracy is  0.29240000015633943
compute_distance is  tensor(179.7831, device='cuda:3')
++++++++++++++++++++
reach max round
new distance ratio is 0.8999999999999995
 
Avg Training Stats after 75 global rounds:
Train Accuracy: 97.44% 

Test Accuracy: 97.13% 


 | Global Training Round : 76 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0035851909779012203
attack res is False
len of model dicts is  10
compute distance is  tensor(26.8077, device='cuda:3')
compute distance is  tensor(23.1033, device='cuda:3')
compute distance is  tensor(66.6074, device='cuda:3')
compute distance is  tensor(29.6453, device='cuda:3')
compute distance is  tensor(31.6706, device='cuda:3')
compute distance is  tensor(29.4272, device='cuda:3')
compute distance is  tensor(56.1437, device='cuda:3')
compute distance is  tensor(35.2465, device='cuda:3')
compute distance is  tensor(72.5643, device='cuda:3')
compute distance is  tensor(80.6218, device='cuda:3')
calculated distance threshold is  tensor(70.1639, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.25798333348967184
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2275333334896708
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.3509166668230071
====================
====================
iteration is  1
round is  0
accuracy is  0.2570333334896718
====================
====================
iteration is  1
round is  1
accuracy is  0.13810000015633211
====================
succ_min + 1
________________________________
test distance is  tensor(4283.1460, device='cuda:3')
test acc is  0.13810000015633211
test entropy is  0.23674597746845502
________________________________
diff is  tensor(44.7601, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3672, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.3284, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4720, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.8218, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0030, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.1447, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2487, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4212.9819, device='cuda:3')
sum is tensor(0.2487, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6159, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0879, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0909, device='cuda:3', dtype=torch.float64)
sum is tensor(23.2355, device='cuda:3', dtype=torch.float64)
sum is tensor(67.9956, device='cuda:3', dtype=torch.float64)
sum is tensor(640.3241, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.1458, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0193, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.8218, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.7601, device='cuda:3')
discard
cal diff is tensor(0.3672, device='cuda:3')
discard
cal diff is tensor(572.3284, device='cuda:3')
discard
cal diff is tensor(0.4720, device='cuda:3')
discard
cal diff is tensor(3642.8218, device='cuda:3')
clipping
cal diff is tensor(2.0030, device='cuda:3')
discard
cal diff is tensor(20.1447, device='cuda:3')
discard
cal diff is tensor(0.2487, device='cuda:3')
discard
________________________________
test distance is  tensor(70.1742, device='cuda:3')
test acc is  0.9724833334896523
test entropy is  0.17000220717985365
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(70.1639, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0103, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(70.1741, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(70.1639, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(70.1639, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(70.1741, device='cuda:3')
test acc is  0.9724833334896523
test entropy is  0.17000217675400187
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(70.1638, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(70.1741, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(70.1638, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(70.1638, device='cuda:3')
discard
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9722333334896524
test entropy is  0.17045183164049696
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.17045183164049696
avg test loss is  0.0973137486388466
avg accuracy is  0.9722333334896524
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.19333535453070327
avg test loss is  9.459577736315696
avg accuracy is  0.12120000015633194
compute_distance is  tensor(113.1290, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(113.1290, device='cuda:3')
test acc is  0.12120000015633194
test entropy is  0.19333535453070327
________________________________
diff is  tensor(1.1571, device='cuda:3')
diff is  tensor(0.0115, device='cuda:3')
diff is  tensor(19.2310, device='cuda:3')
diff is  tensor(0.0198, device='cuda:3')
diff is  tensor(92.2318, device='cuda:3')
diff is  tensor(0.0339, device='cuda:3')
diff is  tensor(0.4292, device='cuda:3')
diff is  tensor(0.0035, device='cuda:3')
threshold is  tensor(42.9651, device='cuda:3')
sum is tensor(0.0035, device='cuda:3')
sum is tensor(0.0150, device='cuda:3')
sum is tensor(0.0349, device='cuda:3')
sum is tensor(0.0687, device='cuda:3')
sum is tensor(0.4979, device='cuda:3')
sum is tensor(1.6550, device='cuda:3')
sum is tensor(20.8860, device='cuda:3')
sum is tensor(113.1178, device='cuda:3')
ratio is tensor(0.7606, device='cuda:3')
threshold is tensor(92.2318, device='cuda:3')
cal diff is tensor(1.1571, device='cuda:3')
discard
cal diff is tensor(0.0115, device='cuda:3')
discard
cal diff is tensor(19.2310, device='cuda:3')
discard
cal diff is tensor(0.0198, device='cuda:3')
discard
cal diff is tensor(92.2318, device='cuda:3')
clipping
cal diff is tensor(0.0339, device='cuda:3')
discard
cal diff is tensor(0.4292, device='cuda:3')
discard
cal diff is tensor(0.0035, device='cuda:3')
discard
________________________________
test distance is  tensor(70.1608, device='cuda:3')
test acc is  0.8012000001563253
test entropy is  0.4674402678063683
________________________________
new distance ratio is 0.8181818181818177
 
Avg Training Stats after 76 global rounds:
Train Accuracy: 98.01% 

Test Accuracy: 98.03% 


 | Global Training Round : 77 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0009759629610925913
attack res is False
len of model dicts is  10
compute distance is  tensor(18.4400, device='cuda:3')
compute distance is  tensor(30.9777, device='cuda:3')
compute distance is  tensor(71.1414, device='cuda:3')
compute distance is  tensor(72.2420, device='cuda:3')
compute distance is  tensor(30.9516, device='cuda:3')
compute distance is  tensor(29.6482, device='cuda:3')
compute distance is  tensor(22.4288, device='cuda:3')
compute distance is  tensor(29.2717, device='cuda:3')
compute distance is  tensor(52.7615, device='cuda:3')
compute distance is  tensor(79.5635, device='cuda:3')
calculated distance threshold is  tensor(63.9037, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.3492166668230071
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.23690000015633783
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.2352500001563377
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.25023333348967164
====================
====================
iteration is  1
round is  1
accuracy is  0.18088333348966865
====================
succ_min + 1
________________________________
test distance is  tensor(4280.6323, device='cuda:3')
test acc is  0.18088333348966865
test entropy is  0.33909798729648466
________________________________
diff is  tensor(43.8724, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3841, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.3943, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4752, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.0601, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0179, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2529, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1747, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4216.7285, device='cuda:3')
sum is tensor(0.1747, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5588, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0341, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0520, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3049, device='cuda:3', dtype=torch.float64)
sum is tensor(67.1773, device='cuda:3', dtype=torch.float64)
sum is tensor(638.5716, device='cuda:3', dtype=torch.float64)
sum is tensor(4280.6317, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0175, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.0601, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.8724, device='cuda:3')
discard
cal diff is tensor(0.3841, device='cuda:3')
discard
cal diff is tensor(571.3943, device='cuda:3')
discard
cal diff is tensor(0.4752, device='cuda:3')
discard
cal diff is tensor(3642.0601, device='cuda:3')
discard
cal diff is tensor(2.0179, device='cuda:3')
discard
cal diff is tensor(20.2529, device='cuda:3')
discard
cal diff is tensor(0.1747, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9799500001563187
test entropy is  0.13486769139719035
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.13486769139719035
avg test loss is  0.07359640378562579
avg accuracy is  0.9799500001563187
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.378715968001753
avg test loss is  6.953172409204024
avg accuracy is  0.17500000015633502
compute_distance is  tensor(116.7582, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(116.7582, device='cuda:3')
test acc is  0.17500000015633502
test entropy is  0.378715968001753
________________________________
diff is  tensor(1.1276, device='cuda:3')
diff is  tensor(0.0105, device='cuda:3')
diff is  tensor(19.6926, device='cuda:3')
diff is  tensor(0.0204, device='cuda:3')
diff is  tensor(95.4052, device='cuda:3')
diff is  tensor(0.0330, device='cuda:3')
diff is  tensor(0.4580, device='cuda:3')
diff is  tensor(0.0041, device='cuda:3')
threshold is  tensor(52.8545, device='cuda:3')
sum is tensor(0.0041, device='cuda:3')
sum is tensor(0.0147, device='cuda:3')
sum is tensor(0.0350, device='cuda:3')
sum is tensor(0.0680, device='cuda:3')
sum is tensor(0.5260, device='cuda:3')
sum is tensor(1.6536, device='cuda:3')
sum is tensor(21.3463, device='cuda:3')
sum is tensor(116.7515, device='cuda:3')
ratio is tensor(0.6697, device='cuda:3')
threshold is tensor(95.4052, device='cuda:3')
cal diff is tensor(1.1276, device='cuda:3')
discard
cal diff is tensor(0.0105, device='cuda:3')
discard
cal diff is tensor(19.6926, device='cuda:3')
discard
cal diff is tensor(0.0204, device='cuda:3')
discard
cal diff is tensor(95.4052, device='cuda:3')
clipping
cal diff is tensor(0.0330, device='cuda:3')
discard
cal diff is tensor(0.4580, device='cuda:3')
discard
cal diff is tensor(0.0041, device='cuda:3')
discard
________________________________
test distance is  tensor(63.9016, device='cuda:3')
test acc is  0.9097000001563209
test entropy is  0.34341013658720293
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.34341013658720293
avg test loss is  0.2712124139785385
avg accuracy is  0.9097000001563209
compute_distance is  tensor(63.9016, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3694516807667482
avg test loss is  7.195904491806844
avg accuracy is  0.1720333334896681
compute_distance is  tensor(155.4876, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(155.4876, device='cuda:3')
test acc is  0.1720333334896681
test entropy is  0.3694516807667482
________________________________
diff is  tensor(1.1418, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(17.5419, device='cuda:3')
diff is  tensor(0.0175, device='cuda:3')
diff is  tensor(136.3565, device='cuda:3')
diff is  tensor(0.0261, device='cuda:3')
diff is  tensor(0.3775, device='cuda:3')
diff is  tensor(0.0034, device='cuda:3')
threshold is  tensor(91.5838, device='cuda:3')
sum is tensor(0.0034, device='cuda:3')
sum is tensor(0.0125, device='cuda:3')
sum is tensor(0.0300, device='cuda:3')
sum is tensor(0.0561, device='cuda:3')
sum is tensor(0.4335, device='cuda:3')
sum is tensor(1.5753, device='cuda:3')
sum is tensor(19.1172, device='cuda:3')
sum is tensor(155.4737, device='cuda:3')
ratio is tensor(0.4686, device='cuda:3')
threshold is tensor(136.3565, device='cuda:3')
cal diff is tensor(1.1418, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(17.5419, device='cuda:3')
discard
cal diff is tensor(0.0175, device='cuda:3')
discard
cal diff is tensor(136.3565, device='cuda:3')
clipping
cal diff is tensor(0.0261, device='cuda:3')
discard
cal diff is tensor(0.3775, device='cuda:3')
discard
cal diff is tensor(0.0034, device='cuda:3')
discard
________________________________
test distance is  tensor(63.8989, device='cuda:3')
test acc is  0.929216666822987
test entropy is  0.31731725743076183
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.31731725743076183
avg test loss is  0.22603422127711748
avg accuracy is  0.929216666822987
compute_distance is  tensor(63.8989, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.36955592825786393
avg test loss is  7.178860778239236
avg accuracy is  0.17208333348966814
compute_distance is  tensor(159.3427, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(159.3427, device='cuda:3')
test acc is  0.17208333348966814
test entropy is  0.36955592825786393
________________________________
diff is  tensor(1.1626, device='cuda:3')
diff is  tensor(0.0093, device='cuda:3')
diff is  tensor(17.7521, device='cuda:3')
diff is  tensor(0.0177, device='cuda:3')
diff is  tensor(139.9796, device='cuda:3')
diff is  tensor(0.0258, device='cuda:3')
diff is  tensor(0.3768, device='cuda:3')
diff is  tensor(0.0033, device='cuda:3')
threshold is  tensor(95.4389, device='cuda:3')
sum is tensor(0.0033, device='cuda:3')
sum is tensor(0.0126, device='cuda:3')
sum is tensor(0.0303, device='cuda:3')
sum is tensor(0.0561, device='cuda:3')
sum is tensor(0.4329, device='cuda:3')
sum is tensor(1.5955, device='cuda:3')
sum is tensor(19.3475, device='cuda:3')
sum is tensor(159.3271, device='cuda:3')
ratio is tensor(0.4564, device='cuda:3')
threshold is tensor(139.9796, device='cuda:3')
cal diff is tensor(1.1626, device='cuda:3')
discard
cal diff is tensor(0.0093, device='cuda:3')
discard
cal diff is tensor(17.7521, device='cuda:3')
discard
cal diff is tensor(0.0177, device='cuda:3')
discard
cal diff is tensor(139.9796, device='cuda:3')
clipping
cal diff is tensor(0.0258, device='cuda:3')
discard
cal diff is tensor(0.3768, device='cuda:3')
discard
cal diff is tensor(0.0033, device='cuda:3')
discard
________________________________
test distance is  tensor(63.8984, device='cuda:3')
test acc is  0.9342000001563202
test entropy is  0.3062384586249079
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3062384586249079
avg test loss is  0.2123298330435049
avg accuracy is  0.9342000001563202
compute_distance is  tensor(63.8984, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3696576117960883
avg test loss is  7.170054231371198
avg accuracy is  0.17198333348966813
compute_distance is  tensor(160.0359, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(160.0359, device='cuda:3')
test acc is  0.17198333348966813
test entropy is  0.3696576117960883
________________________________
diff is  tensor(1.1695, device='cuda:3')
diff is  tensor(0.0093, device='cuda:3')
diff is  tensor(17.8621, device='cuda:3')
diff is  tensor(0.0178, device='cuda:3')
diff is  tensor(140.5529, device='cuda:3')
diff is  tensor(0.0260, device='cuda:3')
diff is  tensor(0.3786, device='cuda:3')
diff is  tensor(0.0034, device='cuda:3')
threshold is  tensor(96.1321, device='cuda:3')
sum is tensor(0.0034, device='cuda:3')
sum is tensor(0.0127, device='cuda:3')
sum is tensor(0.0305, device='cuda:3')
sum is tensor(0.0565, device='cuda:3')
sum is tensor(0.4351, device='cuda:3')
sum is tensor(1.6046, device='cuda:3')
sum is tensor(19.4667, device='cuda:3')
sum is tensor(160.0196, device='cuda:3')
ratio is tensor(0.4545, device='cuda:3')
threshold is tensor(140.5529, device='cuda:3')
cal diff is tensor(1.1695, device='cuda:3')
discard
cal diff is tensor(0.0093, device='cuda:3')
discard
cal diff is tensor(17.8621, device='cuda:3')
discard
cal diff is tensor(0.0178, device='cuda:3')
discard
cal diff is tensor(140.5529, device='cuda:3')
clipping
cal diff is tensor(0.0260, device='cuda:3')
discard
cal diff is tensor(0.3786, device='cuda:3')
discard
cal diff is tensor(0.0034, device='cuda:3')
discard
________________________________
test distance is  tensor(63.8982, device='cuda:3')
test acc is  0.9357666668229867
test entropy is  0.3025763418469856
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3025763418469856
avg test loss is  0.2081446882043439
avg accuracy is  0.9357666668229867
compute_distance is  tensor(63.8982, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.36969559287020903
avg test loss is  7.167529277455833
avg accuracy is  0.17198333348966813
compute_distance is  tensor(160.2351, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(160.2351, device='cuda:3')
test acc is  0.17198333348966813
test entropy is  0.36969559287020903
________________________________
diff is  tensor(1.1714, device='cuda:3')
diff is  tensor(0.0094, device='cuda:3')
diff is  tensor(17.8969, device='cuda:3')
diff is  tensor(0.0178, device='cuda:3')
diff is  tensor(140.7144, device='cuda:3')
diff is  tensor(0.0261, device='cuda:3')
diff is  tensor(0.3793, device='cuda:3')
diff is  tensor(0.0034, device='cuda:3')
threshold is  tensor(96.3314, device='cuda:3')
sum is tensor(0.0034, device='cuda:3')
sum is tensor(0.0127, device='cuda:3')
sum is tensor(0.0305, device='cuda:3')
sum is tensor(0.0566, device='cuda:3')
sum is tensor(0.4358, device='cuda:3')
sum is tensor(1.6072, device='cuda:3')
sum is tensor(19.5041, device='cuda:3')
sum is tensor(160.2186, device='cuda:3')
ratio is tensor(0.4540, device='cuda:3')
threshold is tensor(140.7144, device='cuda:3')
cal diff is tensor(1.1714, device='cuda:3')
discard
cal diff is tensor(0.0094, device='cuda:3')
discard
cal diff is tensor(17.8969, device='cuda:3')
discard
cal diff is tensor(0.0178, device='cuda:3')
discard
cal diff is tensor(140.7144, device='cuda:3')
clipping
cal diff is tensor(0.0261, device='cuda:3')
discard
cal diff is tensor(0.3793, device='cuda:3')
discard
cal diff is tensor(0.0034, device='cuda:3')
discard
________________________________
test distance is  tensor(63.8982, device='cuda:3')
test acc is  0.9363333334896534
test entropy is  0.301117943016006
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.301117943016006
avg test loss is  0.2066113358415139
avg accuracy is  0.9363333334896534
compute_distance is  tensor(63.8982, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.36966934175824306
avg test loss is  7.167815237919659
avg accuracy is  0.17203333348966812
compute_distance is  tensor(160.2998, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(160.2998, device='cuda:3')
test acc is  0.17203333348966812
test entropy is  0.36966934175824306
________________________________
diff is  tensor(1.1716, device='cuda:3')
diff is  tensor(0.0094, device='cuda:3')
diff is  tensor(17.9088, device='cuda:3')
diff is  tensor(0.0178, device='cuda:3')
diff is  tensor(140.7666, device='cuda:3')
diff is  tensor(0.0261, device='cuda:3')
diff is  tensor(0.3794, device='cuda:3')
diff is  tensor(0.0034, device='cuda:3')
threshold is  tensor(96.3961, device='cuda:3')
sum is tensor(0.0034, device='cuda:3')
sum is tensor(0.0127, device='cuda:3')
sum is tensor(0.0305, device='cuda:3')
sum is tensor(0.0566, device='cuda:3')
sum is tensor(0.4360, device='cuda:3')
sum is tensor(1.6076, device='cuda:3')
sum is tensor(19.5165, device='cuda:3')
sum is tensor(160.2831, device='cuda:3')
ratio is tensor(0.4539, device='cuda:3')
threshold is tensor(140.7666, device='cuda:3')
cal diff is tensor(1.1716, device='cuda:3')
discard
cal diff is tensor(0.0094, device='cuda:3')
discard
cal diff is tensor(17.9088, device='cuda:3')
discard
cal diff is tensor(0.0178, device='cuda:3')
discard
cal diff is tensor(140.7666, device='cuda:3')
clipping
cal diff is tensor(0.0261, device='cuda:3')
discard
cal diff is tensor(0.3794, device='cuda:3')
discard
cal diff is tensor(0.0034, device='cuda:3')
discard
________________________________
test distance is  tensor(63.8981, device='cuda:3')
test acc is  0.9365166668229867
test entropy is  0.30043360536922015
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.30043360536922015
avg test loss is  0.20594925932220812
avg accuracy is  0.9365166668229867
compute_distance is  tensor(63.8981, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.36967504731437034
avg test loss is  7.168294521282985
avg accuracy is  0.17201666682300146
compute_distance is  tensor(160.3378, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(160.3378, device='cuda:3')
test acc is  0.17201666682300146
test entropy is  0.36967504731437034
________________________________
diff is  tensor(1.1714, device='cuda:3')
diff is  tensor(0.0094, device='cuda:3')
diff is  tensor(17.9114, device='cuda:3')
diff is  tensor(0.0178, device='cuda:3')
diff is  tensor(140.8022, device='cuda:3')
diff is  tensor(0.0261, device='cuda:3')
diff is  tensor(0.3794, device='cuda:3')
diff is  tensor(0.0034, device='cuda:3')
threshold is  tensor(96.4341, device='cuda:3')
sum is tensor(0.0034, device='cuda:3')
sum is tensor(0.0127, device='cuda:3')
sum is tensor(0.0305, device='cuda:3')
sum is tensor(0.0566, device='cuda:3')
sum is tensor(0.4360, device='cuda:3')
sum is tensor(1.6074, device='cuda:3')
sum is tensor(19.5188, device='cuda:3')
sum is tensor(160.3210, device='cuda:3')
ratio is tensor(0.4537, device='cuda:3')
threshold is tensor(140.8022, device='cuda:3')
cal diff is tensor(1.1714, device='cuda:3')
discard
cal diff is tensor(0.0094, device='cuda:3')
discard
cal diff is tensor(17.9114, device='cuda:3')
discard
cal diff is tensor(0.0178, device='cuda:3')
discard
cal diff is tensor(140.8022, device='cuda:3')
clipping
cal diff is tensor(0.0261, device='cuda:3')
discard
cal diff is tensor(0.3794, device='cuda:3')
discard
cal diff is tensor(0.0034, device='cuda:3')
discard
________________________________
test distance is  tensor(63.8981, device='cuda:3')
test acc is  0.9366333334896534
test entropy is  0.3000156954248577
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3000156954248577
avg test loss is  0.20557066243785277
avg accuracy is  0.9366333334896534
compute_distance is  tensor(63.8981, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3696366048284939
avg test loss is  7.1693420781255535
avg accuracy is  0.17203333348966812
compute_distance is  tensor(160.3584, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(160.3584, device='cuda:3')
test acc is  0.17203333348966812
test entropy is  0.3696366048284939
________________________________
diff is  tensor(1.1713, device='cuda:3')
diff is  tensor(0.0094, device='cuda:3')
diff is  tensor(17.9132, device='cuda:3')
diff is  tensor(0.0178, device='cuda:3')
diff is  tensor(140.8208, device='cuda:3')
diff is  tensor(0.0261, device='cuda:3')
diff is  tensor(0.3795, device='cuda:3')
diff is  tensor(0.0034, device='cuda:3')
threshold is  tensor(96.4546, device='cuda:3')
sum is tensor(0.0034, device='cuda:3')
sum is tensor(0.0127, device='cuda:3')
sum is tensor(0.0305, device='cuda:3')
sum is tensor(0.0566, device='cuda:3')
sum is tensor(0.4361, device='cuda:3')
sum is tensor(1.6074, device='cuda:3')
sum is tensor(19.5206, device='cuda:3')
sum is tensor(160.3414, device='cuda:3')
ratio is tensor(0.4537, device='cuda:3')
threshold is tensor(140.8208, device='cuda:3')
cal diff is tensor(1.1713, device='cuda:3')
discard
cal diff is tensor(0.0094, device='cuda:3')
discard
cal diff is tensor(17.9132, device='cuda:3')
discard
cal diff is tensor(0.0178, device='cuda:3')
discard
cal diff is tensor(140.8208, device='cuda:3')
clipping
cal diff is tensor(0.0261, device='cuda:3')
discard
cal diff is tensor(0.3795, device='cuda:3')
discard
cal diff is tensor(0.0034, device='cuda:3')
discard
________________________________
test distance is  tensor(63.8981, device='cuda:3')
test acc is  0.93675000015632
test entropy is  0.2997517667806098
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2997517667806098
avg test loss is  0.20533650585297328
avg accuracy is  0.93675000015632
compute_distance is  tensor(63.8981, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.369603318525657
avg test loss is  7.1708616788453385
avg accuracy is  0.17208333348966814
compute_distance is  tensor(160.3636, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(160.3636, device='cuda:3')
test acc is  0.17208333348966814
test entropy is  0.369603318525657
________________________________
diff is  tensor(1.1712, device='cuda:3')
diff is  tensor(0.0094, device='cuda:3')
diff is  tensor(17.9144, device='cuda:3')
diff is  tensor(0.0178, device='cuda:3')
diff is  tensor(140.8248, device='cuda:3')
diff is  tensor(0.0261, device='cuda:3')
diff is  tensor(0.3796, device='cuda:3')
diff is  tensor(0.0034, device='cuda:3')
threshold is  tensor(96.4599, device='cuda:3')
sum is tensor(0.0034, device='cuda:3')
sum is tensor(0.0127, device='cuda:3')
sum is tensor(0.0305, device='cuda:3')
sum is tensor(0.0566, device='cuda:3')
sum is tensor(0.4362, device='cuda:3')
sum is tensor(1.6074, device='cuda:3')
sum is tensor(19.5218, device='cuda:3')
sum is tensor(160.3466, device='cuda:3')
ratio is tensor(0.4537, device='cuda:3')
threshold is tensor(140.8248, device='cuda:3')
cal diff is tensor(1.1712, device='cuda:3')
discard
cal diff is tensor(0.0094, device='cuda:3')
discard
cal diff is tensor(17.9144, device='cuda:3')
discard
cal diff is tensor(0.0178, device='cuda:3')
discard
cal diff is tensor(140.8248, device='cuda:3')
clipping
cal diff is tensor(0.0261, device='cuda:3')
discard
cal diff is tensor(0.3796, device='cuda:3')
discard
cal diff is tensor(0.0034, device='cuda:3')
discard
________________________________
test distance is  tensor(63.8981, device='cuda:3')
test acc is  0.9367833334896534
test entropy is  0.29959614488329966
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.29959614488329966
avg test loss is  0.20522119951591308
avg accuracy is  0.9367833334896534
compute_distance is  tensor(63.8981, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.36963312327861786
avg test loss is  7.171323597812449
avg accuracy is  0.17208333348966814
compute_distance is  tensor(160.3650, device='cuda:3')
++++++++++++++++++++
reach max round
new distance ratio is 0.8181818181818177
 
Avg Training Stats after 77 global rounds:
Train Accuracy: 71.69% 

Test Accuracy: 71.39% 


 | Global Training Round : 78 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.005397710017859936
attack res is True
len of model dicts is  10
compute distance is  tensor(71.9901, device='cuda:3')
compute distance is  tensor(100.2739, device='cuda:3')
compute distance is  tensor(110.0922, device='cuda:3')
compute distance is  tensor(86.8691, device='cuda:3')
compute distance is  tensor(37.3848, device='cuda:3')
compute distance is  tensor(75.2833, device='cuda:3')
compute distance is  tensor(104.3332, device='cuda:3')
compute distance is  tensor(97.2575, device='cuda:3')
compute distance is  tensor(152.8412, device='cuda:3')
compute distance is  tensor(139.7424, device='cuda:3')
calculated distance threshold is  tensor(141.2955, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.11845000015633193
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.20765000015633672
====================
====================
iteration is  0
round is  2
accuracy is  0.19515000015633605
====================
====================
iteration is  1
round is  0
accuracy is  0.18958333348966916
====================
====================
iteration is  1
round is  1
accuracy is  0.13068333348966524
====================
________________________________
test distance is  tensor(4284.7847, device='cuda:3')
test acc is  0.11845000015633193
test entropy is  0.031954802032351605
________________________________
diff is  tensor(43.8055, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3664, device='cuda:3', dtype=torch.float64)
diff is  tensor(575.3621, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5224, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.1728, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9959, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3194, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2402, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4143.4893, device='cuda:3')
sum is tensor(0.2402, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6067, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1291, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1249, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4444, device='cuda:3', dtype=torch.float64)
sum is tensor(67.2498, device='cuda:3', dtype=torch.float64)
sum is tensor(642.6119, device='cuda:3', dtype=torch.float64)
sum is tensor(4284.7848, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0388, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.1728, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.8055, device='cuda:3')
discard
cal diff is tensor(0.3664, device='cuda:3')
discard
cal diff is tensor(575.3621, device='cuda:3')
discard
cal diff is tensor(0.5224, device='cuda:3')
discard
cal diff is tensor(3642.1729, device='cuda:3')
clipping
cal diff is tensor(1.9959, device='cuda:3')
discard
cal diff is tensor(20.3194, device='cuda:3')
discard
cal diff is tensor(0.2402, device='cuda:3')
discard
________________________________
test distance is  tensor(141.3057, device='cuda:3')
test acc is  0.7129666668229966
test entropy is  0.480202873187787
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(141.2955, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0047, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(141.2955, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.6711, device='cuda:3')
test acc is  0.7043666668229969
test entropy is  0.4826581434908706
________________________________
new distance ratio is 0.8999999999999995
 
Avg Training Stats after 78 global rounds:
Train Accuracy: 97.28% 

Test Accuracy: 97.66% 


 | Global Training Round : 79 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0022145272232592106
attack res is False
len of model dicts is  10
compute distance is  tensor(32.0416, device='cuda:3')
compute distance is  tensor(25.8194, device='cuda:3')
compute distance is  tensor(42.8109, device='cuda:3')
compute distance is  tensor(60.2931, device='cuda:3')
compute distance is  tensor(28.2358, device='cuda:3')
compute distance is  tensor(34.7837, device='cuda:3')
compute distance is  tensor(49.7165, device='cuda:3')
compute distance is  tensor(34.0186, device='cuda:3')
compute distance is  tensor(49.7213, device='cuda:3')
compute distance is  tensor(78.4684, device='cuda:3')
calculated distance threshold is  tensor(68.8958, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.32038333348967324
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.19860000015633616
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.2960000001563394
====================
====================
iteration is  1
round is  0
accuracy is  0.4024500001563411
====================
====================
iteration is  1
round is  1
accuracy is  0.38125000015634086
====================
________________________________
test distance is  tensor(4283.3979, device='cuda:3')
test acc is  0.19860000015633616
test entropy is  0.2680287326672184
________________________________
diff is  tensor(44.2296, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3852, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.8664, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4423, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.0181, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9982, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2408, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2179, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4214.5020, device='cuda:3')
sum is tensor(0.2179, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6031, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0454, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0436, device='cuda:3', dtype=torch.float64)
sum is tensor(23.2844, device='cuda:3', dtype=torch.float64)
sum is tensor(67.5139, device='cuda:3', dtype=torch.float64)
sum is tensor(641.3803, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.3985, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0189, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.0181, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.2296, device='cuda:3')
discard
cal diff is tensor(0.3852, device='cuda:3')
discard
cal diff is tensor(573.8664, device='cuda:3')
discard
cal diff is tensor(0.4423, device='cuda:3')
discard
cal diff is tensor(3642.0181, device='cuda:3')
discard
cal diff is tensor(1.9982, device='cuda:3')
discard
cal diff is tensor(20.2408, device='cuda:3')
discard
cal diff is tensor(0.2179, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9733333334896522
test entropy is  0.16011937743604882
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.16011937743604882
avg test loss is  0.09336535164913627
avg accuracy is  0.9733333334896522
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.264073325992266
avg test loss is  6.5535496735115295
avg accuracy is  0.21178333348967013
compute_distance is  tensor(112.3213, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(112.3213, device='cuda:3')
test acc is  0.21178333348967013
test entropy is  0.264073325992266
________________________________
diff is  tensor(1.1014, device='cuda:3')
diff is  tensor(0.0119, device='cuda:3')
diff is  tensor(20.1504, device='cuda:3')
diff is  tensor(0.0208, device='cuda:3')
diff is  tensor(90.5488, device='cuda:3')
diff is  tensor(0.0367, device='cuda:3')
diff is  tensor(0.4398, device='cuda:3')
diff is  tensor(0.0041, device='cuda:3')
threshold is  tensor(43.4255, device='cuda:3')
sum is tensor(0.0041, device='cuda:3')
sum is tensor(0.0160, device='cuda:3')
sum is tensor(0.0368, device='cuda:3')
sum is tensor(0.0735, device='cuda:3')
sum is tensor(0.5133, device='cuda:3')
sum is tensor(1.6147, device='cuda:3')
sum is tensor(21.7651, device='cuda:3')
sum is tensor(112.3139, device='cuda:3')
ratio is tensor(0.7608, device='cuda:3')
threshold is tensor(90.5488, device='cuda:3')
cal diff is tensor(1.1014, device='cuda:3')
discard
cal diff is tensor(0.0119, device='cuda:3')
discard
cal diff is tensor(20.1504, device='cuda:3')
discard
cal diff is tensor(0.0208, device='cuda:3')
discard
cal diff is tensor(90.5488, device='cuda:3')
clipping
cal diff is tensor(0.0367, device='cuda:3')
discard
cal diff is tensor(0.4398, device='cuda:3')
discard
cal diff is tensor(0.0041, device='cuda:3')
discard
________________________________
test distance is  tensor(68.8939, device='cuda:3')
test acc is  0.8614833334896562
test entropy is  0.3842944726983367
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3842944726983367
avg test loss is  0.35837055313815946
avg accuracy is  0.8614833334896562
compute_distance is  tensor(68.8939, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2687598070991573
avg test loss is  6.714341791962256
avg accuracy is  0.2077500001563366
compute_distance is  tensor(153.2964, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(153.2964, device='cuda:3')
test acc is  0.2077500001563366
test entropy is  0.2687598070991573
________________________________
diff is  tensor(1.1363, device='cuda:3')
diff is  tensor(0.0094, device='cuda:3')
diff is  tensor(17.4896, device='cuda:3')
diff is  tensor(0.0174, device='cuda:3')
diff is  tensor(134.2554, device='cuda:3')
diff is  tensor(0.0256, device='cuda:3')
diff is  tensor(0.3449, device='cuda:3')
diff is  tensor(0.0031, device='cuda:3')
threshold is  tensor(84.4006, device='cuda:3')
sum is tensor(0.0031, device='cuda:3')
sum is tensor(0.0124, device='cuda:3')
sum is tensor(0.0299, device='cuda:3')
sum is tensor(0.0554, device='cuda:3')
sum is tensor(0.4003, device='cuda:3')
sum is tensor(1.5366, device='cuda:3')
sum is tensor(19.0262, device='cuda:3')
sum is tensor(153.2816, device='cuda:3')
ratio is tensor(0.5131, device='cuda:3')
threshold is tensor(134.2554, device='cuda:3')
cal diff is tensor(1.1363, device='cuda:3')
discard
cal diff is tensor(0.0094, device='cuda:3')
discard
cal diff is tensor(17.4896, device='cuda:3')
discard
cal diff is tensor(0.0174, device='cuda:3')
discard
cal diff is tensor(134.2554, device='cuda:3')
clipping
cal diff is tensor(0.0256, device='cuda:3')
discard
cal diff is tensor(0.3449, device='cuda:3')
discard
cal diff is tensor(0.0031, device='cuda:3')
discard
________________________________
test distance is  tensor(68.8909, device='cuda:3')
test acc is  0.9036000001563212
test entropy is  0.3545005353751467
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3545005353751467
avg test loss is  0.28204166292667643
avg accuracy is  0.9036000001563212
compute_distance is  tensor(68.8909, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2689863500723452
avg test loss is  6.701394861949278
avg accuracy is  0.20756666682300326
compute_distance is  tensor(158.0014, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(158.0014, device='cuda:3')
test acc is  0.20756666682300326
test entropy is  0.2689863500723452
________________________________
diff is  tensor(1.1623, device='cuda:3')
diff is  tensor(0.0096, device='cuda:3')
diff is  tensor(18.0015, device='cuda:3')
diff is  tensor(0.0180, device='cuda:3')
diff is  tensor(138.4245, device='cuda:3')
diff is  tensor(0.0263, device='cuda:3')
diff is  tensor(0.3393, device='cuda:3')
diff is  tensor(0.0031, device='cuda:3')
threshold is  tensor(89.1055, device='cuda:3')
sum is tensor(0.0031, device='cuda:3')
sum is tensor(0.0127, device='cuda:3')
sum is tensor(0.0306, device='cuda:3')
sum is tensor(0.0569, device='cuda:3')
sum is tensor(0.3962, device='cuda:3')
sum is tensor(1.5585, device='cuda:3')
sum is tensor(19.5600, device='cuda:3')
sum is tensor(157.9845, device='cuda:3')
ratio is tensor(0.4976, device='cuda:3')
threshold is tensor(138.4245, device='cuda:3')
cal diff is tensor(1.1623, device='cuda:3')
discard
cal diff is tensor(0.0096, device='cuda:3')
discard
cal diff is tensor(18.0015, device='cuda:3')
discard
cal diff is tensor(0.0180, device='cuda:3')
discard
cal diff is tensor(138.4245, device='cuda:3')
clipping
cal diff is tensor(0.0263, device='cuda:3')
discard
cal diff is tensor(0.3393, device='cuda:3')
discard
cal diff is tensor(0.0031, device='cuda:3')
discard
________________________________
test distance is  tensor(68.8903, device='cuda:3')
test acc is  0.9144666668229875
test entropy is  0.34139163970057645
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.34139163970057645
avg test loss is  0.2594589864108354
avg accuracy is  0.9144666668229875
compute_distance is  tensor(68.8903, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2690172106790136
avg test loss is  6.692977741074714
avg accuracy is  0.2074333334896699
compute_distance is  tensor(159.0170, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(159.0170, device='cuda:3')
test acc is  0.2074333334896699
test entropy is  0.2690172106790136
________________________________
diff is  tensor(1.1736, device='cuda:3')
diff is  tensor(0.0097, device='cuda:3')
diff is  tensor(18.2884, device='cuda:3')
diff is  tensor(0.0183, device='cuda:3')
diff is  tensor(139.1381, device='cuda:3')
diff is  tensor(0.0267, device='cuda:3')
diff is  tensor(0.3414, device='cuda:3')
diff is  tensor(0.0032, device='cuda:3')
threshold is  tensor(90.1211, device='cuda:3')
sum is tensor(0.0032, device='cuda:3')
sum is tensor(0.0128, device='cuda:3')
sum is tensor(0.0311, device='cuda:3')
sum is tensor(0.0578, device='cuda:3')
sum is tensor(0.3993, device='cuda:3')
sum is tensor(1.5729, device='cuda:3')
sum is tensor(19.8613, device='cuda:3')
sum is tensor(158.9993, device='cuda:3')
ratio is tensor(0.4950, device='cuda:3')
threshold is tensor(139.1381, device='cuda:3')
cal diff is tensor(1.1736, device='cuda:3')
discard
cal diff is tensor(0.0097, device='cuda:3')
discard
cal diff is tensor(18.2884, device='cuda:3')
discard
cal diff is tensor(0.0183, device='cuda:3')
discard
cal diff is tensor(139.1381, device='cuda:3')
clipping
cal diff is tensor(0.0267, device='cuda:3')
discard
cal diff is tensor(0.3414, device='cuda:3')
discard
cal diff is tensor(0.0032, device='cuda:3')
discard
________________________________
test distance is  tensor(68.8901, device='cuda:3')
test acc is  0.9176166668229874
test entropy is  0.33674134156787827
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.33674134156787827
avg test loss is  0.25251718225287223
avg accuracy is  0.9176166668229874
compute_distance is  tensor(68.8901, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2691399996468762
avg test loss is  6.687530953238514
avg accuracy is  0.20738333348966992
compute_distance is  tensor(159.3904, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(159.3904, device='cuda:3')
test acc is  0.20738333348966992
test entropy is  0.2691399996468762
________________________________
diff is  tensor(1.1778, device='cuda:3')
diff is  tensor(0.0097, device='cuda:3')
diff is  tensor(18.3810, device='cuda:3')
diff is  tensor(0.0184, device='cuda:3')
diff is  tensor(139.4125, device='cuda:3')
diff is  tensor(0.0269, device='cuda:3')
diff is  tensor(0.3429, device='cuda:3')
diff is  tensor(0.0032, device='cuda:3')
threshold is  tensor(90.4945, device='cuda:3')
sum is tensor(0.0032, device='cuda:3')
sum is tensor(0.0129, device='cuda:3')
sum is tensor(0.0313, device='cuda:3')
sum is tensor(0.0582, device='cuda:3')
sum is tensor(0.4011, device='cuda:3')
sum is tensor(1.5789, device='cuda:3')
sum is tensor(19.9599, device='cuda:3')
sum is tensor(159.3724, device='cuda:3')
ratio is tensor(0.4941, device='cuda:3')
threshold is tensor(139.4125, device='cuda:3')
cal diff is tensor(1.1778, device='cuda:3')
discard
cal diff is tensor(0.0097, device='cuda:3')
discard
cal diff is tensor(18.3810, device='cuda:3')
discard
cal diff is tensor(0.0184, device='cuda:3')
discard
cal diff is tensor(139.4125, device='cuda:3')
clipping
cal diff is tensor(0.0269, device='cuda:3')
discard
cal diff is tensor(0.3429, device='cuda:3')
discard
cal diff is tensor(0.0032, device='cuda:3')
discard
________________________________
test distance is  tensor(68.8901, device='cuda:3')
test acc is  0.9190000001563207
test entropy is  0.3347511821781903
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3347511821781903
avg test loss is  0.24967463959508868
avg accuracy is  0.9190000001563207
compute_distance is  tensor(68.8901, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2691029083531803
avg test loss is  6.685246818863761
avg accuracy is  0.20740000015633658
compute_distance is  tensor(159.5657, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(159.5657, device='cuda:3')
test acc is  0.20740000015633658
test entropy is  0.2691029083531803
________________________________
diff is  tensor(1.1797, device='cuda:3')
diff is  tensor(0.0098, device='cuda:3')
diff is  tensor(18.4198, device='cuda:3')
diff is  tensor(0.0184, device='cuda:3')
diff is  tensor(139.5459, device='cuda:3')
diff is  tensor(0.0269, device='cuda:3')
diff is  tensor(0.3438, device='cuda:3')
diff is  tensor(0.0032, device='cuda:3')
threshold is  tensor(90.6699, device='cuda:3')
sum is tensor(0.0032, device='cuda:3')
sum is tensor(0.0130, device='cuda:3')
sum is tensor(0.0314, device='cuda:3')
sum is tensor(0.0583, device='cuda:3')
sum is tensor(0.4021, device='cuda:3')
sum is tensor(1.5818, device='cuda:3')
sum is tensor(20.0015, device='cuda:3')
sum is tensor(159.5475, device='cuda:3')
ratio is tensor(0.4936, device='cuda:3')
threshold is tensor(139.5459, device='cuda:3')
cal diff is tensor(1.1797, device='cuda:3')
discard
cal diff is tensor(0.0098, device='cuda:3')
discard
cal diff is tensor(18.4198, device='cuda:3')
discard
cal diff is tensor(0.0184, device='cuda:3')
discard
cal diff is tensor(139.5459, device='cuda:3')
clipping
cal diff is tensor(0.0269, device='cuda:3')
discard
cal diff is tensor(0.3438, device='cuda:3')
discard
cal diff is tensor(0.0032, device='cuda:3')
discard
________________________________
test distance is  tensor(68.8900, device='cuda:3')
test acc is  0.919733333489654
test entropy is  0.33369874647621917
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.33369874647621917
avg test loss is  0.24823069528364805
avg accuracy is  0.919733333489654
compute_distance is  tensor(68.8900, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.26918198339847615
avg test loss is  6.684375680077559
avg accuracy is  0.20748333348966994
compute_distance is  tensor(159.6137, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(159.6137, device='cuda:3')
test acc is  0.20748333348966994
test entropy is  0.26918198339847615
________________________________
diff is  tensor(1.1804, device='cuda:3')
diff is  tensor(0.0098, device='cuda:3')
diff is  tensor(18.4359, device='cuda:3')
diff is  tensor(0.0184, device='cuda:3')
diff is  tensor(139.5767, device='cuda:3')
diff is  tensor(0.0269, device='cuda:3')
diff is  tensor(0.3442, device='cuda:3')
diff is  tensor(0.0032, device='cuda:3')
threshold is  tensor(90.7179, device='cuda:3')
sum is tensor(0.0032, device='cuda:3')
sum is tensor(0.0130, device='cuda:3')
sum is tensor(0.0314, device='cuda:3')
sum is tensor(0.0583, device='cuda:3')
sum is tensor(0.4025, device='cuda:3')
sum is tensor(1.5828, device='cuda:3')
sum is tensor(20.0187, device='cuda:3')
sum is tensor(159.5954, device='cuda:3')
ratio is tensor(0.4935, device='cuda:3')
threshold is tensor(139.5767, device='cuda:3')
cal diff is tensor(1.1804, device='cuda:3')
discard
cal diff is tensor(0.0098, device='cuda:3')
discard
cal diff is tensor(18.4359, device='cuda:3')
discard
cal diff is tensor(0.0184, device='cuda:3')
discard
cal diff is tensor(139.5767, device='cuda:3')
clipping
cal diff is tensor(0.0269, device='cuda:3')
discard
cal diff is tensor(0.3442, device='cuda:3')
discard
cal diff is tensor(0.0032, device='cuda:3')
discard
________________________________
test distance is  tensor(68.8900, device='cuda:3')
test acc is  0.9200500001563207
test entropy is  0.3331574654337694
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3331574654337694
avg test loss is  0.24755769478740977
avg accuracy is  0.9200500001563207
compute_distance is  tensor(68.8900, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.26918600534579396
avg test loss is  6.684325136863855
avg accuracy is  0.20748333348966994
compute_distance is  tensor(159.6352, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(159.6352, device='cuda:3')
test acc is  0.20748333348966994
test entropy is  0.26918600534579396
________________________________
diff is  tensor(1.1806, device='cuda:3')
diff is  tensor(0.0098, device='cuda:3')
diff is  tensor(18.4365, device='cuda:3')
diff is  tensor(0.0184, device='cuda:3')
diff is  tensor(139.5972, device='cuda:3')
diff is  tensor(0.0269, device='cuda:3')
diff is  tensor(0.3442, device='cuda:3')
diff is  tensor(0.0032, device='cuda:3')
threshold is  tensor(90.7393, device='cuda:3')
sum is tensor(0.0032, device='cuda:3')
sum is tensor(0.0130, device='cuda:3')
sum is tensor(0.0314, device='cuda:3')
sum is tensor(0.0583, device='cuda:3')
sum is tensor(0.4025, device='cuda:3')
sum is tensor(1.5831, device='cuda:3')
sum is tensor(20.0196, device='cuda:3')
sum is tensor(159.6168, device='cuda:3')
ratio is tensor(0.4934, device='cuda:3')
threshold is tensor(139.5972, device='cuda:3')
cal diff is tensor(1.1806, device='cuda:3')
discard
cal diff is tensor(0.0098, device='cuda:3')
discard
cal diff is tensor(18.4365, device='cuda:3')
discard
cal diff is tensor(0.0184, device='cuda:3')
discard
cal diff is tensor(139.5972, device='cuda:3')
clipping
cal diff is tensor(0.0269, device='cuda:3')
discard
cal diff is tensor(0.3442, device='cuda:3')
discard
cal diff is tensor(0.0032, device='cuda:3')
discard
________________________________
test distance is  tensor(68.8900, device='cuda:3')
test acc is  0.9202166668229873
test entropy is  0.3327927924136617
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3327927924136617
avg test loss is  0.24716465447201277
avg accuracy is  0.9202166668229873
compute_distance is  tensor(68.8900, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.26919770093042966
avg test loss is  6.684388685836467
avg accuracy is  0.2074333334896699
compute_distance is  tensor(159.5860, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(159.5860, device='cuda:3')
test acc is  0.2074333334896699
test entropy is  0.26919770093042966
________________________________
diff is  tensor(1.1806, device='cuda:3')
diff is  tensor(0.0098, device='cuda:3')
diff is  tensor(18.4281, device='cuda:3')
diff is  tensor(0.0184, device='cuda:3')
diff is  tensor(139.5565, device='cuda:3')
diff is  tensor(0.0269, device='cuda:3')
diff is  tensor(0.3441, device='cuda:3')
diff is  tensor(0.0032, device='cuda:3')
threshold is  tensor(90.6902, device='cuda:3')
sum is tensor(0.0032, device='cuda:3')
sum is tensor(0.0130, device='cuda:3')
sum is tensor(0.0314, device='cuda:3')
sum is tensor(0.0583, device='cuda:3')
sum is tensor(0.4024, device='cuda:3')
sum is tensor(1.5830, device='cuda:3')
sum is tensor(20.0111, device='cuda:3')
sum is tensor(159.5676, device='cuda:3')
ratio is tensor(0.4935, device='cuda:3')
threshold is tensor(139.5565, device='cuda:3')
cal diff is tensor(1.1806, device='cuda:3')
discard
cal diff is tensor(0.0098, device='cuda:3')
discard
cal diff is tensor(18.4281, device='cuda:3')
discard
cal diff is tensor(0.0184, device='cuda:3')
discard
cal diff is tensor(139.5565, device='cuda:3')
clipping
cal diff is tensor(0.0269, device='cuda:3')
discard
cal diff is tensor(0.3441, device='cuda:3')
discard
cal diff is tensor(0.0032, device='cuda:3')
discard
________________________________
test distance is  tensor(68.8900, device='cuda:3')
test acc is  0.9203166668229873
test entropy is  0.3325975709346566
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3325975709346566
avg test loss is  0.24702178211862852
avg accuracy is  0.9203166668229873
compute_distance is  tensor(68.8900, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2692075700107922
avg test loss is  6.684328012629105
avg accuracy is  0.20745000015633658
compute_distance is  tensor(159.5511, device='cuda:3')
++++++++++++++++++++
reach max round
new distance ratio is 0.8999999999999995
 
Avg Training Stats after 79 global rounds:
Train Accuracy: 68.18% 

Test Accuracy: 71.14% 


 | Global Training Round : 80 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.00805957242846489
attack res is True
len of model dicts is  10
compute distance is  tensor(76.8488, device='cuda:3')
compute distance is  tensor(19.3948, device='cuda:3')
compute distance is  tensor(69.0498, device='cuda:3')
compute distance is  tensor(112.7482, device='cuda:3')
compute distance is  tensor(48.9280, device='cuda:3')
compute distance is  tensor(87.1235, device='cuda:3')
compute distance is  tensor(97.3999, device='cuda:3')
compute distance is  tensor(28.7383, device='cuda:3')
compute distance is  tensor(70.9457, device='cuda:3')
compute distance is  tensor(95.6465, device='cuda:3')
calculated distance threshold is  tensor(111.8147, device='cuda:3')
pinned_accuracy threshold is  0.832400000157001
====================
iteration is  0
round is  0
accuracy is  0.13135000015633191
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.32561666682300666
====================
====================
iteration is  0
round is  2
accuracy is  0.225266666823004
====================
====================
iteration is  1
round is  0
accuracy is  0.2895500001563393
====================
====================
iteration is  1
round is  1
accuracy is  0.10530000015633197
====================
succ_min + 1
________________________________
test distance is  tensor(4282.2529, device='cuda:3')
test acc is  0.10530000015633197
test entropy is  0.017530314039812783
________________________________
diff is  tensor(42.9627, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3527, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.2924, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4779, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.5843, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0152, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3273, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2407, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4170.4385, device='cuda:3')
sum is tensor(0.2407, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5934, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0713, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0865, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4138, device='cuda:3', dtype=torch.float64)
sum is tensor(66.3765, device='cuda:3', dtype=torch.float64)
sum is tensor(640.6689, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.2532, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0307, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.5843, device='cuda:3', dtype=torch.float64)
cal diff is tensor(42.9627, device='cuda:3')
discard
cal diff is tensor(0.3527, device='cuda:3')
discard
cal diff is tensor(574.2924, device='cuda:3')
discard
cal diff is tensor(0.4779, device='cuda:3')
discard
cal diff is tensor(3641.5842, device='cuda:3')
discard
cal diff is tensor(2.0152, device='cuda:3')
discard
cal diff is tensor(20.3273, device='cuda:3')
discard
cal diff is tensor(0.2407, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.7089833334896636
test entropy is  0.44203873248750974
________________________________
new distance ratio is 0.9899999999999995
 
Avg Training Stats after 80 global rounds:
Train Accuracy: 98.10% 

Test Accuracy: 98.01% 

 
 Results after 80 global rounds of training:
|---- Avg testing Accuracy across each device's data: 98.10%
|----0th round Training Accuracy : 30.67%
|----1th round Training Accuracy : 72.35%
|----2th round Training Accuracy : 68.42%
|----3th round Training Accuracy : 87.39%
|----4th round Training Accuracy : 87.98%
|----5th round Training Accuracy : 90.97%
|----6th round Training Accuracy : 89.50%
|----7th round Training Accuracy : 94.27%
|----8th round Training Accuracy : 93.96%
|----9th round Training Accuracy : 94.69%
|----10th round Training Accuracy : 93.60%
|----11th round Training Accuracy : 96.17%
|----12th round Training Accuracy : 95.53%
|----13th round Training Accuracy : 96.38%
|----14th round Training Accuracy : 96.67%
|----15th round Training Accuracy : 96.50%
|----16th round Training Accuracy : 96.40%
|----17th round Training Accuracy : 96.58%
|----18th round Training Accuracy : 95.82%
|----19th round Training Accuracy : 97.24%
|----20th round Training Accuracy : 97.40%
|----21th round Training Accuracy : 97.38%
|----22th round Training Accuracy : 97.09%
|----23th round Training Accuracy : 97.68%
|----24th round Training Accuracy : 97.32%
|----25th round Training Accuracy : 97.61%
|----26th round Training Accuracy : 97.63%
|----27th round Training Accuracy : 97.88%
|----28th round Training Accuracy : 97.57%
|----29th round Training Accuracy : 98.03%
|----30th round Training Accuracy : 97.68%
|----31th round Training Accuracy : 98.03%
|----32th round Training Accuracy : 97.79%
|----33th round Training Accuracy : 97.99%
|----34th round Training Accuracy : 97.91%
|----35th round Training Accuracy : 98.19%
|----36th round Training Accuracy : 97.75%
|----37th round Training Accuracy : 98.21%
|----38th round Training Accuracy : 98.19%
|----39th round Training Accuracy : 98.25%
|----40th round Training Accuracy : 97.22%
|----41th round Training Accuracy : 98.03%
|----42th round Training Accuracy : 90.86%
|----43th round Training Accuracy : 97.64%
|----44th round Training Accuracy : 97.76%
|----45th round Training Accuracy : 94.33%
|----46th round Training Accuracy : 88.49%
|----47th round Training Accuracy : 97.03%
|----48th round Training Accuracy : 72.14%
|----49th round Training Accuracy : 97.31%
|----50th round Training Accuracy : 96.97%
|----51th round Training Accuracy : 97.46%
|----52th round Training Accuracy : 84.08%
|----53th round Training Accuracy : 97.53%
|----54th round Training Accuracy : 94.65%
|----55th round Training Accuracy : 96.31%
|----56th round Training Accuracy : 94.93%
|----57th round Training Accuracy : 94.27%
|----58th round Training Accuracy : 86.06%
|----59th round Training Accuracy : 97.96%
|----60th round Training Accuracy : 64.69%
|----61th round Training Accuracy : 97.28%
|----62th round Training Accuracy : 96.56%
|----63th round Training Accuracy : 96.35%
|----64th round Training Accuracy : 95.19%
|----65th round Training Accuracy : 97.31%
|----66th round Training Accuracy : 74.49%
|----67th round Training Accuracy : 98.17%
|----68th round Training Accuracy : 97.42%
|----69th round Training Accuracy : 95.60%
|----70th round Training Accuracy : 88.16%
|----71th round Training Accuracy : 97.70%
|----72th round Training Accuracy : 58.47%
|----73th round Training Accuracy : 97.47%
|----74th round Training Accuracy : 97.44%
|----75th round Training Accuracy : 98.01%
|----76th round Training Accuracy : 71.69%
|----77th round Training Accuracy : 97.28%
|----78th round Training Accuracy : 68.18%
|----79th round Training Accuracy : 98.10%
|----Final Test Accuracy: 98.01%
|----0th round Final Test Accuracy : 36.69%
|----1th round Final Test Accuracy : 70.89%
|----2th round Final Test Accuracy : 71.45%
|----3th round Final Test Accuracy : 87.49%
|----4th round Final Test Accuracy : 88.98%
|----5th round Final Test Accuracy : 91.06%
|----6th round Final Test Accuracy : 90.28%
|----7th round Final Test Accuracy : 94.38%
|----8th round Final Test Accuracy : 94.59%
|----9th round Final Test Accuracy : 94.52%
|----10th round Final Test Accuracy : 94.32%
|----11th round Final Test Accuracy : 96.20%
|----12th round Final Test Accuracy : 95.88%
|----13th round Final Test Accuracy : 96.31%
|----14th round Final Test Accuracy : 96.76%
|----15th round Final Test Accuracy : 96.69%
|----16th round Final Test Accuracy : 96.60%
|----17th round Final Test Accuracy : 96.51%
|----18th round Final Test Accuracy : 96.05%
|----19th round Final Test Accuracy : 97.07%
|----20th round Final Test Accuracy : 97.53%
|----21th round Final Test Accuracy : 97.19%
|----22th round Final Test Accuracy : 97.24%
|----23th round Final Test Accuracy : 97.68%
|----24th round Final Test Accuracy : 97.18%
|----25th round Final Test Accuracy : 97.60%
|----26th round Final Test Accuracy : 97.70%
|----27th round Final Test Accuracy : 97.84%
|----28th round Final Test Accuracy : 97.70%
|----29th round Final Test Accuracy : 97.92%
|----30th round Final Test Accuracy : 97.80%
|----31th round Final Test Accuracy : 98.01%
|----32th round Final Test Accuracy : 98.02%
|----33th round Final Test Accuracy : 97.90%
|----34th round Final Test Accuracy : 97.93%
|----35th round Final Test Accuracy : 98.23%
|----36th round Final Test Accuracy : 97.79%
|----37th round Final Test Accuracy : 98.17%
|----38th round Final Test Accuracy : 98.22%
|----39th round Final Test Accuracy : 98.24%
|----40th round Final Test Accuracy : 97.09%
|----41th round Final Test Accuracy : 98.13%
|----42th round Final Test Accuracy : 91.57%
|----43th round Final Test Accuracy : 97.61%
|----44th round Final Test Accuracy : 97.78%
|----45th round Final Test Accuracy : 93.47%
|----46th round Final Test Accuracy : 88.06%
|----47th round Final Test Accuracy : 96.83%
|----48th round Final Test Accuracy : 70.28%
|----49th round Final Test Accuracy : 96.88%
|----50th round Final Test Accuracy : 96.51%
|----51th round Final Test Accuracy : 97.17%
|----52th round Final Test Accuracy : 82.74%
|----53th round Final Test Accuracy : 97.34%
|----54th round Final Test Accuracy : 94.39%
|----55th round Final Test Accuracy : 96.42%
|----56th round Final Test Accuracy : 95.27%
|----57th round Final Test Accuracy : 94.46%
|----58th round Final Test Accuracy : 86.04%
|----59th round Final Test Accuracy : 97.89%
|----60th round Final Test Accuracy : 65.44%
|----61th round Final Test Accuracy : 97.29%
|----62th round Final Test Accuracy : 96.71%
|----63th round Final Test Accuracy : 96.66%
|----64th round Final Test Accuracy : 95.44%
|----65th round Final Test Accuracy : 97.04%
|----66th round Final Test Accuracy : 74.07%
|----67th round Final Test Accuracy : 98.07%
|----68th round Final Test Accuracy : 97.37%
|----69th round Final Test Accuracy : 95.42%
|----70th round Final Test Accuracy : 88.33%
|----71th round Final Test Accuracy : 97.53%
|----72th round Final Test Accuracy : 56.67%
|----73th round Final Test Accuracy : 97.59%
|----74th round Final Test Accuracy : 97.13%
|----75th round Final Test Accuracy : 98.03%
|----76th round Final Test Accuracy : 71.39%
|----77th round Final Test Accuracy : 97.66%
|----78th round Final Test Accuracy : 71.14%
|----79th round Final Test Accuracy : 98.01%

Experimental details:
    Dataset     : mnist
    Model     : cnn
    detailed Model     : vgg
    Optimizer : sgd
    Learning  : 0.01
    Global Rounds   : 80

    Federated parameters:
    Non-IID with common data
    balanced
    Fraction of users  : 0.2
    Local Batch size   : 10
    Local Epochs       : 5

    Attack ratio : 0.2
     Model attack is done!

 Total Run Time: 13470.8908


use_case = 1
Indicator = 1
Fedavg