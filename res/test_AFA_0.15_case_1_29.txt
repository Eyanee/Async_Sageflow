
Experimental details:
    Dataset     : mnist
    Model     : cnn
    detailed Model     : vgg
    Optimizer : sgd
    Learning  : 0.01
    Global Rounds   : 50

    Federated parameters:
    Non-IID with common data
    balanced
    Fraction of users  : 0.2
    Local Batch size   : 10
    Local Epochs       : 5

    Attack ratio : 0.2
     Model attack is done!
attack user num is  10
 t is  8
attack_user is [40 41 42 43 44 45 46 47 48 49]

 | Global Training Round : 1 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0
 benign empirical indicaor res is  0.0
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 1, 2, 4, 5, 6, 7, 41, 42, 43, 44, 45, 46, 47, 48]
 
Avg Training Stats after 1 global rounds:
Train Accuracy: 40.52% 

Test Accuracy: 46.54% 


 | Global Training Round : 2 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.011535529047250748
 benign empirical indicaor res is  0.011535529047250748
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 3, 4, 5, 41, 42, 43, 45, 46, 47, 48, 8, 9, 10, 11, 12, 13, 14, 15]
 
Avg Training Stats after 2 global rounds:
Train Accuracy: 62.83% 

Test Accuracy: 63.34% 


 | Global Training Round : 3 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.010644407942891121
 benign empirical indicaor res is  0.010644407942891121
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 2, 3, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 17, 18, 19, 20, 21, 23]
 
Avg Training Stats after 3 global rounds:
Train Accuracy: 74.69% 

Test Accuracy: 77.36% 


 | Global Training Round : 4 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0055063944309949875
 benign empirical indicaor res is  0.0055063944309949875
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 3, 4, 5, 6, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 28, 29, 30, 8, 9, 10, 11, 12, 13, 14, 15]
 
Avg Training Stats after 4 global rounds:
Train Accuracy: 88.53% 

Test Accuracy: 88.21% 


 | Global Training Round : 5 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.009879260323941708
 benign empirical indicaor res is  0.009879260323941708
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39]
left index is  [0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 36, 39]
 
Avg Training Stats after 5 global rounds:
Train Accuracy: 87.72% 

Test Accuracy: 88.53% 


 | Global Training Round : 6 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.005618993192911148
 benign empirical indicaor res is  0.005618993192911148
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 17, 18, 19, 21, 23, 8, 9, 10, 11, 12, 15]
 
Avg Training Stats after 6 global rounds:
Train Accuracy: 91.04% 

Test Accuracy: 90.37% 


 | Global Training Round : 7 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.007060973439365625
 benign empirical indicaor res is  0.007060973439365625
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
 
Avg Training Stats after 7 global rounds:
Train Accuracy: 84.75% 

Test Accuracy: 85.45% 


 | Global Training Round : 8 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.007142283953726292
 benign empirical indicaor res is  0.007142283953726292
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 11, 12, 14]
 
Avg Training Stats after 8 global rounds:
Train Accuracy: 90.04% 

Test Accuracy: 90.07% 


 | Global Training Round : 9 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0002232012921012938
 benign empirical indicaor res is  0.0002232012921012938
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 49, 16, 17, 18, 19, 21]
 
Avg Training Stats after 9 global rounds:
Train Accuracy: 94.36% 

Test Accuracy: 94.71% 


 | Global Training Round : 10 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0032661319710314274
 benign empirical indicaor res is  0.0032661319710314274
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 43, 44, 45, 46, 47, 48, 49, 32, 34, 36, 39, 8, 9, 10, 11, 12, 13, 14, 15]
 
Avg Training Stats after 10 global rounds:
Train Accuracy: 93.97% 

Test Accuracy: 93.62% 


 | Global Training Round : 11 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.002788923680782318
 benign empirical indicaor res is  0.002788923680782318
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 43, 44, 45, 46, 47, 49]
 
Avg Training Stats after 11 global rounds:
Train Accuracy: 90.86% 

Test Accuracy: 91.13% 


 | Global Training Round : 12 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.003777627367526293
 benign empirical indicaor res is  0.003777627367526293
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 43, 44, 45, 46, 47, 48, 24, 25, 26, 27, 28, 29, 30, 31, 17, 18, 19, 20, 21, 8, 9, 10, 11, 12, 14]
 
Avg Training Stats after 12 global rounds:
Train Accuracy: 94.14% 

Test Accuracy: 94.36% 


 | Global Training Round : 13 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.00027248135302215815
 benign empirical indicaor res is  0.00027248135302215815
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 49]
 
Avg Training Stats after 13 global rounds:
Train Accuracy: 93.37% 

Test Accuracy: 93.86% 


 | Global Training Round : 14 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.00399115402251482
 benign empirical indicaor res is  0.00399115402251482
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 11, 12, 14]
 
Avg Training Stats after 14 global rounds:
Train Accuracy: 96.18% 

Test Accuracy: 96.22% 


 | Global Training Round : 15 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.003322773613035679
 benign empirical indicaor res is  0.003322773613035679
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 32, 34, 35, 36, 37, 38, 39, 16, 17, 18, 19, 21]
 
Avg Training Stats after 15 global rounds:
Train Accuracy: 95.68% 

Test Accuracy: 96.06% 


 | Global Training Round : 16 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0005639517912641168
 benign empirical indicaor res is  0.0005639517912641168
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 24, 26, 27, 28, 29, 30, 31, 8, 9, 11, 12, 14]
 
Avg Training Stats after 16 global rounds:
Train Accuracy: 95.02% 

Test Accuracy: 95.13% 


 | Global Training Round : 17 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.002563799498602748
 benign empirical indicaor res is  0.002563799498602748
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 43, 44, 45, 46, 47, 49]
 
Avg Training Stats after 17 global rounds:
Train Accuracy: 96.03% 

Test Accuracy: 96.06% 


 | Global Training Round : 18 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.002698084805160761
 benign empirical indicaor res is  0.002698084805160761
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 49, 17, 18, 19, 20, 21, 23, 8, 9, 11, 12, 14, 15]
 
Avg Training Stats after 18 global rounds:
Train Accuracy: 96.60% 

Test Accuracy: 96.26% 


 | Global Training Round : 19 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0016682312125340104
 benign empirical indicaor res is  0.0016682312125340104
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 49]
 
Avg Training Stats after 19 global rounds:
Train Accuracy: 92.94% 

Test Accuracy: 93.07% 


 | Global Training Round : 20 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0029538029339164495
 benign empirical indicaor res is  0.0029538029339164495
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 49, 34, 35, 36, 37, 39, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 11, 12, 14, 15]
 
Avg Training Stats after 20 global rounds:
Train Accuracy: 96.97% 

Test Accuracy: 96.74% 


 | Global Training Round : 21 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0008630283991806209
 benign empirical indicaor res is  0.0008630283991806209
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 44, 45, 47, 48, 49, 16, 17, 18, 19, 20, 21, 23]
 
Avg Training Stats after 21 global rounds:
Train Accuracy: 97.13% 

Test Accuracy: 96.99% 


 | Global Training Round : 22 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.002165800891816616
 benign empirical indicaor res is  0.002165800891816616
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 43, 44, 45, 46, 47, 49, 8, 9, 11, 12, 14]
 
Avg Training Stats after 22 global rounds:
Train Accuracy: 96.59% 

Test Accuracy: 96.40% 


 | Global Training Round : 23 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0023837508633732796
 benign empirical indicaor res is  0.0023837508633732796
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 2, 4, 5, 6, 7, 40, 41, 43, 44, 45, 46, 47, 48, 49]
 
Avg Training Stats after 23 global rounds:
Train Accuracy: 96.86% 

Test Accuracy: 97.08% 


 | Global Training Round : 24 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0025451022665947676
 benign empirical indicaor res is  0.0025451022665947676
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 16, 17, 18, 19, 21, 23, 8, 9, 11, 12, 15]
 
Avg Training Stats after 24 global rounds:
Train Accuracy: 97.35% 

Test Accuracy: 97.51% 


 | Global Training Round : 25 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.00015088172222021967
 benign empirical indicaor res is  0.00015088172222021967
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 43, 44, 45, 46, 47, 48, 49, 32, 34, 36, 37, 39]
 
Avg Training Stats after 25 global rounds:
Train Accuracy: 97.13% 

Test Accuracy: 97.01% 


 | Global Training Round : 26 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0006179166957736015
 benign empirical indicaor res is  0.0006179166957736015
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 43, 44, 45, 46, 47, 48, 8, 9, 11, 13, 14, 15]
 
Avg Training Stats after 26 global rounds:
Train Accuracy: 97.48% 

Test Accuracy: 97.54% 


 | Global Training Round : 27 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.002715193899348378
 benign empirical indicaor res is  0.002715193899348378
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 17, 18, 19, 21]
 
Avg Training Stats after 27 global rounds:
Train Accuracy: 97.47% 

Test Accuracy: 97.60% 


 | Global Training Round : 28 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0017908195732161403
 benign empirical indicaor res is  0.0017908195732161403
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 24, 25, 26, 27, 28, 30, 31, 8, 11, 12, 14, 15]
 
Avg Training Stats after 28 global rounds:
Train Accuracy: 97.04% 

Test Accuracy: 97.17% 


 | Global Training Round : 29 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0006488566286861897
 benign empirical indicaor res is  0.0006488566286861897
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 43, 44, 45, 46, 47, 49]
 
Avg Training Stats after 29 global rounds:
Train Accuracy: 97.36% 

Test Accuracy: 97.42% 


 | Global Training Round : 30 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0023401968646794558
 benign empirical indicaor res is  0.0023401968646794558
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 34, 35, 36, 37, 39, 17, 18, 19, 20, 21, 8, 9, 11, 12, 13, 15]
 
Avg Training Stats after 30 global rounds:
Train Accuracy: 97.66% 

Test Accuracy: 97.57% 


 | Global Training Round : 31 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
poisoned accuracy threshold is  0.8257000001570007
distance ratio is <class 'float'>
len of model dicts is  10
compute distance is  tensor(26.6653, device='cuda:3')
compute distance is  tensor(30.3057, device='cuda:3')
compute distance is  tensor(43.5963, device='cuda:3')
compute distance is  tensor(46.8230, device='cuda:3')
compute distance is  tensor(36.5567, device='cuda:3')
compute distance is  tensor(21.8834, device='cuda:3')
compute distance is  tensor(53.8407, device='cuda:3')
compute distance is  tensor(37.8543, device='cuda:3')
compute distance is  tensor(61.2911, device='cuda:3')
compute distance is  tensor(57.0257, device='cuda:3')
calculated distance threshold is  tensor(60.8970, device='cuda:3')
pinned_accuracy threshold is  0.8257000001570007
====================
iteration is  0
round is  0
accuracy is  0.45183333348967497
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.3249666668230067
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.33861666682300695
====================
====================
iteration is  1
round is  0
accuracy is  0.32166666682300654
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.30071666682300624
====================
succ_min + 1
________________________________
test distance is  tensor(4283.9038, device='cuda:3')
test acc is  0.30071666682300624
test entropy is  0.2807056223596337
________________________________
diff is  tensor(44.7339, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3790, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.2944, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5426, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.3126, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0517, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3353, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2540, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4223.0068, device='cuda:3')
sum is tensor(0.2540, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6330, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1757, device='cuda:3', dtype=torch.float64)
sum is tensor(3.2274, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5628, device='cuda:3', dtype=torch.float64)
sum is tensor(68.2967, device='cuda:3', dtype=torch.float64)
sum is tensor(642.5911, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.9037, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0167, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.3126, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.7339, device='cuda:3')
discard
cal diff is tensor(0.3790, device='cuda:3')
discard
cal diff is tensor(574.2944, device='cuda:3')
discard
cal diff is tensor(0.5426, device='cuda:3')
discard
cal diff is tensor(3641.3125, device='cuda:3')
discard
cal diff is tensor(2.0517, device='cuda:3')
discard
cal diff is tensor(20.3353, device='cuda:3')
discard
cal diff is tensor(0.2540, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9749166668229855
test entropy is  0.11849541316178244
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.11849541316178244
avg test loss is  0.08180238763222904
avg accuracy is  0.9749166668229855
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.28545163098428805
avg test loss is  6.737551936716922
avg accuracy is  0.30635000015633973
compute_distance is  tensor(95.8356, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(95.8356, device='cuda:3')
test acc is  0.30635000015633973
test entropy is  0.28545163098428805
________________________________
diff is  tensor(0.7810, device='cuda:3')
diff is  tensor(0.0094, device='cuda:3')
diff is  tensor(14.6031, device='cuda:3')
diff is  tensor(0.0143, device='cuda:3')
diff is  tensor(79.9190, device='cuda:3')
diff is  tensor(0.0381, device='cuda:3')
diff is  tensor(0.4584, device='cuda:3')
diff is  tensor(0.0037, device='cuda:3')
threshold is  tensor(34.9386, device='cuda:3')
sum is tensor(0.0037, device='cuda:3')
sum is tensor(0.0131, device='cuda:3')
sum is tensor(0.0274, device='cuda:3')
sum is tensor(0.0654, device='cuda:3')
sum is tensor(0.5239, device='cuda:3')
sum is tensor(1.3048, device='cuda:3')
sum is tensor(15.9080, device='cuda:3')
sum is tensor(95.8269, device='cuda:3')
ratio is tensor(0.7619, device='cuda:3')
threshold is tensor(79.9190, device='cuda:3')
cal diff is tensor(0.7810, device='cuda:3')
discard
cal diff is tensor(0.0094, device='cuda:3')
discard
cal diff is tensor(14.6031, device='cuda:3')
discard
cal diff is tensor(0.0143, device='cuda:3')
discard
cal diff is tensor(79.9190, device='cuda:3')
clipping
cal diff is tensor(0.0381, device='cuda:3')
discard
cal diff is tensor(0.4584, device='cuda:3')
discard
cal diff is tensor(0.0037, device='cuda:3')
discard
________________________________
test distance is  tensor(60.8969, device='cuda:3')
test acc is  0.689616666822998
test entropy is  0.3934560032573336
________________________________
new distance ratio is 0.99
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 2, 4, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
 
Avg Training Stats after 31 global rounds:
Train Accuracy: 91.24% 

Test Accuracy: 90.49% 


 | Global Training Round : 32 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.001638678484596312
attack res is False
len of model dicts is  10
compute distance is  tensor(26.7650, device='cuda:3')
compute distance is  tensor(67.2732, device='cuda:3')
compute distance is  tensor(74.3638, device='cuda:3')
compute distance is  tensor(58.2513, device='cuda:3')
compute distance is  tensor(36.0664, device='cuda:3')
compute distance is  tensor(18.2201, device='cuda:3')
compute distance is  tensor(53.0704, device='cuda:3')
compute distance is  tensor(87.5507, device='cuda:3')
compute distance is  tensor(75.9121, device='cuda:3')
compute distance is  tensor(66.5000, device='cuda:3')
calculated distance threshold is  tensor(80.6176, device='cuda:3')
pinned_accuracy threshold is  0.8257000001570007
====================
iteration is  0
round is  0
accuracy is  0.13486666682299858
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.27855000015633896
====================
====================
iteration is  0
round is  2
accuracy is  0.2867166668230059
====================
====================
iteration is  1
round is  0
accuracy is  0.10645000015633196
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.12720000015633193
====================
________________________________
test distance is  tensor(4284.1372, device='cuda:3')
test acc is  0.10645000015633196
test entropy is  0.0448728899227213
________________________________
diff is  tensor(43.8754, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3727, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.0799, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5046, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.7522, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0445, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3237, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1839, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4203.5195, device='cuda:3')
sum is tensor(0.1839, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5566, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0612, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1057, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4294, device='cuda:3', dtype=torch.float64)
sum is tensor(67.3048, device='cuda:3', dtype=torch.float64)
sum is tensor(641.3847, device='cuda:3', dtype=torch.float64)
sum is tensor(4284.1370, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0221, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.7522, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.8754, device='cuda:3')
discard
cal diff is tensor(0.3727, device='cuda:3')
discard
cal diff is tensor(574.0798, device='cuda:3')
discard
cal diff is tensor(0.5046, device='cuda:3')
discard
cal diff is tensor(3642.7524, device='cuda:3')
clipping
cal diff is tensor(2.0445, device='cuda:3')
discard
cal diff is tensor(20.3237, device='cuda:3')
discard
cal diff is tensor(0.1839, device='cuda:3')
discard
________________________________
test distance is  tensor(80.6277, device='cuda:3')
test acc is  0.8991333334896547
test entropy is  0.2384588449224353
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(80.6174, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0101, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0165, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(80.6174, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(1.3385, device='cuda:3')
test acc is  0.899366666822988
test entropy is  0.23756354283104572
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.23756354283104572
avg test loss is  0.3046458304277869
avg accuracy is  0.899366666822988
compute_distance is  tensor(1.3385, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.023885470157343228
avg test loss is  12.458762132282704
avg accuracy is  0.10028333348966531
compute_distance is  tensor(78.2054, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(78.2054, device='cuda:3')
test acc is  0.10028333348966531
test entropy is  0.023885470157343228
________________________________
new distance ratio is 0.8999999999999999
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 26, 27, 28, 29, 30, 9, 11, 12, 13, 15]
 
Avg Training Stats after 32 global rounds:
Train Accuracy: 90.54% 

Test Accuracy: 89.22% 


 | Global Training Round : 33 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0017753327265381813
attack res is False
len of model dicts is  10
compute distance is  tensor(28.6434, device='cuda:3')
compute distance is  tensor(89.3068, device='cuda:3')
compute distance is  tensor(78.2195, device='cuda:3')
compute distance is  tensor(41.3700, device='cuda:3')
compute distance is  tensor(41.7479, device='cuda:3')
compute distance is  tensor(22.1346, device='cuda:3')
compute distance is  tensor(58.3852, device='cuda:3')
compute distance is  tensor(108.0022, device='cuda:3')
compute distance is  tensor(80.4689, device='cuda:3')
compute distance is  tensor(64.0561, device='cuda:3')
calculated distance threshold is  tensor(92.3899, device='cuda:3')
pinned_accuracy threshold is  0.8257000001570007
====================
iteration is  0
round is  0
accuracy is  0.16483333348966756
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2951666668230061
====================
====================
iteration is  0
round is  2
accuracy is  0.1382500001563321
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.1536166668230001
====================
====================
iteration is  1
round is  1
accuracy is  0.09975000015633198
====================
succ_min + 1
________________________________
test distance is  tensor(4281.7632, device='cuda:3')
test acc is  0.09975000015633198
test entropy is  0.0014359236917675796
________________________________
diff is  tensor(44.1419, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4088, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.1321, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4969, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.0505, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0374, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2842, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2109, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4189.3730, device='cuda:3')
sum is tensor(0.2109, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6198, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1167, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1541, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4383, device='cuda:3', dtype=torch.float64)
sum is tensor(67.5802, device='cuda:3', dtype=torch.float64)
sum is tensor(640.7123, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.7628, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0254, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.0505, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.1419, device='cuda:3')
discard
cal diff is tensor(0.4088, device='cuda:3')
discard
cal diff is tensor(573.1321, device='cuda:3')
discard
cal diff is tensor(0.4969, device='cuda:3')
discard
cal diff is tensor(3641.0505, device='cuda:3')
discard
cal diff is tensor(2.0374, device='cuda:3')
discard
cal diff is tensor(20.2842, device='cuda:3')
discard
cal diff is tensor(0.2109, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.8896333334896551
test entropy is  0.21049415975459604
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.21049415975459604
avg test loss is  0.3567729697528996
avg accuracy is  0.8896333334896551
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  8.706218738837772e-05
avg test loss is  18.94924457444311
avg accuracy is  0.09930000015633199
compute_distance is  tensor(65.2665, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(65.2665, device='cuda:3')
test acc is  0.09930000015633199
test entropy is  8.706218738837772e-05
________________________________
new distance ratio is 0.818181818181818
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 17, 18, 19, 20, 21]
 
Avg Training Stats after 33 global rounds:
Train Accuracy: 63.60% 

Test Accuracy: 63.47% 


 | Global Training Round : 34 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0013687688624486327
attack res is False
len of model dicts is  10
compute distance is  tensor(92.5627, device='cuda:3')
compute distance is  tensor(187.1648, device='cuda:3')
compute distance is  tensor(115.0200, device='cuda:3')
compute distance is  tensor(126.9196, device='cuda:3')
compute distance is  tensor(96.4787, device='cuda:3')
compute distance is  tensor(87.8028, device='cuda:3')
compute distance is  tensor(107.1064, device='cuda:3')
compute distance is  tensor(154.8024, device='cuda:3')
compute distance is  tensor(75.6767, device='cuda:3')
compute distance is  tensor(97.8224, device='cuda:3')
calculated distance threshold is  tensor(158.6017, device='cuda:3')
pinned_accuracy threshold is  0.8257000001570007
====================
iteration is  0
round is  0
accuracy is  0.09998333348966532
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.15558333348966688
====================
====================
iteration is  0
round is  2
accuracy is  0.10238333348966532
====================
====================
iteration is  1
round is  0
accuracy is  0.1060833334896653
====================
====================
iteration is  1
round is  1
accuracy is  0.09998333348966532
====================
________________________________
test distance is  tensor(4282.6172, device='cuda:3')
test acc is  0.09998333348966532
test entropy is  0.0015843605068604075
________________________________
diff is  tensor(43.3553, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3872, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.8495, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5272, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.9505, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0349, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3360, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1768, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4124.0156, device='cuda:3')
sum is tensor(0.1768, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5640, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0911, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1261, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4620, device='cuda:3', dtype=torch.float64)
sum is tensor(66.8174, device='cuda:3', dtype=torch.float64)
sum is tensor(640.6668, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.6173, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0435, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.9505, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.3553, device='cuda:3')
discard
cal diff is tensor(0.3872, device='cuda:3')
discard
cal diff is tensor(573.8494, device='cuda:3')
discard
cal diff is tensor(0.5272, device='cuda:3')
discard
cal diff is tensor(3641.9504, device='cuda:3')
discard
cal diff is tensor(2.0349, device='cuda:3')
discard
cal diff is tensor(20.3360, device='cuda:3')
discard
cal diff is tensor(0.1768, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.6227833334896693
test entropy is  0.3057738504430124
________________________________
new distance ratio is 0.7438016528925617
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 10, 11, 12, 14, 15]
 
Avg Training Stats after 34 global rounds:
Train Accuracy: 95.03% 

Test Accuracy: 94.30% 


 | Global Training Round : 35 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0009005582542158663
attack res is False
len of model dicts is  10
compute distance is  tensor(36.2691, device='cuda:3')
compute distance is  tensor(54.5736, device='cuda:3')
compute distance is  tensor(55.9478, device='cuda:3')
compute distance is  tensor(45.1631, device='cuda:3')
compute distance is  tensor(34.1516, device='cuda:3')
compute distance is  tensor(31.5628, device='cuda:3')
compute distance is  tensor(57.2776, device='cuda:3')
compute distance is  tensor(58.2610, device='cuda:3')
compute distance is  tensor(64.8992, device='cuda:3')
compute distance is  tensor(63.1685, device='cuda:3')
calculated distance threshold is  tensor(54.1043, device='cuda:3')
pinned_accuracy threshold is  0.8257000001570007
====================
iteration is  0
round is  0
accuracy is  0.1284666668229986
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.4014000001563411
====================
====================
iteration is  0
round is  2
accuracy is  0.14540000015633278
====================
====================
iteration is  1
round is  0
accuracy is  0.36830000015634073
====================
====================
iteration is  1
round is  1
accuracy is  0.36141666682300727
====================
________________________________
test distance is  tensor(4284.0562, device='cuda:3')
test acc is  0.1284666668229986
test entropy is  0.11151658322241133
________________________________
diff is  tensor(43.9839, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3850, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.4999, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5362, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.0559, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0340, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3441, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2166, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4229.9517, device='cuda:3')
sum is tensor(0.2166, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6016, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1378, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1718, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5160, device='cuda:3', dtype=torch.float64)
sum is tensor(67.4998, device='cuda:3', dtype=torch.float64)
sum is tensor(641.9997, device='cuda:3', dtype=torch.float64)
sum is tensor(4284.0556, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0149, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.0559, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.9839, device='cuda:3')
discard
cal diff is tensor(0.3850, device='cuda:3')
discard
cal diff is tensor(574.4999, device='cuda:3')
discard
cal diff is tensor(0.5362, device='cuda:3')
discard
cal diff is tensor(3642.0557, device='cuda:3')
discard
cal diff is tensor(2.0340, device='cuda:3')
discard
cal diff is tensor(20.3441, device='cuda:3')
discard
cal diff is tensor(0.2166, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9410166668229866
test entropy is  0.20231255531501668
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.20231255531501668
avg test loss is  0.1778266477301272
avg accuracy is  0.9410166668229866
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.08575324435482051
avg test loss is  9.21173582148196
avg accuracy is  0.10410000015633199
compute_distance is  tensor(85.9202, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(85.9202, device='cuda:3')
test acc is  0.10410000015633199
test entropy is  0.08575324435482051
________________________________
diff is  tensor(0.7735, device='cuda:3')
diff is  tensor(0.0067, device='cuda:3')
diff is  tensor(13.3051, device='cuda:3')
diff is  tensor(0.0132, device='cuda:3')
diff is  tensor(71.3327, device='cuda:3')
diff is  tensor(0.0351, device='cuda:3')
diff is  tensor(0.4442, device='cuda:3')
diff is  tensor(0.0032, device='cuda:3')
threshold is  tensor(31.8158, device='cuda:3')
sum is tensor(0.0032, device='cuda:3')
sum is tensor(0.0099, device='cuda:3')
sum is tensor(0.0232, device='cuda:3')
sum is tensor(0.0583, device='cuda:3')
sum is tensor(0.5025, device='cuda:3')
sum is tensor(1.2760, device='cuda:3')
sum is tensor(14.5811, device='cuda:3')
sum is tensor(85.9137, device='cuda:3')
ratio is tensor(0.7584, device='cuda:3')
threshold is tensor(71.3327, device='cuda:3')
cal diff is tensor(0.7735, device='cuda:3')
discard
cal diff is tensor(0.0067, device='cuda:3')
discard
cal diff is tensor(13.3051, device='cuda:3')
discard
cal diff is tensor(0.0132, device='cuda:3')
discard
cal diff is tensor(71.3327, device='cuda:3')
clipping
cal diff is tensor(0.0351, device='cuda:3')
discard
cal diff is tensor(0.4442, device='cuda:3')
discard
cal diff is tensor(0.0032, device='cuda:3')
discard
________________________________
test distance is  tensor(54.1031, device='cuda:3')
test acc is  0.663400000156333
test entropy is  0.3564625187342101
________________________________
new distance ratio is 0.6761833208114197
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 34, 37, 39]
 
Avg Training Stats after 35 global rounds:
Train Accuracy: 91.56% 

Test Accuracy: 90.67% 


 | Global Training Round : 36 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0007065936806611717
attack res is False
len of model dicts is  10
compute distance is  tensor(18.8018, device='cuda:3')
compute distance is  tensor(90.9307, device='cuda:3')
compute distance is  tensor(79.7939, device='cuda:3')
compute distance is  tensor(57.9531, device='cuda:3')
compute distance is  tensor(33.0276, device='cuda:3')
compute distance is  tensor(27.0213, device='cuda:3')
compute distance is  tensor(54.5663, device='cuda:3')
compute distance is  tensor(90.3906, device='cuda:3')
compute distance is  tensor(79.5136, device='cuda:3')
compute distance is  tensor(37.2615, device='cuda:3')
calculated distance threshold is  tensor(63.1403, device='cuda:3')
pinned_accuracy threshold is  0.8257000001570007
====================
iteration is  0
round is  0
accuracy is  0.2534000001563383
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.23733333348967117
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.40946666682300786
====================
====================
iteration is  1
round is  0
accuracy is  0.3621000001563406
====================
====================
iteration is  1
round is  1
accuracy is  0.33258333348967345
====================
________________________________
test distance is  tensor(4281.3696, device='cuda:3')
test acc is  0.23733333348967117
test entropy is  0.2713603313638966
________________________________
diff is  tensor(44.1260, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3608, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.6482, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5058, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.2765, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0609, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2112, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1799, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4218.2295, device='cuda:3')
sum is tensor(0.1799, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5407, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0465, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1074, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3186, device='cuda:3', dtype=torch.float64)
sum is tensor(67.4447, device='cuda:3', dtype=torch.float64)
sum is tensor(639.0929, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.3694, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0173, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.2765, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.1260, device='cuda:3')
discard
cal diff is tensor(0.3608, device='cuda:3')
discard
cal diff is tensor(571.6482, device='cuda:3')
discard
cal diff is tensor(0.5058, device='cuda:3')
discard
cal diff is tensor(3642.2764, device='cuda:3')
discard
cal diff is tensor(2.0609, device='cuda:3')
discard
cal diff is tensor(20.2112, device='cuda:3')
discard
cal diff is tensor(0.1799, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9034333334896546
test entropy is  0.2133993605481409
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2133993605481409
avg test loss is  0.28526595178475256
avg accuracy is  0.9034333334896546
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2925683169730945
avg test loss is  8.28446805604231
avg accuracy is  0.2579666668230052
compute_distance is  tensor(87.9263, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(87.9263, device='cuda:3')
test acc is  0.2579666668230052
test entropy is  0.2925683169730945
________________________________
diff is  tensor(0.7628, device='cuda:3')
diff is  tensor(0.0064, device='cuda:3')
diff is  tensor(14.5627, device='cuda:3')
diff is  tensor(0.0143, device='cuda:3')
diff is  tensor(72.1363, device='cuda:3')
diff is  tensor(0.0330, device='cuda:3')
diff is  tensor(0.3967, device='cuda:3')
diff is  tensor(0.0028, device='cuda:3')
threshold is  tensor(24.7860, device='cuda:3')
sum is tensor(0.0028, device='cuda:3')
sum is tensor(0.0091, device='cuda:3')
sum is tensor(0.0235, device='cuda:3')
sum is tensor(0.0564, device='cuda:3')
sum is tensor(0.4531, device='cuda:3')
sum is tensor(1.2159, device='cuda:3')
sum is tensor(15.7785, device='cuda:3')
sum is tensor(87.9148, device='cuda:3')
ratio is tensor(0.8751, device='cuda:3')
threshold is tensor(72.1363, device='cuda:3')
cal diff is tensor(0.7628, device='cuda:3')
discard
cal diff is tensor(0.0064, device='cuda:3')
discard
cal diff is tensor(14.5627, device='cuda:3')
discard
cal diff is tensor(0.0143, device='cuda:3')
discard
cal diff is tensor(72.1363, device='cuda:3')
clipping
cal diff is tensor(0.0330, device='cuda:3')
discard
cal diff is tensor(0.3967, device='cuda:3')
discard
cal diff is tensor(0.0028, device='cuda:3')
discard
________________________________
test distance is  tensor(63.1362, device='cuda:3')
test acc is  0.5464333334896756
test entropy is  0.47135131791837687
________________________________
new distance ratio is 0.6147121098285634
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 31, 18, 19, 20, 21, 8, 9, 10, 11, 12, 13, 15]
 
Avg Training Stats after 36 global rounds:
Train Accuracy: 93.85% 

Test Accuracy: 93.80% 


 | Global Training Round : 37 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0012740719830617309
attack res is False
len of model dicts is  10
compute distance is  tensor(26.5317, device='cuda:3')
compute distance is  tensor(66.2967, device='cuda:3')
compute distance is  tensor(85.7525, device='cuda:3')
compute distance is  tensor(53.4122, device='cuda:3')
compute distance is  tensor(29.4171, device='cuda:3')
compute distance is  tensor(35.6180, device='cuda:3')
compute distance is  tensor(57.4759, device='cuda:3')
compute distance is  tensor(74.3212, device='cuda:3')
compute distance is  tensor(58.9228, device='cuda:3')
compute distance is  tensor(70.3099, device='cuda:3')
calculated distance threshold is  tensor(59.6260, device='cuda:3')
pinned_accuracy threshold is  0.8257000001570007
====================
iteration is  0
round is  0
accuracy is  0.17768333348966847
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.27320000015633883
====================
====================
iteration is  0
round is  2
accuracy is  0.3365500001563402
====================
====================
iteration is  1
round is  0
accuracy is  0.2831500001563392
====================
====================
iteration is  1
round is  1
accuracy is  0.21478333348967033
====================
________________________________
test distance is  tensor(4280.5103, device='cuda:3')
test acc is  0.17768333348966847
test entropy is  0.19796107857942835
________________________________
diff is  tensor(44.0053, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3272, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.8000, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4881, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.3349, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0435, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2905, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2208, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4220.8843, device='cuda:3')
sum is tensor(0.2208, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5480, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0361, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0796, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3701, device='cuda:3', dtype=torch.float64)
sum is tensor(67.3754, device='cuda:3', dtype=torch.float64)
sum is tensor(639.1754, device='cuda:3', dtype=torch.float64)
sum is tensor(4280.5102, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0164, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.3349, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.0053, device='cuda:3')
discard
cal diff is tensor(0.3272, device='cuda:3')
discard
cal diff is tensor(571.8000, device='cuda:3')
discard
cal diff is tensor(0.4881, device='cuda:3')
discard
cal diff is tensor(3641.3350, device='cuda:3')
clipping
cal diff is tensor(2.0435, device='cuda:3')
discard
cal diff is tensor(20.2905, device='cuda:3')
discard
cal diff is tensor(0.2208, device='cuda:3')
discard
________________________________
test distance is  tensor(59.6362, device='cuda:3')
test acc is  0.9346166668229868
test entropy is  0.2264013166414268
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(59.6260, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0059, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(59.6260, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.3681, device='cuda:3')
test acc is  0.9349666668229869
test entropy is  0.22598073771322713
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.22598073771322713
avg test loss is  0.20211107938536513
avg accuracy is  0.9349666668229869
compute_distance is  tensor(0.3681, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2180459382040287
avg test loss is  8.280056662651013
avg accuracy is  0.17335000015633478
compute_distance is  tensor(79.2426, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(79.2426, device='cuda:3')
test acc is  0.17335000015633478
test entropy is  0.2180459382040287
________________________________
diff is  tensor(0.7235, device='cuda:3')
diff is  tensor(0.0062, device='cuda:3')
diff is  tensor(12.6277, device='cuda:3')
diff is  tensor(0.0125, device='cuda:3')
diff is  tensor(65.4663, device='cuda:3')
diff is  tensor(0.0287, device='cuda:3')
diff is  tensor(0.3622, device='cuda:3')
diff is  tensor(0.0028, device='cuda:3')
threshold is  tensor(19.6166, device='cuda:3')
sum is tensor(0.0028, device='cuda:3')
sum is tensor(0.0090, device='cuda:3')
sum is tensor(0.0215, device='cuda:3')
sum is tensor(0.0502, device='cuda:3')
sum is tensor(0.4124, device='cuda:3')
sum is tensor(1.1359, device='cuda:3')
sum is tensor(13.7637, device='cuda:3')
sum is tensor(79.2299, device='cuda:3')
ratio is tensor(0.9106, device='cuda:3')
threshold is tensor(65.4663, device='cuda:3')
cal diff is tensor(0.7235, device='cuda:3')
discard
cal diff is tensor(0.0062, device='cuda:3')
discard
cal diff is tensor(12.6277, device='cuda:3')
discard
cal diff is tensor(0.0125, device='cuda:3')
discard
cal diff is tensor(65.4663, device='cuda:3')
clipping
cal diff is tensor(0.0287, device='cuda:3')
discard
cal diff is tensor(0.3622, device='cuda:3')
discard
cal diff is tensor(0.0028, device='cuda:3')
discard
________________________________
test distance is  tensor(59.6217, device='cuda:3')
test acc is  0.4370333334896749
test entropy is  0.49719696900229465
________________________________
new distance ratio is 0.5588291907532394
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 2, 4, 5, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
 
Avg Training Stats after 37 global rounds:
Train Accuracy: 80.28% 

Test Accuracy: 78.92% 


 | Global Training Round : 38 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0024039889685809612
attack res is False
len of model dicts is  10
compute distance is  tensor(52.4194, device='cuda:3')
compute distance is  tensor(110.9904, device='cuda:3')
compute distance is  tensor(105.2002, device='cuda:3')
compute distance is  tensor(55.8020, device='cuda:3')
compute distance is  tensor(61.4163, device='cuda:3')
compute distance is  tensor(42.1518, device='cuda:3')
compute distance is  tensor(73.2511, device='cuda:3')
compute distance is  tensor(107.6710, device='cuda:3')
compute distance is  tensor(62.7557, device='cuda:3')
compute distance is  tensor(84.7722, device='cuda:3')
calculated distance threshold is  tensor(77.1236, device='cuda:3')
pinned_accuracy threshold is  0.8257000001570007
====================
iteration is  0
round is  0
accuracy is  0.24950000015633822
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.11158333348966529
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.22960000015633764
====================
====================
iteration is  1
round is  0
accuracy is  0.1636333334896675
====================
====================
iteration is  1
round is  1
accuracy is  0.2683166668230054
====================
________________________________
test distance is  tensor(4280.4082, device='cuda:3')
test acc is  0.11158333348966529
test entropy is  0.0855795780379476
________________________________
diff is  tensor(44.3457, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3458, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.8583, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5557, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.8941, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0201, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2073, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1812, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4203.2847, device='cuda:3')
sum is tensor(0.1812, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5270, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0827, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1029, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3101, device='cuda:3', dtype=torch.float64)
sum is tensor(67.6559, device='cuda:3', dtype=torch.float64)
sum is tensor(639.5141, device='cuda:3', dtype=torch.float64)
sum is tensor(4280.4082, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0212, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.8941, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.3457, device='cuda:3')
discard
cal diff is tensor(0.3458, device='cuda:3')
discard
cal diff is tensor(571.8583, device='cuda:3')
discard
cal diff is tensor(0.5557, device='cuda:3')
discard
cal diff is tensor(3640.8940, device='cuda:3')
discard
cal diff is tensor(2.0201, device='cuda:3')
discard
cal diff is tensor(20.2073, device='cuda:3')
discard
cal diff is tensor(0.1812, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.7858833334896594
test entropy is  0.420235202987311
________________________________
new distance ratio is 0.5080265370483995
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 2, 4, 5, 6, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 11, 12, 13, 14, 15]
 
Avg Training Stats after 38 global rounds:
Train Accuracy: 94.58% 

Test Accuracy: 94.00% 


 | Global Training Round : 39 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.003696930129081011
attack res is False
len of model dicts is  10
compute distance is  tensor(26.6314, device='cuda:3')
compute distance is  tensor(60.3487, device='cuda:3')
compute distance is  tensor(65.4724, device='cuda:3')
compute distance is  tensor(50.8727, device='cuda:3')
compute distance is  tensor(36.7158, device='cuda:3')
compute distance is  tensor(36.8427, device='cuda:3')
compute distance is  tensor(65.9341, device='cuda:3')
compute distance is  tensor(59.1588, device='cuda:3')
compute distance is  tensor(91.1694, device='cuda:3')
compute distance is  tensor(64.9602, device='cuda:3')
calculated distance threshold is  tensor(56.4378, device='cuda:3')
pinned_accuracy threshold is  0.8257000001570007
====================
iteration is  0
round is  0
accuracy is  0.32528333348967337
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.19433333348966933
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.4321000001563415
====================
====================
iteration is  1
round is  0
accuracy is  0.5064166668230088
====================
====================
iteration is  1
round is  1
accuracy is  0.24985000015633832
====================
________________________________
test distance is  tensor(4283.1401, device='cuda:3')
test acc is  0.19433333348966933
test entropy is  0.18536542388580757
________________________________
diff is  tensor(42.6063, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4002, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.8458, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4836, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.3844, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0114, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2196, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1888, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4226.7021, device='cuda:3')
sum is tensor(0.1888, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5890, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0726, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0841, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3037, device='cuda:3', dtype=torch.float64)
sum is tensor(65.9100, device='cuda:3', dtype=torch.float64)
sum is tensor(640.7558, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.1402, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0155, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.3844, device='cuda:3', dtype=torch.float64)
cal diff is tensor(42.6063, device='cuda:3')
discard
cal diff is tensor(0.4002, device='cuda:3')
discard
cal diff is tensor(574.8458, device='cuda:3')
discard
cal diff is tensor(0.4836, device='cuda:3')
discard
cal diff is tensor(3642.3845, device='cuda:3')
clipping
cal diff is tensor(2.0114, device='cuda:3')
discard
cal diff is tensor(20.2196, device='cuda:3')
discard
cal diff is tensor(0.1888, device='cuda:3')
discard
________________________________
test distance is  tensor(56.4483, device='cuda:3')
test acc is  0.93865000015632
test entropy is  0.2237424473089577
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(56.4381, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0105, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(56.4483, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(56.4381, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(56.4381, device='cuda:3')
discard
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9386666668229867
test entropy is  0.2241905694370712
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2241905694370712
avg test loss is  0.18620912354987568
avg accuracy is  0.9386666668229867
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.18452578523297553
avg test loss is  10.100111739213533
avg accuracy is  0.19910000015633622
compute_distance is  tensor(92.6346, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(92.6346, device='cuda:3')
test acc is  0.19910000015633622
test entropy is  0.18452578523297553
________________________________
diff is  tensor(0.9040, device='cuda:3')
diff is  tensor(0.0086, device='cuda:3')
diff is  tensor(15.9086, device='cuda:3')
diff is  tensor(0.0157, device='cuda:3')
diff is  tensor(75.3125, device='cuda:3')
diff is  tensor(0.0355, device='cuda:3')
diff is  tensor(0.4347, device='cuda:3')
diff is  tensor(0.0036, device='cuda:3')
threshold is  tensor(36.1968, device='cuda:3')
sum is tensor(0.0036, device='cuda:3')
sum is tensor(0.0122, device='cuda:3')
sum is tensor(0.0278, device='cuda:3')
sum is tensor(0.0633, device='cuda:3')
sum is tensor(0.4980, device='cuda:3')
sum is tensor(1.4020, device='cuda:3')
sum is tensor(17.3106, device='cuda:3')
sum is tensor(92.6231, device='cuda:3')
ratio is tensor(0.7492, device='cuda:3')
threshold is tensor(75.3125, device='cuda:3')
cal diff is tensor(0.9040, device='cuda:3')
discard
cal diff is tensor(0.0086, device='cuda:3')
discard
cal diff is tensor(15.9086, device='cuda:3')
discard
cal diff is tensor(0.0157, device='cuda:3')
discard
cal diff is tensor(75.3125, device='cuda:3')
clipping
cal diff is tensor(0.0355, device='cuda:3')
discard
cal diff is tensor(0.4347, device='cuda:3')
discard
cal diff is tensor(0.0036, device='cuda:3')
discard
________________________________
test distance is  tensor(56.4329, device='cuda:3')
test acc is  0.6993500001563308
test entropy is  0.4461570160348278
________________________________
new distance ratio is 0.4618423064076359
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 17, 18, 19, 20, 21]
 
Avg Training Stats after 39 global rounds:
Train Accuracy: 88.30% 

Test Accuracy: 86.44% 


 | Global Training Round : 40 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.004137247335165739
attack res is False
len of model dicts is  10
compute distance is  tensor(30.4010, device='cuda:3')
compute distance is  tensor(91.7207, device='cuda:3')
compute distance is  tensor(87.2489, device='cuda:3')
compute distance is  tensor(58.6606, device='cuda:3')
compute distance is  tensor(63.5236, device='cuda:3')
compute distance is  tensor(37.7007, device='cuda:3')
compute distance is  tensor(71.9908, device='cuda:3')
compute distance is  tensor(75.0689, device='cuda:3')
compute distance is  tensor(66.6711, device='cuda:3')
compute distance is  tensor(55.7595, device='cuda:3')
calculated distance threshold is  tensor(56.1464, device='cuda:3')
pinned_accuracy threshold is  0.8257000001570007
====================
iteration is  0
round is  0
accuracy is  0.28020000015633906
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.224566666823004
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.17553333348966826
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.2266500001563374
====================
====================
iteration is  1
round is  1
accuracy is  0.12595000015633193
====================
succ_min + 1
________________________________
test distance is  tensor(4283.1558, device='cuda:3')
test acc is  0.12595000015633193
test entropy is  0.11288142266637607
________________________________
diff is  tensor(43.0145, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3346, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.5915, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4368, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.2417, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9898, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3040, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2427, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4227.0093, device='cuda:3')
sum is tensor(0.2427, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5773, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0141, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0038, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3079, device='cuda:3', dtype=torch.float64)
sum is tensor(66.3224, device='cuda:3', dtype=torch.float64)
sum is tensor(640.9139, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.1556, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0154, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.2417, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.0145, device='cuda:3')
discard
cal diff is tensor(0.3346, device='cuda:3')
discard
cal diff is tensor(574.5915, device='cuda:3')
discard
cal diff is tensor(0.4368, device='cuda:3')
discard
cal diff is tensor(3642.2417, device='cuda:3')
discard
cal diff is tensor(1.9898, device='cuda:3')
discard
cal diff is tensor(20.3040, device='cuda:3')
discard
cal diff is tensor(0.2427, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.8615500001563229
test entropy is  0.28395539990810953
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.28395539990810953
avg test loss is  0.4064764650042123
avg accuracy is  0.8615500001563229
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.06878622364935907
avg test loss is  8.79548434560487
avg accuracy is  0.10841666682299864
compute_distance is  tensor(84.8914, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(84.8914, device='cuda:3')
test acc is  0.10841666682299864
test entropy is  0.06878622364935907
________________________________
diff is  tensor(0.8289, device='cuda:3')
diff is  tensor(0.0069, device='cuda:3')
diff is  tensor(12.2721, device='cuda:3')
diff is  tensor(0.0115, device='cuda:3')
diff is  tensor(71.3642, device='cuda:3')
diff is  tensor(0.0287, device='cuda:3')
diff is  tensor(0.3808, device='cuda:3')
diff is  tensor(0.0038, device='cuda:3')
threshold is  tensor(28.7449, device='cuda:3')
sum is tensor(0.0038, device='cuda:3')
sum is tensor(0.0107, device='cuda:3')
sum is tensor(0.0223, device='cuda:3')
sum is tensor(0.0509, device='cuda:3')
sum is tensor(0.4317, device='cuda:3')
sum is tensor(1.2606, device='cuda:3')
sum is tensor(13.5327, device='cuda:3')
sum is tensor(84.8969, device='cuda:3')
ratio is tensor(0.7868, device='cuda:3')
threshold is tensor(71.3642, device='cuda:3')
cal diff is tensor(0.8289, device='cuda:3')
discard
cal diff is tensor(0.0069, device='cuda:3')
discard
cal diff is tensor(12.2721, device='cuda:3')
discard
cal diff is tensor(0.0115, device='cuda:3')
discard
cal diff is tensor(71.3642, device='cuda:3')
clipping
cal diff is tensor(0.0287, device='cuda:3')
discard
cal diff is tensor(0.3808, device='cuda:3')
discard
cal diff is tensor(0.0038, device='cuda:3')
discard
________________________________
test distance is  tensor(56.1457, device='cuda:3')
test acc is  0.4742000001563418
test entropy is  0.4447148702800401
________________________________
new distance ratio is 0.4198566421887599
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 34, 37, 39, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 11, 12, 13, 15]
 
Avg Training Stats after 40 global rounds:
Train Accuracy: 96.04% 

Test Accuracy: 95.67% 


 | Global Training Round : 41 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.004140294622629881
attack res is False
len of model dicts is  10
compute distance is  tensor(27.0902, device='cuda:3')
compute distance is  tensor(51.7394, device='cuda:3')
compute distance is  tensor(61.2404, device='cuda:3')
compute distance is  tensor(24.5718, device='cuda:3')
compute distance is  tensor(29.4335, device='cuda:3')
compute distance is  tensor(19.3427, device='cuda:3')
compute distance is  tensor(63.0433, device='cuda:3')
compute distance is  tensor(41.9170, device='cuda:3')
compute distance is  tensor(73.4675, device='cuda:3')
compute distance is  tensor(90.9097, device='cuda:3')
calculated distance threshold is  tensor(46.6590, device='cuda:3')
pinned_accuracy threshold is  0.8257000001570007
====================
iteration is  0
round is  0
accuracy is  0.25545000015633845
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.26535000015633864
====================
====================
iteration is  0
round is  2
accuracy is  0.18335000015633543
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.23173333348967096
====================
====================
iteration is  1
round is  1
accuracy is  0.39306666682300767
====================
________________________________
test distance is  tensor(4281.0225, device='cuda:3')
test acc is  0.18335000015633543
test entropy is  0.1655882014585202
________________________________
diff is  tensor(43.0512, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3407, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.5307, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4956, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.8080, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0686, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.5056, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2216, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4234.3633, device='cuda:3')
sum is tensor(0.2216, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5623, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0579, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1265, device='cuda:3', dtype=torch.float64)
sum is tensor(23.6322, device='cuda:3', dtype=torch.float64)
sum is tensor(66.6834, device='cuda:3', dtype=torch.float64)
sum is tensor(639.2141, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.0221, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0128, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.8080, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.0512, device='cuda:3')
discard
cal diff is tensor(0.3407, device='cuda:3')
discard
cal diff is tensor(572.5308, device='cuda:3')
discard
cal diff is tensor(0.4956, device='cuda:3')
discard
cal diff is tensor(3641.8079, device='cuda:3')
discard
cal diff is tensor(2.0686, device='cuda:3')
discard
cal diff is tensor(20.5056, device='cuda:3')
discard
cal diff is tensor(0.2216, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9549000001563195
test entropy is  0.20375001611613008
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.20375001611613008
avg test loss is  0.1426421145696058
avg accuracy is  0.9549000001563195
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.14991975137229158
avg test loss is  7.892985150249782
avg accuracy is  0.1758166668230017
compute_distance is  tensor(83.6553, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(83.6553, device='cuda:3')
test acc is  0.1758166668230017
test entropy is  0.14991975137229158
________________________________
diff is  tensor(0.8508, device='cuda:3')
diff is  tensor(0.0073, device='cuda:3')
diff is  tensor(13.6641, device='cuda:3')
diff is  tensor(0.0121, device='cuda:3')
diff is  tensor(68.6902, device='cuda:3')
diff is  tensor(0.0294, device='cuda:3')
diff is  tensor(0.3833, device='cuda:3')
diff is  tensor(0.0031, device='cuda:3')
threshold is  tensor(36.9963, device='cuda:3')
sum is tensor(0.0031, device='cuda:3')
sum is tensor(0.0104, device='cuda:3')
sum is tensor(0.0225, device='cuda:3')
sum is tensor(0.0520, device='cuda:3')
sum is tensor(0.4352, device='cuda:3')
sum is tensor(1.2861, device='cuda:3')
sum is tensor(14.9502, device='cuda:3')
sum is tensor(83.6404, device='cuda:3')
ratio is tensor(0.6791, device='cuda:3')
threshold is tensor(68.6902, device='cuda:3')
cal diff is tensor(0.8508, device='cuda:3')
discard
cal diff is tensor(0.0073, device='cuda:3')
discard
cal diff is tensor(13.6641, device='cuda:3')
discard
cal diff is tensor(0.0121, device='cuda:3')
discard
cal diff is tensor(68.6902, device='cuda:3')
clipping
cal diff is tensor(0.0294, device='cuda:3')
discard
cal diff is tensor(0.3833, device='cuda:3')
discard
cal diff is tensor(0.0031, device='cuda:3')
discard
________________________________
test distance is  tensor(46.6530, device='cuda:3')
test acc is  0.7792833334896597
test entropy is  0.37697148477154246
________________________________
new distance ratio is 0.38168785653523624
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 2, 4, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
 
Avg Training Stats after 41 global rounds:
Train Accuracy: 87.26% 

Test Accuracy: 86.06% 


 | Global Training Round : 42 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.005392918828874826
attack res is True
len of model dicts is  10
compute distance is  tensor(32.5465, device='cuda:3')
compute distance is  tensor(138.7048, device='cuda:3')
compute distance is  tensor(128.5159, device='cuda:3')
compute distance is  tensor(86.7145, device='cuda:3')
compute distance is  tensor(28.7861, device='cuda:3')
compute distance is  tensor(55.6084, device='cuda:3')
compute distance is  tensor(59.6524, device='cuda:3')
compute distance is  tensor(129.8290, device='cuda:3')
compute distance is  tensor(92.0129, device='cuda:3')
compute distance is  tensor(97.1332, device='cuda:3')
calculated distance threshold is  tensor(74.9362, device='cuda:3')
pinned_accuracy threshold is  0.8257000001570007
====================
iteration is  0
round is  0
accuracy is  0.33063333348967333
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.24011666682300456
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.3351000001563401
====================
====================
iteration is  1
round is  0
accuracy is  0.2635833334896719
====================
====================
iteration is  1
round is  1
accuracy is  0.34865000015634035
====================
________________________________
test distance is  tensor(4285.0928, device='cuda:3')
test acc is  0.24011666682300456
test entropy is  0.24431709467030283
________________________________
diff is  tensor(45.1262, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3766, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.4088, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5194, device='cuda:3', dtype=torch.float64)
diff is  tensor(3643.1071, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9843, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3341, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2363, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4210.1567, device='cuda:3')
sum is tensor(0.2363, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6130, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1324, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1167, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4507, device='cuda:3', dtype=torch.float64)
sum is tensor(68.5769, device='cuda:3', dtype=torch.float64)
sum is tensor(641.9857, device='cuda:3', dtype=torch.float64)
sum is tensor(4285.0928, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0206, device='cuda:3', dtype=torch.float64)
threshold is tensor(3643.1071, device='cuda:3', dtype=torch.float64)
cal diff is tensor(45.1262, device='cuda:3')
discard
cal diff is tensor(0.3766, device='cuda:3')
discard
cal diff is tensor(573.4088, device='cuda:3')
discard
cal diff is tensor(0.5194, device='cuda:3')
discard
cal diff is tensor(3643.1069, device='cuda:3')
discard
cal diff is tensor(1.9843, device='cuda:3')
discard
cal diff is tensor(20.3341, device='cuda:3')
discard
cal diff is tensor(0.2363, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.8579333334896563
test entropy is  0.2806982433935727
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2806982433935727
avg test loss is  0.4564079884320561
avg accuracy is  0.8579333334896563
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2285798932475322
avg test loss is  7.903680078510536
avg accuracy is  0.26111666682300516
compute_distance is  tensor(88.1974, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(88.1974, device='cuda:3')
test acc is  0.26111666682300516
test entropy is  0.2285798932475322
________________________________
diff is  tensor(0.9048, device='cuda:3')
diff is  tensor(0.0070, device='cuda:3')
diff is  tensor(13.5451, device='cuda:3')
diff is  tensor(0.0126, device='cuda:3')
diff is  tensor(73.3073, device='cuda:3')
diff is  tensor(0.0292, device='cuda:3')
diff is  tensor(0.3754, device='cuda:3')
diff is  tensor(0.0029, device='cuda:3')
threshold is  tensor(13.2612, device='cuda:3')
sum is tensor(0.0029, device='cuda:3')
sum is tensor(0.0099, device='cuda:3')
sum is tensor(0.0225, device='cuda:3')
sum is tensor(0.0517, device='cuda:3')
sum is tensor(0.4271, device='cuda:3')
sum is tensor(1.3318, device='cuda:3')
sum is tensor(14.8769, device='cuda:3')
ratio is tensor(0.1193, device='cuda:3')
threshold is tensor(13.5451, device='cuda:3')
cal diff is tensor(0.9048, device='cuda:3')
discard
cal diff is tensor(0.0070, device='cuda:3')
discard
cal diff is tensor(13.5451, device='cuda:3')
clipping
cal diff is tensor(0.0126, device='cuda:3')
discard
cal diff is tensor(73.3073, device='cuda:3')
clipping
cal diff is tensor(0.0292, device='cuda:3')
discard
cal diff is tensor(0.3754, device='cuda:3')
discard
cal diff is tensor(0.0029, device='cuda:3')
discard
________________________________
test distance is  tensor(10.3681, device='cuda:3')
test acc is  0.8309166668229907
test entropy is  0.31194285257284576
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.31194285257284576
avg test loss is  0.5818540557329335
avg accuracy is  0.8309166668229907
compute_distance is  tensor(10.3681, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.23116049933821153
avg test loss is  7.946016454493313
avg accuracy is  0.26098333348967184
compute_distance is  tensor(91.9903, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(91.9903, device='cuda:3')
test acc is  0.26098333348967184
test entropy is  0.23116049933821153
________________________________
diff is  tensor(0.8974, device='cuda:3')
diff is  tensor(0.0066, device='cuda:3')
diff is  tensor(13.9972, device='cuda:3')
diff is  tensor(0.0114, device='cuda:3')
diff is  tensor(76.6786, device='cuda:3')
diff is  tensor(0.0269, device='cuda:3')
diff is  tensor(0.3550, device='cuda:3')
diff is  tensor(0.0027, device='cuda:3')
threshold is  tensor(17.0541, device='cuda:3')
sum is tensor(0.0027, device='cuda:3')
sum is tensor(0.0093, device='cuda:3')
sum is tensor(0.0207, device='cuda:3')
sum is tensor(0.0475, device='cuda:3')
sum is tensor(0.4025, device='cuda:3')
sum is tensor(1.2998, device='cuda:3')
sum is tensor(15.2971, device='cuda:3')
sum is tensor(91.9757, device='cuda:3')
ratio is tensor(0.9771, device='cuda:3')
threshold is tensor(76.6786, device='cuda:3')
cal diff is tensor(0.8974, device='cuda:3')
discard
cal diff is tensor(0.0066, device='cuda:3')
discard
cal diff is tensor(13.9972, device='cuda:3')
discard
cal diff is tensor(0.0114, device='cuda:3')
discard
cal diff is tensor(76.6786, device='cuda:3')
clipping
cal diff is tensor(0.0269, device='cuda:3')
discard
cal diff is tensor(0.3550, device='cuda:3')
discard
cal diff is tensor(0.0027, device='cuda:3')
discard
________________________________
test distance is  tensor(74.9300, device='cuda:3')
test acc is  0.4422333334896749
test entropy is  0.4562083890379619
________________________________
new distance ratio is 0.4198566421887599
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 17, 18, 19, 21, 8, 9, 11, 12, 13, 14, 15]
 
Avg Training Stats after 42 global rounds:
Train Accuracy: 93.75% 

Test Accuracy: 92.68% 


 | Global Training Round : 43 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007372529711574316
attack res is True
len of model dicts is  10
compute distance is  tensor(28.4804, device='cuda:3')
compute distance is  tensor(60.7479, device='cuda:3')
compute distance is  tensor(92.2968, device='cuda:3')
compute distance is  tensor(71.0241, device='cuda:3')
compute distance is  tensor(51.2356, device='cuda:3')
compute distance is  tensor(41.7913, device='cuda:3')
compute distance is  tensor(79.1337, device='cuda:3')
compute distance is  tensor(55.4807, device='cuda:3')
compute distance is  tensor(61.4370, device='cuda:3')
compute distance is  tensor(44.2459, device='cuda:3')
calculated distance threshold is  tensor(57.9535, device='cuda:3')
pinned_accuracy threshold is  0.8257000001570007
====================
iteration is  0
round is  0
accuracy is  0.22920000015633757
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.16990000015633452
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.2558166668230051
====================
====================
iteration is  1
round is  0
accuracy is  0.18308333348966882
====================
====================
iteration is  1
round is  1
accuracy is  0.2578500001563384
====================
________________________________
test distance is  tensor(4283.8823, device='cuda:3')
test acc is  0.16990000015633452
test entropy is  0.20332080128985935
________________________________
diff is  tensor(43.8596, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3396, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.4005, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5060, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.1081, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9677, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.4733, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2275, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4225.9287, device='cuda:3')
sum is tensor(0.2275, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5672, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0732, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0409, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5142, device='cuda:3', dtype=torch.float64)
sum is tensor(67.3738, device='cuda:3', dtype=torch.float64)
sum is tensor(641.7743, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.8824, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0159, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.1081, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.8596, device='cuda:3')
discard
cal diff is tensor(0.3396, device='cuda:3')
discard
cal diff is tensor(574.4005, device='cuda:3')
discard
cal diff is tensor(0.5060, device='cuda:3')
discard
cal diff is tensor(3642.1082, device='cuda:3')
clipping
cal diff is tensor(1.9677, device='cuda:3')
discard
cal diff is tensor(20.4733, device='cuda:3')
discard
cal diff is tensor(0.2275, device='cuda:3')
discard
________________________________
test distance is  tensor(57.9639, device='cuda:3')
test acc is  0.9232500001563205
test entropy is  0.273529350138041
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(57.9537, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0104, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(57.9639, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(57.9537, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(57.9537, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(57.9638, device='cuda:3')
test acc is  0.9232500001563205
test entropy is  0.27352922542421804
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(57.9535, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(2.3461e-05, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(57.9535, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9237000001563206
test entropy is  0.27346513388571203
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.27346513388571203
avg test loss is  0.228814707290548
avg accuracy is  0.9237000001563206
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.22433988951734388
avg test loss is  8.670327836770747
avg accuracy is  0.17333333348966815
compute_distance is  tensor(80.6546, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(80.6546, device='cuda:3')
test acc is  0.17333333348966815
test entropy is  0.22433988951734388
________________________________
diff is  tensor(0.8956, device='cuda:3')
diff is  tensor(0.0073, device='cuda:3')
diff is  tensor(13.5753, device='cuda:3')
diff is  tensor(0.0122, device='cuda:3')
diff is  tensor(65.7840, device='cuda:3')
diff is  tensor(0.0295, device='cuda:3')
diff is  tensor(0.3345, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(22.7011, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0103, device='cuda:3')
sum is tensor(0.0225, device='cuda:3')
sum is tensor(0.0520, device='cuda:3')
sum is tensor(0.3865, device='cuda:3')
sum is tensor(1.2821, device='cuda:3')
sum is tensor(14.8574, device='cuda:3')
sum is tensor(80.6414, device='cuda:3')
ratio is tensor(0.8808, device='cuda:3')
threshold is tensor(65.7840, device='cuda:3')
cal diff is tensor(0.8956, device='cuda:3')
discard
cal diff is tensor(0.0073, device='cuda:3')
discard
cal diff is tensor(13.5753, device='cuda:3')
discard
cal diff is tensor(0.0122, device='cuda:3')
discard
cal diff is tensor(65.7840, device='cuda:3')
clipping
cal diff is tensor(0.0295, device='cuda:3')
discard
cal diff is tensor(0.3345, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(57.9478, device='cuda:3')
test acc is  0.5415833334896757
test entropy is  0.43466316192134863
________________________________
new distance ratio is 0.4618423064076359
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 2, 4, 5, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
 
Avg Training Stats after 43 global rounds:
Train Accuracy: 73.05% 

Test Accuracy: 70.24% 


 | Global Training Round : 44 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.00901179388165474
attack res is True
len of model dicts is  10
compute distance is  tensor(46.6072, device='cuda:3')
compute distance is  tensor(147.9131, device='cuda:3')
compute distance is  tensor(93.2013, device='cuda:3')
compute distance is  tensor(123.3145, device='cuda:3')
compute distance is  tensor(81.4266, device='cuda:3')
compute distance is  tensor(64.9741, device='cuda:3')
compute distance is  tensor(72.3659, device='cuda:3')
compute distance is  tensor(124.0950, device='cuda:3')
compute distance is  tensor(81.8438, device='cuda:3')
compute distance is  tensor(119.8305, device='cuda:3')
calculated distance threshold is  tensor(98.0733, device='cuda:3')
pinned_accuracy threshold is  0.8257000001570007
====================
iteration is  0
round is  0
accuracy is  0.2146833334896703
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.16696666682300104
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.22210000015633732
====================
====================
iteration is  1
round is  0
accuracy is  0.1759833334896683
====================
====================
iteration is  1
round is  1
accuracy is  0.17490000015633492
====================
________________________________
test distance is  tensor(4282.4888, device='cuda:3')
test acc is  0.16696666682300104
test entropy is  0.18478123211403136
________________________________
diff is  tensor(44.0594, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3723, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.1402, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4988, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.6880, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0860, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.4188, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2257, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4184.4155, device='cuda:3')
sum is tensor(0.2257, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5979, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0967, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1827, device='cuda:3', dtype=torch.float64)
sum is tensor(23.6015, device='cuda:3', dtype=torch.float64)
sum is tensor(67.6609, device='cuda:3', dtype=torch.float64)
sum is tensor(640.8010, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.4890, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0269, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.6880, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.0594, device='cuda:3')
discard
cal diff is tensor(0.3723, device='cuda:3')
discard
cal diff is tensor(573.1401, device='cuda:3')
discard
cal diff is tensor(0.4988, device='cuda:3')
discard
cal diff is tensor(3641.6880, device='cuda:3')
discard
cal diff is tensor(2.0860, device='cuda:3')
discard
cal diff is tensor(20.4188, device='cuda:3')
discard
cal diff is tensor(0.2257, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.7031666668229973
test entropy is  0.3690458174898172
________________________________
new distance ratio is 0.5080265370483995
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 30, 31, 8, 10, 11, 12]
 
Avg Training Stats after 44 global rounds:
Train Accuracy: 94.86% 

Test Accuracy: 94.52% 


 | Global Training Round : 45 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.008554366417229176
attack res is True
len of model dicts is  10
compute distance is  tensor(21.7820, device='cuda:3')
compute distance is  tensor(58.0191, device='cuda:3')
compute distance is  tensor(66.5048, device='cuda:3')
compute distance is  tensor(64.6936, device='cuda:3')
compute distance is  tensor(28.8379, device='cuda:3')
compute distance is  tensor(29.1273, device='cuda:3')
compute distance is  tensor(64.2933, device='cuda:3')
compute distance is  tensor(65.0799, device='cuda:3')
compute distance is  tensor(68.9731, device='cuda:3')
compute distance is  tensor(70.6367, device='cuda:3')
calculated distance threshold is  tensor(49.0835, device='cuda:3')
pinned_accuracy threshold is  0.8257000001570007
====================
iteration is  0
round is  0
accuracy is  0.37188333348967406
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.24958333348967146
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.17453333348966824
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.17331666682300148
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.34140000015634026
====================
________________________________
test distance is  tensor(4282.7769, device='cuda:3')
test acc is  0.17331666682300148
test entropy is  0.2198786919575129
________________________________
diff is  tensor(44.3258, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3824, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.0733, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4969, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.9001, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0658, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3319, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2002, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4233.6934, device='cuda:3')
sum is tensor(0.2002, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5826, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0795, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1453, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4772, device='cuda:3', dtype=torch.float64)
sum is tensor(67.8029, device='cuda:3', dtype=torch.float64)
sum is tensor(641.8763, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.7764, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0135, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.9001, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.3258, device='cuda:3')
discard
cal diff is tensor(0.3824, device='cuda:3')
discard
cal diff is tensor(574.0734, device='cuda:3')
discard
cal diff is tensor(0.4969, device='cuda:3')
discard
cal diff is tensor(3640.8999, device='cuda:3')
discard
cal diff is tensor(2.0658, device='cuda:3')
discard
cal diff is tensor(20.3319, device='cuda:3')
discard
cal diff is tensor(0.2002, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9433666668229866
test entropy is  0.231330175365784
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.231330175365784
avg test loss is  0.1813318973659341
avg accuracy is  0.9433666668229866
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.22264297771206035
avg test loss is  7.711609226808365
avg accuracy is  0.14861666682299973
compute_distance is  tensor(93.7735, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(93.7735, device='cuda:3')
test acc is  0.14861666682299973
test entropy is  0.22264297771206035
________________________________
diff is  tensor(0.7329, device='cuda:3')
diff is  tensor(0.0066, device='cuda:3')
diff is  tensor(14.6264, device='cuda:3')
diff is  tensor(0.0149, device='cuda:3')
diff is  tensor(77.9033, device='cuda:3')
diff is  tensor(0.0337, device='cuda:3')
diff is  tensor(0.4382, device='cuda:3')
diff is  tensor(0.0042, device='cuda:3')
threshold is  tensor(44.6900, device='cuda:3')
sum is tensor(0.0042, device='cuda:3')
sum is tensor(0.0108, device='cuda:3')
sum is tensor(0.0257, device='cuda:3')
sum is tensor(0.0594, device='cuda:3')
sum is tensor(0.4976, device='cuda:3')
sum is tensor(1.2305, device='cuda:3')
sum is tensor(15.8569, device='cuda:3')
sum is tensor(93.7603, device='cuda:3')
ratio is tensor(0.6299, device='cuda:3')
threshold is tensor(77.9033, device='cuda:3')
cal diff is tensor(0.7329, device='cuda:3')
discard
cal diff is tensor(0.0066, device='cuda:3')
discard
cal diff is tensor(14.6264, device='cuda:3')
discard
cal diff is tensor(0.0149, device='cuda:3')
discard
cal diff is tensor(77.9033, device='cuda:3')
clipping
cal diff is tensor(0.0337, device='cuda:3')
discard
cal diff is tensor(0.4382, device='cuda:3')
discard
cal diff is tensor(0.0042, device='cuda:3')
discard
________________________________
test distance is  tensor(49.0787, device='cuda:3')
test acc is  0.7604833334896607
test entropy is  0.3890659882982911
________________________________
new distance ratio is 0.5588291907532396
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 34, 36, 37, 39, 17, 18, 19, 21, 22, 23]
 
Avg Training Stats after 45 global rounds:
Train Accuracy: 96.37% 

Test Accuracy: 96.51% 


 | Global Training Round : 46 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.008304614573717117
attack res is True
len of model dicts is  10
compute distance is  tensor(24.4462, device='cuda:3')
compute distance is  tensor(43.0392, device='cuda:3')
compute distance is  tensor(66.5821, device='cuda:3')
compute distance is  tensor(61.3931, device='cuda:3')
compute distance is  tensor(22.4902, device='cuda:3')
compute distance is  tensor(31.2935, device='cuda:3')
compute distance is  tensor(77.3353, device='cuda:3')
compute distance is  tensor(38.8777, device='cuda:3')
compute distance is  tensor(71.6961, device='cuda:3')
compute distance is  tensor(68.8815, device='cuda:3')
calculated distance threshold is  tensor(56.2041, device='cuda:3')
pinned_accuracy threshold is  0.8257000001570007
====================
iteration is  0
round is  0
accuracy is  0.21370000015633697
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.32056666682300666
====================
====================
iteration is  0
round is  2
accuracy is  0.24246666682300475
====================
====================
iteration is  1
round is  0
accuracy is  0.32200000015634
====================
====================
iteration is  1
round is  1
accuracy is  0.23716666682300463
====================
________________________________
test distance is  tensor(4283.6260, device='cuda:3')
test acc is  0.21370000015633697
test entropy is  0.12653628733954322
________________________________
diff is  tensor(44.4679, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3765, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.4921, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5120, device='cuda:3', dtype=torch.float64)
diff is  tensor(3643.3643, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0112, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.1963, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2058, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4227.4219, device='cuda:3')
sum is tensor(0.2058, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5822, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0943, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1055, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3017, device='cuda:3', dtype=torch.float64)
sum is tensor(67.7696, device='cuda:3', dtype=torch.float64)
sum is tensor(640.2618, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.6261, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0154, device='cuda:3', dtype=torch.float64)
threshold is tensor(3643.3643, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.4679, device='cuda:3')
discard
cal diff is tensor(0.3765, device='cuda:3')
discard
cal diff is tensor(572.4921, device='cuda:3')
discard
cal diff is tensor(0.5120, device='cuda:3')
discard
cal diff is tensor(3643.3643, device='cuda:3')
discard
cal diff is tensor(2.0112, device='cuda:3')
discard
cal diff is tensor(20.1963, device='cuda:3')
discard
cal diff is tensor(0.2058, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9618833334896527
test entropy is  0.1945749513749311
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.1945749513749311
avg test loss is  0.1271113123762598
avg accuracy is  0.9618833334896527
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.05648396929789549
avg test loss is  8.714479033118373
avg accuracy is  0.2011833334896698
compute_distance is  tensor(90.0779, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(90.0779, device='cuda:3')
test acc is  0.2011833334896698
test entropy is  0.05648396929789549
________________________________
diff is  tensor(0.8576, device='cuda:3')
diff is  tensor(0.0075, device='cuda:3')
diff is  tensor(15.6646, device='cuda:3')
diff is  tensor(0.0146, device='cuda:3')
diff is  tensor(73.0870, device='cuda:3')
diff is  tensor(0.0307, device='cuda:3')
diff is  tensor(0.3991, device='cuda:3')
diff is  tensor(0.0033, device='cuda:3')
threshold is  tensor(33.8737, device='cuda:3')
sum is tensor(0.0033, device='cuda:3')
sum is tensor(0.0108, device='cuda:3')
sum is tensor(0.0254, device='cuda:3')
sum is tensor(0.0561, device='cuda:3')
sum is tensor(0.4552, device='cuda:3')
sum is tensor(1.3128, device='cuda:3')
sum is tensor(16.9774, device='cuda:3')
sum is tensor(90.0644, device='cuda:3')
ratio is tensor(0.7688, device='cuda:3')
threshold is tensor(73.0870, device='cuda:3')
cal diff is tensor(0.8576, device='cuda:3')
discard
cal diff is tensor(0.0075, device='cuda:3')
discard
cal diff is tensor(15.6646, device='cuda:3')
discard
cal diff is tensor(0.0146, device='cuda:3')
discard
cal diff is tensor(73.0870, device='cuda:3')
clipping
cal diff is tensor(0.0307, device='cuda:3')
discard
cal diff is tensor(0.3991, device='cuda:3')
discard
cal diff is tensor(0.0033, device='cuda:3')
discard
________________________________
test distance is  tensor(56.1986, device='cuda:3')
test acc is  0.6643000001563331
test entropy is  0.43416801488984114
________________________________
new distance ratio is 0.6147121098285636
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 12, 14]
 
Avg Training Stats after 46 global rounds:
Train Accuracy: 92.05% 

Test Accuracy: 91.85% 


 | Global Training Round : 47 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.009870512410998344
attack res is True
len of model dicts is  10
compute distance is  tensor(23.9892, device='cuda:3')
compute distance is  tensor(58.2491, device='cuda:3')
compute distance is  tensor(69.6231, device='cuda:3')
compute distance is  tensor(42.7196, device='cuda:3')
compute distance is  tensor(32.3560, device='cuda:3')
compute distance is  tensor(25.2263, device='cuda:3')
compute distance is  tensor(90.6696, device='cuda:3')
compute distance is  tensor(69.0341, device='cuda:3')
compute distance is  tensor(75.7082, device='cuda:3')
compute distance is  tensor(74.1276, device='cuda:3')
calculated distance threshold is  tensor(69.0774, device='cuda:3')
pinned_accuracy threshold is  0.8257000001570007
====================
iteration is  0
round is  0
accuracy is  0.23543333348967108
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.28595000015633915
====================
====================
iteration is  0
round is  2
accuracy is  0.27801666682300563
====================
====================
iteration is  1
round is  0
accuracy is  0.27011666682300545
====================
====================
iteration is  1
round is  1
accuracy is  0.40231666682300776
====================
________________________________
test distance is  tensor(4283.4233, device='cuda:3')
test acc is  0.23543333348967108
test entropy is  0.42732325243924474
________________________________
diff is  tensor(44.8544, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3348, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.7828, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4897, device='cuda:3', dtype=torch.float64)
diff is  tensor(3643.2775, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0701, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3977, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2171, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4214.3462, device='cuda:3')
sum is tensor(0.2171, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5519, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0416, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1117, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5093, device='cuda:3', dtype=torch.float64)
sum is tensor(68.3637, device='cuda:3', dtype=torch.float64)
sum is tensor(640.1465, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.4240, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0190, device='cuda:3', dtype=torch.float64)
threshold is tensor(3643.2775, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.8544, device='cuda:3')
discard
cal diff is tensor(0.3348, device='cuda:3')
discard
cal diff is tensor(571.7828, device='cuda:3')
discard
cal diff is tensor(0.4897, device='cuda:3')
discard
cal diff is tensor(3643.2773, device='cuda:3')
discard
cal diff is tensor(2.0701, device='cuda:3')
discard
cal diff is tensor(20.3977, device='cuda:3')
discard
cal diff is tensor(0.2171, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9140000001563208
test entropy is  0.25358530873460555
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.25358530873460555
avg test loss is  0.25735197718868824
avg accuracy is  0.9140000001563208
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.46604372540326006
avg test loss is  4.835652836858591
avg accuracy is  0.22795000015633743
compute_distance is  tensor(93.4493, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(93.4493, device='cuda:3')
test acc is  0.22795000015633743
test entropy is  0.46604372540326006
________________________________
diff is  tensor(0.8209, device='cuda:3')
diff is  tensor(0.0077, device='cuda:3')
diff is  tensor(15.9194, device='cuda:3')
diff is  tensor(0.0159, device='cuda:3')
diff is  tensor(76.2641, device='cuda:3')
diff is  tensor(0.0314, device='cuda:3')
diff is  tensor(0.3762, device='cuda:3')
diff is  tensor(0.0027, device='cuda:3')
threshold is  tensor(24.3719, device='cuda:3')
sum is tensor(0.0027, device='cuda:3')
sum is tensor(0.0105, device='cuda:3')
sum is tensor(0.0263, device='cuda:3')
sum is tensor(0.0577, device='cuda:3')
sum is tensor(0.4339, device='cuda:3')
sum is tensor(1.2548, device='cuda:3')
sum is tensor(17.1742, device='cuda:3')
sum is tensor(93.4383, device='cuda:3')
ratio is tensor(0.9056, device='cuda:3')
threshold is tensor(76.2641, device='cuda:3')
cal diff is tensor(0.8209, device='cuda:3')
discard
cal diff is tensor(0.0077, device='cuda:3')
discard
cal diff is tensor(15.9194, device='cuda:3')
discard
cal diff is tensor(0.0159, device='cuda:3')
discard
cal diff is tensor(76.2641, device='cuda:3')
clipping
cal diff is tensor(0.0314, device='cuda:3')
discard
cal diff is tensor(0.3762, device='cuda:3')
discard
cal diff is tensor(0.0027, device='cuda:3')
discard
________________________________
test distance is  tensor(69.0735, device='cuda:3')
test acc is  0.7356833334896623
test entropy is  0.5506367489600232
________________________________
new distance ratio is 0.6761833208114201
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 1, 2, 4, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
 
Avg Training Stats after 47 global rounds:
Train Accuracy: 86.92% 

Test Accuracy: 87.10% 


 | Global Training Round : 48 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.010872917249798775
attack res is True
len of model dicts is  10
compute distance is  tensor(32.8533, device='cuda:3')
compute distance is  tensor(52.2740, device='cuda:3')
compute distance is  tensor(117.6768, device='cuda:3')
compute distance is  tensor(92.8401, device='cuda:3')
compute distance is  tensor(37.9195, device='cuda:3')
compute distance is  tensor(64.4741, device='cuda:3')
compute distance is  tensor(77.1690, device='cuda:3')
compute distance is  tensor(51.0511, device='cuda:3')
compute distance is  tensor(69.3226, device='cuda:3')
compute distance is  tensor(81.3403, device='cuda:3')
calculated distance threshold is  tensor(95.9452, device='cuda:3')
pinned_accuracy threshold is  0.8257000001570007
====================
iteration is  0
round is  0
accuracy is  0.18878333348966903
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.31878333348967325
====================
====================
iteration is  0
round is  2
accuracy is  0.2992833334896728
====================
====================
iteration is  1
round is  0
accuracy is  0.09896666682299866
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.35403333348967375
====================
________________________________
test distance is  tensor(4282.0254, device='cuda:3')
test acc is  0.09896666682299866
test entropy is  0.09802016439929065
________________________________
diff is  tensor(45.4765, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3470, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.0217, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5244, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.0257, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0268, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3728, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2305, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4186.0801, device='cuda:3')
sum is tensor(0.2305, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5776, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1020, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1288, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5016, device='cuda:3', dtype=torch.float64)
sum is tensor(68.9781, device='cuda:3', dtype=torch.float64)
sum is tensor(639.9998, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.0255, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0263, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.0257, device='cuda:3', dtype=torch.float64)
cal diff is tensor(45.4765, device='cuda:3')
discard
cal diff is tensor(0.3470, device='cuda:3')
discard
cal diff is tensor(571.0217, device='cuda:3')
discard
cal diff is tensor(0.5244, device='cuda:3')
discard
cal diff is tensor(3642.0259, device='cuda:3')
clipping
cal diff is tensor(2.0268, device='cuda:3')
discard
cal diff is tensor(20.3728, device='cuda:3')
discard
cal diff is tensor(0.2305, device='cuda:3')
discard
________________________________
test distance is  tensor(95.9557, device='cuda:3')
test acc is  0.8563333334896565
test entropy is  0.38119191552466675
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(95.9455, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0105, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(95.9557, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(95.9455, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(95.9455, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(95.9554, device='cuda:3')
test acc is  0.8563333334896565
test entropy is  0.38119207508464864
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(95.9452, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0004, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(95.9452, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0817, device='cuda:3')
test acc is  0.859300000156323
test entropy is  0.37957525191340113
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.37957525191340113
avg test loss is  0.40848018797332925
avg accuracy is  0.859300000156323
compute_distance is  tensor(0.0817, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.09119926435328814
avg test loss is  13.916555307058891
avg accuracy is  0.09473333348966535
compute_distance is  tensor(94.1351, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(94.1351, device='cuda:3')
test acc is  0.09473333348966535
test entropy is  0.09119926435328814
________________________________
new distance ratio is 0.7438016528925622
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 3, 4, 5, 6, 24, 25, 26, 27, 28, 29, 30, 31, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
 
Avg Training Stats after 48 global rounds:
Train Accuracy: 97.04% 

Test Accuracy: 97.48% 


 | Global Training Round : 49 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.011886103078722954
attack res is True
len of model dicts is  10
compute distance is  tensor(27.5666, device='cuda:3')
compute distance is  tensor(29.1195, device='cuda:3')
compute distance is  tensor(61.4972, device='cuda:3')
compute distance is  tensor(34.2161, device='cuda:3')
compute distance is  tensor(25.9971, device='cuda:3')
compute distance is  tensor(31.3077, device='cuda:3')
compute distance is  tensor(52.5409, device='cuda:3')
compute distance is  tensor(22.9386, device='cuda:3')
compute distance is  tensor(112.5799, device='cuda:3')
compute distance is  tensor(77.6116, device='cuda:3')
calculated distance threshold is  tensor(96.2814, device='cuda:3')
pinned_accuracy threshold is  0.8257000001570007
====================
iteration is  0
round is  0
accuracy is  0.20015000015633622
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.3177166668230066
====================
====================
iteration is  0
round is  2
accuracy is  0.36766666682300736
====================
====================
iteration is  1
round is  0
accuracy is  0.2999333334896729
====================
====================
iteration is  1
round is  1
accuracy is  0.41426666682300795
====================
________________________________
test distance is  tensor(4281.5273, device='cuda:3')
test acc is  0.20015000015633622
test entropy is  0.20213818604122602
________________________________
diff is  tensor(42.9941, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3709, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.5133, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4851, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.5166, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0172, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3877, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2423, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4185.2461, device='cuda:3')
sum is tensor(0.2423, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6132, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0983, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1155, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5032, device='cuda:3', dtype=torch.float64)
sum is tensor(66.4973, device='cuda:3', dtype=torch.float64)
sum is tensor(640.0106, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.5273, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0264, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.5166, device='cuda:3', dtype=torch.float64)
cal diff is tensor(42.9941, device='cuda:3')
discard
cal diff is tensor(0.3709, device='cuda:3')
discard
cal diff is tensor(573.5133, device='cuda:3')
discard
cal diff is tensor(0.4851, device='cuda:3')
discard
cal diff is tensor(3641.5166, device='cuda:3')
discard
cal diff is tensor(2.0172, device='cuda:3')
discard
cal diff is tensor(20.3877, device='cuda:3')
discard
cal diff is tensor(0.2423, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9727666668229856
test entropy is  0.17604659529510083
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.17604659529510083
avg test loss is  0.09824590004190231
avg accuracy is  0.9727666668229856
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.18216889801977285
avg test loss is  7.7535779008479
avg accuracy is  0.2049333334896698
compute_distance is  tensor(96.5164, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(96.5164, device='cuda:3')
test acc is  0.2049333334896698
test entropy is  0.18216889801977285
________________________________
diff is  tensor(0.9434, device='cuda:3')
diff is  tensor(0.0084, device='cuda:3')
diff is  tensor(16.4062, device='cuda:3')
diff is  tensor(0.0147, device='cuda:3')
diff is  tensor(78.6975, device='cuda:3')
diff is  tensor(0.0351, device='cuda:3')
diff is  tensor(0.3978, device='cuda:3')
diff is  tensor(0.0035, device='cuda:3')
threshold is  tensor(0.2350, device='cuda:3')
sum is tensor(0.0035, device='cuda:3')
sum is tensor(0.0119, device='cuda:3')
sum is tensor(0.0265, device='cuda:3')
sum is tensor(0.0616, device='cuda:3')
sum is tensor(0.4594, device='cuda:3')
ratio is tensor(0.5642, device='cuda:3')
threshold is tensor(0.3978, device='cuda:3')
cal diff is tensor(0.9434, device='cuda:3')
clipping
cal diff is tensor(0.0084, device='cuda:3')
discard
cal diff is tensor(16.4062, device='cuda:3')
clipping
cal diff is tensor(0.0147, device='cuda:3')
discard
cal diff is tensor(78.6975, device='cuda:3')
clipping
cal diff is tensor(0.0351, device='cuda:3')
discard
cal diff is tensor(0.3978, device='cuda:3')
clipping
cal diff is tensor(0.0035, device='cuda:3')
discard
________________________________
test distance is  tensor(54.4199, device='cuda:3')
test acc is  0.7055000001563304
test entropy is  0.43097855976776783
________________________________
new distance ratio is 0.8181818181818185
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 2, 4, 5, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
 
Avg Training Stats after 49 global rounds:
Train Accuracy: 90.49% 

Test Accuracy: 90.37% 


 | Global Training Round : 50 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.01196228340268135
attack res is True
len of model dicts is  10
compute distance is  tensor(42.9451, device='cuda:3')
compute distance is  tensor(66.3381, device='cuda:3')
compute distance is  tensor(99.4874, device='cuda:3')
compute distance is  tensor(60.8247, device='cuda:3')
compute distance is  tensor(58.1770, device='cuda:3')
compute distance is  tensor(53.7728, device='cuda:3')
compute distance is  tensor(65.8873, device='cuda:3')
compute distance is  tensor(60.3905, device='cuda:3')
compute distance is  tensor(68.8406, device='cuda:3')
compute distance is  tensor(83.8350, device='cuda:3')
calculated distance threshold is  tensor(93.8332, device='cuda:3')
pinned_accuracy threshold is  0.8257000001570007
====================
iteration is  0
round is  0
accuracy is  0.23545000015633774
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.17825000015633505
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.2669166668230053
====================
====================
iteration is  1
round is  0
accuracy is  0.4107500001563412
====================
====================
iteration is  1
round is  1
accuracy is  0.11525000015633195
====================
succ_min + 1
________________________________
test distance is  tensor(4283.2280, device='cuda:3')
test acc is  0.11525000015633195
test entropy is  0.0824348961334747
________________________________
diff is  tensor(44.8948, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4035, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.1491, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5273, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.6750, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0362, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3281, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2144, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4189.3950, device='cuda:3')
sum is tensor(0.2144, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6179, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1452, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1814, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5095, device='cuda:3', dtype=torch.float64)
sum is tensor(68.4043, device='cuda:3', dtype=torch.float64)
sum is tensor(642.5534, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.2285, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0258, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.6750, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.8948, device='cuda:3')
discard
cal diff is tensor(0.4035, device='cuda:3')
discard
cal diff is tensor(574.1491, device='cuda:3')
discard
cal diff is tensor(0.5273, device='cuda:3')
discard
cal diff is tensor(3640.6748, device='cuda:3')
discard
cal diff is tensor(2.0362, device='cuda:3')
discard
cal diff is tensor(20.3281, device='cuda:3')
discard
cal diff is tensor(0.2144, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.894833333489655
test entropy is  0.29630610670870555
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.29630610670870555
avg test loss is  0.2982422155794749
avg accuracy is  0.894833333489655
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.051283944436887115
avg test loss is  11.429773589949619
avg accuracy is  0.10626666682299864
compute_distance is  tensor(84.0295, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(84.0295, device='cuda:3')
test acc is  0.10626666682299864
test entropy is  0.051283944436887115
________________________________
new distance ratio is 0.9000000000000004
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 34, 36, 37, 39, 8, 9, 11, 12, 13, 15]
 
Avg Training Stats after 50 global rounds:
Train Accuracy: 95.37% 

Test Accuracy: 94.72% 

 
 Results after 50 global rounds of training:
|---- Avg testing Accuracy across each device's data: 95.37%
|----0th round Training Accuracy : 40.52%
|----1th round Training Accuracy : 62.83%
|----2th round Training Accuracy : 74.69%
|----3th round Training Accuracy : 88.53%
|----4th round Training Accuracy : 87.72%
|----5th round Training Accuracy : 91.04%
|----6th round Training Accuracy : 84.75%
|----7th round Training Accuracy : 90.04%
|----8th round Training Accuracy : 94.36%
|----9th round Training Accuracy : 93.97%
|----10th round Training Accuracy : 90.86%
|----11th round Training Accuracy : 94.14%
|----12th round Training Accuracy : 93.37%
|----13th round Training Accuracy : 96.18%
|----14th round Training Accuracy : 95.68%
|----15th round Training Accuracy : 95.02%
|----16th round Training Accuracy : 96.03%
|----17th round Training Accuracy : 96.60%
|----18th round Training Accuracy : 92.94%
|----19th round Training Accuracy : 96.97%
|----20th round Training Accuracy : 97.13%
|----21th round Training Accuracy : 96.59%
|----22th round Training Accuracy : 96.86%
|----23th round Training Accuracy : 97.35%
|----24th round Training Accuracy : 97.13%
|----25th round Training Accuracy : 97.48%
|----26th round Training Accuracy : 97.47%
|----27th round Training Accuracy : 97.04%
|----28th round Training Accuracy : 97.36%
|----29th round Training Accuracy : 97.66%
|----30th round Training Accuracy : 91.24%
|----31th round Training Accuracy : 90.54%
|----32th round Training Accuracy : 63.60%
|----33th round Training Accuracy : 95.03%
|----34th round Training Accuracy : 91.56%
|----35th round Training Accuracy : 93.85%
|----36th round Training Accuracy : 80.28%
|----37th round Training Accuracy : 94.58%
|----38th round Training Accuracy : 88.30%
|----39th round Training Accuracy : 96.04%
|----40th round Training Accuracy : 87.26%
|----41th round Training Accuracy : 93.75%
|----42th round Training Accuracy : 73.05%
|----43th round Training Accuracy : 94.86%
|----44th round Training Accuracy : 96.37%
|----45th round Training Accuracy : 92.05%
|----46th round Training Accuracy : 86.92%
|----47th round Training Accuracy : 97.04%
|----48th round Training Accuracy : 90.49%
|----49th round Training Accuracy : 95.37%
|----Final Test Accuracy: 94.72%
|----0th round Final Test Accuracy : 46.54%
|----1th round Final Test Accuracy : 63.34%
|----2th round Final Test Accuracy : 77.36%
|----3th round Final Test Accuracy : 88.21%
|----4th round Final Test Accuracy : 88.53%
|----5th round Final Test Accuracy : 90.37%
|----6th round Final Test Accuracy : 85.45%
|----7th round Final Test Accuracy : 90.07%
|----8th round Final Test Accuracy : 94.71%
|----9th round Final Test Accuracy : 93.62%
|----10th round Final Test Accuracy : 91.13%
|----11th round Final Test Accuracy : 94.36%
|----12th round Final Test Accuracy : 93.86%
|----13th round Final Test Accuracy : 96.22%
|----14th round Final Test Accuracy : 96.06%
|----15th round Final Test Accuracy : 95.13%
|----16th round Final Test Accuracy : 96.06%
|----17th round Final Test Accuracy : 96.26%
|----18th round Final Test Accuracy : 93.07%
|----19th round Final Test Accuracy : 96.74%
|----20th round Final Test Accuracy : 96.99%
|----21th round Final Test Accuracy : 96.40%
|----22th round Final Test Accuracy : 97.08%
|----23th round Final Test Accuracy : 97.51%
|----24th round Final Test Accuracy : 97.01%
|----25th round Final Test Accuracy : 97.54%
|----26th round Final Test Accuracy : 97.60%
|----27th round Final Test Accuracy : 97.17%
|----28th round Final Test Accuracy : 97.42%
|----29th round Final Test Accuracy : 97.57%
|----30th round Final Test Accuracy : 90.49%
|----31th round Final Test Accuracy : 89.22%
|----32th round Final Test Accuracy : 63.47%
|----33th round Final Test Accuracy : 94.30%
|----34th round Final Test Accuracy : 90.67%
|----35th round Final Test Accuracy : 93.80%
|----36th round Final Test Accuracy : 78.92%
|----37th round Final Test Accuracy : 94.00%
|----38th round Final Test Accuracy : 86.44%
|----39th round Final Test Accuracy : 95.67%
|----40th round Final Test Accuracy : 86.06%
|----41th round Final Test Accuracy : 92.68%
|----42th round Final Test Accuracy : 70.24%
|----43th round Final Test Accuracy : 94.52%
|----44th round Final Test Accuracy : 96.51%
|----45th round Final Test Accuracy : 91.85%
|----46th round Final Test Accuracy : 87.10%
|----47th round Final Test Accuracy : 97.48%
|----48th round Final Test Accuracy : 90.37%
|----49th round Final Test Accuracy : 94.72%

Experimental details:
    Dataset     : mnist
    Model     : cnn
    detailed Model     : vgg
    Optimizer : sgd
    Learning  : 0.01
    Global Rounds   : 50

    Federated parameters:
    Non-IID with common data
    balanced
    Fraction of users  : 0.2
    Local Batch size   : 10
    Local Epochs       : 5

    Attack ratio : 0.2
     Model attack is done!

 Total Run Time: 6303.4914
