
Experimental details:
    Dataset     : mnist
    Model     : cnn
    detailed Model     : vgg
    Optimizer : sgd
    Learning  : 0.01
    Global Rounds   : 80

    Federated parameters:
    Non-IID with common data
    balanced
    Fraction of users  : 0.2
    Local Batch size   : 10
    Local Epochs       : 5

    Attack ratio : 0.2
     Model attack is done!
attack user num is  10
 t is  8
attack_user is [40 41 42 43 44 45 46 47 48 49]

 | Global Training Round : 1 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1

Experimental details:
    Dataset     : mnist
    Model     : cnn
    detailed Model     : vgg
    Optimizer : sgd
    Learning  : 0.01
    Global Rounds   : 80

    Federated parameters:
    Non-IID with common data
    balanced
    Fraction of users  : 0.2
    Local Batch size   : 10
    Local Epochs       : 5

    Attack ratio : 0.2
     Model attack is done!
attack user num is  10
 t is  8
attack_user is [40 41 42 43 44 45 46 47 48 49]

 | Global Training Round : 1 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1

Experimental details:
    Dataset     : mnist
    Model     : cnn
    detailed Model     : vgg
    Optimizer : sgd
    Learning  : 0.01
    Global Rounds   : 80

    Federated parameters:
    Non-IID with common data
    balanced
    Fraction of users  : 0.2
    Local Batch size   : 10
    Local Epochs       : 5

    Attack ratio : 0.2
     Model attack is done!
attack user num is  10
 t is  8
attack_user is [40 41 42 43 44 45 46 47 48 49]

 | Global Training Round : 1 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
size fi is  torch.Size([32, 1, 5, 5])
size fi is  torch.Size([32, 1, 5, 5])
size fi is  torch.Size([32])
size fi is  torch.Size([32])

Experimental details:
    Dataset     : mnist
    Model     : cnn
    detailed Model     : vgg
    Optimizer : sgd
    Learning  : 0.01
    Global Rounds   : 80

    Federated parameters:
    Non-IID with common data
    balanced
    Fraction of users  : 0.2
    Local Batch size   : 10
    Local Epochs       : 5

    Attack ratio : 0.2
     Model attack is done!
attack user num is  10
 t is  8
attack_user is [40 41 42 43 44 45 46 47 48 49]

 | Global Training Round : 1 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0
 benign empirical indicaor res is  0.0
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 1, 2, 4, 5, 6, 7, 41, 42, 43, 44, 45, 46, 47, 48]
 
Avg Training Stats after 1 global rounds:
Train Accuracy: 40.63% 

Test Accuracy: 46.99% 


 | Global Training Round : 2 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.01159527339041233
 benign empirical indicaor res is  0.01159527339041233
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 3, 4, 5, 6, 7, 41, 42, 43, 44, 45, 46, 47, 48, 8, 10, 11, 12, 15]
 
Avg Training Stats after 2 global rounds:
Train Accuracy: 62.60% 

Test Accuracy: 64.65% 


 | Global Training Round : 3 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.012220675125718117
 benign empirical indicaor res is  0.012220675125718117
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 2, 3, 4, 5, 6, 7, 40, 41, 43, 44, 45, 46, 47, 48, 49, 17, 18, 19, 21, 23]
 
Avg Training Stats after 3 global rounds:
Train Accuracy: 85.50% 

Test Accuracy: 86.73% 


 | Global Training Round : 4 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.005212709773331881
 benign empirical indicaor res is  0.005212709773331881
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 28, 29, 30, 8, 9, 10, 11, 12, 13, 14, 15]
 
Avg Training Stats after 4 global rounds:
Train Accuracy: 90.75% 

Test Accuracy: 90.79% 


 | Global Training Round : 5 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.00844818726181984
 benign empirical indicaor res is  0.00844818726181984
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39]
left index is  [0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 36, 39]
 
Avg Training Stats after 5 global rounds:
Train Accuracy: 86.51% 

Test Accuracy: 87.63% 


 | Global Training Round : 6 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.005084989592432976
 benign empirical indicaor res is  0.005084989592432976
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 21, 8, 9, 10, 12, 13, 15]
 
Avg Training Stats after 6 global rounds:
Train Accuracy: 92.45% 

Test Accuracy: 92.16% 


 | Global Training Round : 7 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.007540429476648569
 benign empirical indicaor res is  0.007540429476648569
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47]
 
Avg Training Stats after 7 global rounds:
Train Accuracy: 84.27% 

Test Accuracy: 84.92% 


 | Global Training Round : 8 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.007231610827147961
 benign empirical indicaor res is  0.007231610827147961
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 2, 4, 5, 6, 7, 40, 41, 43, 44, 45, 46, 47, 48, 24, 25, 26, 28, 29, 30, 31, 8, 9, 11, 12, 13, 14, 15]
 
Avg Training Stats after 8 global rounds:
Train Accuracy: 91.75% 

Test Accuracy: 92.32% 


 | Global Training Round : 9 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0003820601850748062
 benign empirical indicaor res is  0.0003820601850748062
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 49, 16, 17, 18, 19, 21]
 
Avg Training Stats after 9 global rounds:
Train Accuracy: 94.16% 

Test Accuracy: 94.56% 


 | Global Training Round : 10 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.002585002686828375
 benign empirical indicaor res is  0.002585002686828375
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 43, 44, 45, 46, 47, 49, 32, 34, 36, 37, 39, 8, 9, 11, 12, 13, 14, 15]
 
Avg Training Stats after 10 global rounds:
Train Accuracy: 93.59% 

Test Accuracy: 93.16% 


 | Global Training Round : 11 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0023129170294851065
 benign empirical indicaor res is  0.0023129170294851065
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 43, 44, 45, 46, 47, 49]
 
Avg Training Stats after 11 global rounds:
Train Accuracy: 92.51% 

Test Accuracy: 92.85% 


 | Global Training Round : 12 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0038697600830346346
 benign empirical indicaor res is  0.0038697600830346346
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 43, 44, 45, 46, 47, 24, 25, 26, 27, 28, 29, 30, 31, 16, 17, 18, 19, 20, 21, 8, 9, 11, 12, 14, 15]
 
Avg Training Stats after 12 global rounds:
Train Accuracy: 95.27% 

Test Accuracy: 95.36% 


 | Global Training Round : 13 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0003417315019760281
 benign empirical indicaor res is  0.0003417315019760281
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 43, 44, 45, 46, 47, 49]
 
Avg Training Stats after 13 global rounds:
Train Accuracy: 95.03% 

Test Accuracy: 95.19% 


 | Global Training Round : 14 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0042274449951946735
 benign empirical indicaor res is  0.0042274449951946735
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 47, 48, 49, 8, 9, 11, 12, 15]
 
Avg Training Stats after 14 global rounds:
Train Accuracy: 95.88% 

Test Accuracy: 95.94% 


 | Global Training Round : 15 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0033486350439488888
 benign empirical indicaor res is  0.0033486350439488888
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 34, 36, 37, 39, 16, 17, 18, 19, 21, 23]
 
Avg Training Stats after 15 global rounds:
Train Accuracy: 96.16% 

Test Accuracy: 96.36% 


 | Global Training Round : 16 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  9.588259854353964e-05
 benign empirical indicaor res is  9.588259854353964e-05
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 24, 25, 26, 27, 28, 29, 30, 31, 8, 11, 12, 14, 15]
 
Avg Training Stats after 16 global rounds:
Train Accuracy: 95.38% 

Test Accuracy: 95.28% 


 | Global Training Round : 17 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0017624396132305264
 benign empirical indicaor res is  0.0017624396132305264
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 43, 44, 45, 46, 47, 49]
 
Avg Training Stats after 17 global rounds:
Train Accuracy: 96.08% 

Test Accuracy: 96.13% 


 | Global Training Round : 18 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0027373088523745537
 benign empirical indicaor res is  0.0027373088523745537
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 49, 16, 17, 18, 19, 20, 21, 23, 8, 11, 12, 14, 15]
 
Avg Training Stats after 18 global rounds:
Train Accuracy: 96.73% 

Test Accuracy: 96.57% 


 | Global Training Round : 19 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0016586559358984232
 benign empirical indicaor res is  0.0016586559358984232
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 49]
 
Avg Training Stats after 19 global rounds:
Train Accuracy: 95.17% 

Test Accuracy: 95.38% 


 | Global Training Round : 20 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0032347163651138544
 benign empirical indicaor res is  0.0032347163651138544
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 49, 32, 34, 36, 37, 39, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 11, 14, 15]
 
Avg Training Stats after 20 global rounds:
Train Accuracy: 96.66% 

Test Accuracy: 96.44% 


 | Global Training Round : 21 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0007020336342975497
 benign empirical indicaor res is  0.0007020336342975497
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 44, 45, 46, 47, 49, 16, 17, 18, 19, 20, 21, 23]
 
Avg Training Stats after 21 global rounds:
Train Accuracy: 97.15% 

Test Accuracy: 96.96% 


 | Global Training Round : 22 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0016905408119782805
 benign empirical indicaor res is  0.0016905408119782805
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 49, 8, 11, 12, 14]
 
Avg Training Stats after 22 global rounds:
Train Accuracy: 96.24% 

Test Accuracy: 95.98% 


 | Global Training Round : 23 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0028981876093894243
 benign empirical indicaor res is  0.0028981876093894243
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 43, 44, 45, 46, 47, 49]
 
Avg Training Stats after 23 global rounds:
Train Accuracy: 97.03% 

Test Accuracy: 96.89% 


 | Global Training Round : 24 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0028968043625354767
 benign empirical indicaor res is  0.0028968043625354767
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 2, 4, 6, 7, 40, 41, 42, 43, 44, 45, 47, 49, 24, 25, 26, 27, 28, 29, 30, 31, 16, 17, 18, 19, 21, 23, 8, 9, 11, 12, 13, 14, 15]
 
Avg Training Stats after 24 global rounds:
Train Accuracy: 97.35% 

Test Accuracy: 97.38% 


 | Global Training Round : 25 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.000808015582151711
 benign empirical indicaor res is  0.000808015582151711
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39]
left index is  [0, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 34, 36, 37, 39]
 
Avg Training Stats after 25 global rounds:
Train Accuracy: 97.11% 

Test Accuracy: 97.23% 


 | Global Training Round : 26 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0005007172585465014
 benign empirical indicaor res is  0.0005007172585465014
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 43, 44, 45, 46, 47, 49, 8, 9, 11, 12, 13, 15]
 
Avg Training Stats after 26 global rounds:
Train Accuracy: 97.13% 

Test Accuracy: 96.82% 


 | Global Training Round : 27 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0026828276459127665
 benign empirical indicaor res is  0.0026828276459127665
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 49, 16, 17, 18, 19, 21]
 
Avg Training Stats after 27 global rounds:
Train Accuracy: 97.14% 

Test Accuracy: 97.22% 


 | Global Training Round : 28 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.00146732188295573
 benign empirical indicaor res is  0.00146732188295573
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 43, 44, 45, 46, 47, 48, 24, 25, 26, 27, 28, 29, 30, 31, 8, 11, 12, 14, 15]
 
Avg Training Stats after 28 global rounds:
Train Accuracy: 96.79% 

Test Accuracy: 96.76% 


 | Global Training Round : 29 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0007179307867772877
 benign empirical indicaor res is  0.0007179307867772877
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 49]
 
Avg Training Stats after 29 global rounds:
Train Accuracy: 96.81% 

Test Accuracy: 96.65% 


 | Global Training Round : 30 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0019589837174862623
 benign empirical indicaor res is  0.0019589837174862623
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 49, 32, 34, 35, 36, 37, 39, 16, 17, 18, 19, 20, 21, 8, 9, 11, 12, 13, 14]
 
Avg Training Stats after 30 global rounds:
Train Accuracy: 97.73% 

Test Accuracy: 97.55% 


 | Global Training Round : 31 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.00019030286057386547
 benign empirical indicaor res is  0.00019030286057386547
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 47, 48, 49]
 
Avg Training Stats after 31 global rounds:
Train Accuracy: 97.53% 

Test Accuracy: 97.52% 


 | Global Training Round : 32 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.002381326397880912
 benign empirical indicaor res is  0.002381326397880912
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 24, 25, 26, 27, 28, 29, 30, 31, 8, 11, 12, 13]
 
Avg Training Stats after 32 global rounds:
Train Accuracy: 96.90% 

Test Accuracy: 97.07% 


 | Global Training Round : 33 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.00064953847322613
 benign empirical indicaor res is  0.00064953847322613
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 49, 16, 17, 18, 19, 20, 21]
 
Avg Training Stats after 33 global rounds:
Train Accuracy: 97.63% 

Test Accuracy: 97.65% 


 | Global Training Round : 34 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0011583933373913169
 benign empirical indicaor res is  0.0011583933373913169
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 44, 45, 46, 47, 48, 8, 11, 12, 13, 15]
 
Avg Training Stats after 34 global rounds:
Train Accuracy: 97.24% 

Test Accuracy: 97.06% 


 | Global Training Round : 35 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0021554918494075537
 benign empirical indicaor res is  0.0021554918494075537
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39]
left index is  [0, 2, 4, 5, 6, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 34, 36, 37, 38, 39]
 
Avg Training Stats after 35 global rounds:
Train Accuracy: 97.47% 

Test Accuracy: 97.43% 


 | Global Training Round : 36 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0006314588245004416
 benign empirical indicaor res is  0.0006314588245004416
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 2, 4, 5, 6, 7, 40, 41, 43, 44, 45, 46, 47, 49, 24, 25, 26, 27, 28, 29, 30, 31, 16, 17, 18, 19, 20, 21, 8, 10, 11, 12, 13, 14]
 
Avg Training Stats after 36 global rounds:
Train Accuracy: 97.99% 

Test Accuracy: 97.85% 


 | Global Training Round : 37 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0006764025310985744
 benign empirical indicaor res is  0.0006764025310985744
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47]
 
Avg Training Stats after 37 global rounds:
Train Accuracy: 97.12% 

Test Accuracy: 97.03% 


 | Global Training Round : 38 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0016704690642654896
 benign empirical indicaor res is  0.0016704690642654896
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 49, 8, 11, 12, 13, 15]
 
Avg Training Stats after 38 global rounds:
Train Accuracy: 97.80% 

Test Accuracy: 97.77% 


 | Global Training Round : 39 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0017009414732456207
 benign empirical indicaor res is  0.0017009414732456207
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 17, 18, 19, 20, 21]
 
Avg Training Stats after 39 global rounds:
Train Accuracy: 97.70% 

Test Accuracy: 97.80% 


 | Global Training Round : 40 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
compare_res is  0.0011465080315247178
 benign empirical indicaor res is  0.0011465080315247178
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 49, 32, 34, 36, 37, 39, 24, 25, 26, 27, 28, 29, 31, 8, 9, 11, 12, 14, 15]
 
Avg Training Stats after 40 global rounds:
Train Accuracy: 97.92% 

Test Accuracy: 97.92% 


 | Global Training Round : 41 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
poisoned accuracy threshold is  0.8292000001570009
distance ratio is <class 'float'>
len of model dicts is  10
compute distance is  tensor(17.9607, device='cuda:3')
compute distance is  tensor(33.8717, device='cuda:3')
compute distance is  tensor(55.8166, device='cuda:3')
compute distance is  tensor(29.2796, device='cuda:3')
compute distance is  tensor(26.3397, device='cuda:3')
compute distance is  tensor(25.9898, device='cuda:3')
compute distance is  tensor(31.3638, device='cuda:3')
compute distance is  tensor(32.8927, device='cuda:3')
compute distance is  tensor(82.9815, device='cuda:3')
compute distance is  tensor(26.3175, device='cuda:3')
calculated distance threshold is  tensor(82.3313, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.4514166668230083
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.36701666682300726
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.35520000015634057
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.34945000015634037
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.32065000015633993
====================
succ_min + 1
________________________________
test distance is  tensor(4283.9038, device='cuda:3')
test acc is  0.32065000015633993
test entropy is  0.29439900885385745
________________________________
diff is  tensor(44.7339, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3790, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.2944, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5426, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.3126, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0517, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3353, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2540, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4201.5723, device='cuda:3')
sum is tensor(0.2540, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6330, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1757, device='cuda:3', dtype=torch.float64)
sum is tensor(3.2274, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5628, device='cuda:3', dtype=torch.float64)
sum is tensor(68.2967, device='cuda:3', dtype=torch.float64)
sum is tensor(642.5911, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.9037, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0226, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.3126, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.7339, device='cuda:3')
discard
cal diff is tensor(0.3790, device='cuda:3')
discard
cal diff is tensor(574.2944, device='cuda:3')
discard
cal diff is tensor(0.5426, device='cuda:3')
discard
cal diff is tensor(3641.3125, device='cuda:3')
discard
cal diff is tensor(2.0517, device='cuda:3')
discard
cal diff is tensor(20.3353, device='cuda:3')
discard
cal diff is tensor(0.2540, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9781333334896521
test entropy is  0.10101352883542557
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.10101352883542557
avg test loss is  0.07126655958583956
avg accuracy is  0.9781333334896521
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3126428577342013
avg test loss is  6.360020041211581
avg accuracy is  0.32885000015634014
compute_distance is  tensor(94.7534, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(94.7534, device='cuda:3')
test acc is  0.32885000015634014
test entropy is  0.3126428577342013
________________________________
diff is  tensor(0.7587, device='cuda:3')
diff is  tensor(0.0090, device='cuda:3')
diff is  tensor(14.0281, device='cuda:3')
diff is  tensor(0.0141, device='cuda:3')
diff is  tensor(79.4235, device='cuda:3')
diff is  tensor(0.0390, device='cuda:3')
diff is  tensor(0.4693, device='cuda:3')
diff is  tensor(0.0036, device='cuda:3')
threshold is  tensor(12.4221, device='cuda:3')
sum is tensor(0.0036, device='cuda:3')
sum is tensor(0.0127, device='cuda:3')
sum is tensor(0.0267, device='cuda:3')
sum is tensor(0.0658, device='cuda:3')
sum is tensor(0.5350, device='cuda:3')
sum is tensor(1.2937, device='cuda:3')
sum is tensor(15.3219, device='cuda:3')
ratio is tensor(0.2067, device='cuda:3')
threshold is tensor(14.0281, device='cuda:3')
cal diff is tensor(0.7587, device='cuda:3')
discard
cal diff is tensor(0.0090, device='cuda:3')
discard
cal diff is tensor(14.0281, device='cuda:3')
clipping
cal diff is tensor(0.0141, device='cuda:3')
discard
cal diff is tensor(79.4235, device='cuda:3')
clipping
cal diff is tensor(0.0390, device='cuda:3')
discard
cal diff is tensor(0.4693, device='cuda:3')
discard
cal diff is tensor(0.0036, device='cuda:3')
discard
________________________________
test distance is  tensor(19.3238, device='cuda:3')
test acc is  0.9659333334896524
test entropy is  0.1283507453722518
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.1283507453722518
avg test loss is  0.10357328417968116
avg accuracy is  0.9659333334896524
compute_distance is  tensor(19.3238, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.31035211426553444
avg test loss is  6.4220690447638535
avg accuracy is  0.3296000001563401
compute_distance is  tensor(100.4543, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(100.4543, device='cuda:3')
test acc is  0.3296000001563401
test entropy is  0.31035211426553444
________________________________
diff is  tensor(0.7499, device='cuda:3')
diff is  tensor(0.0086, device='cuda:3')
diff is  tensor(16.7165, device='cuda:3')
diff is  tensor(0.0146, device='cuda:3')
diff is  tensor(82.5410, device='cuda:3')
diff is  tensor(0.0305, device='cuda:3')
diff is  tensor(0.3797, device='cuda:3')
diff is  tensor(0.0028, device='cuda:3')
threshold is  tensor(18.1230, device='cuda:3')
sum is tensor(0.0028, device='cuda:3')
sum is tensor(0.0114, device='cuda:3')
sum is tensor(0.0260, device='cuda:3')
sum is tensor(0.0565, device='cuda:3')
sum is tensor(0.4362, device='cuda:3')
sum is tensor(1.1862, device='cuda:3')
sum is tensor(17.9026, device='cuda:3')
sum is tensor(100.4436, device='cuda:3')
ratio is tensor(0.9973, device='cuda:3')
threshold is tensor(82.5410, device='cuda:3')
cal diff is tensor(0.7499, device='cuda:3')
discard
cal diff is tensor(0.0086, device='cuda:3')
discard
cal diff is tensor(16.7165, device='cuda:3')
discard
cal diff is tensor(0.0146, device='cuda:3')
discard
cal diff is tensor(82.5410, device='cuda:3')
clipping
cal diff is tensor(0.0305, device='cuda:3')
discard
cal diff is tensor(0.3797, device='cuda:3')
discard
cal diff is tensor(0.0028, device='cuda:3')
discard
________________________________
test distance is  tensor(82.3298, device='cuda:3')
test acc is  0.5992833334896711
test entropy is  0.4338577911893188
________________________________
new distance ratio is 0.99
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
 
Avg Training Stats after 41 global rounds:
Train Accuracy: 86.42% 

Test Accuracy: 85.57% 


 | Global Training Round : 42 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.00148006621748209
attack res is False
len of model dicts is  10
compute distance is  tensor(29.8549, device='cuda:3')
compute distance is  tensor(95.5607, device='cuda:3')
compute distance is  tensor(79.5035, device='cuda:3')
compute distance is  tensor(30.2995, device='cuda:3')
compute distance is  tensor(39.2645, device='cuda:3')
compute distance is  tensor(15.8663, device='cuda:3')
compute distance is  tensor(86.3135, device='cuda:3')
compute distance is  tensor(96.2896, device='cuda:3')
compute distance is  tensor(110.4491, device='cuda:3')
compute distance is  tensor(64.7642, device='cuda:3')
calculated distance threshold is  tensor(100.9908, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.16806666682300117
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.27356666682300557
====================
====================
iteration is  0
round is  2
accuracy is  0.29275000015633934
====================
====================
iteration is  1
round is  0
accuracy is  0.11106666682299864
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.1337500001563319
====================
________________________________
test distance is  tensor(4284.1372, device='cuda:3')
test acc is  0.11106666682299864
test entropy is  0.06578785797426187
________________________________
diff is  tensor(43.8754, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3727, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.0799, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5046, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.7522, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0445, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3237, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1839, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4183.1465, device='cuda:3')
sum is tensor(0.1839, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5566, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0612, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1057, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4294, device='cuda:3', dtype=torch.float64)
sum is tensor(67.3048, device='cuda:3', dtype=torch.float64)
sum is tensor(641.3847, device='cuda:3', dtype=torch.float64)
sum is tensor(4284.1370, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0277, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.7522, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.8754, device='cuda:3')
discard
cal diff is tensor(0.3727, device='cuda:3')
discard
cal diff is tensor(574.0798, device='cuda:3')
discard
cal diff is tensor(0.5046, device='cuda:3')
discard
cal diff is tensor(3642.7524, device='cuda:3')
clipping
cal diff is tensor(2.0445, device='cuda:3')
discard
cal diff is tensor(20.3237, device='cuda:3')
discard
cal diff is tensor(0.1839, device='cuda:3')
discard
________________________________
test distance is  tensor(101.0007, device='cuda:3')
test acc is  0.8479833334896567
test entropy is  0.3032676095107217
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(100.9905, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0100, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0274, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(100.9905, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(2.7799, device='cuda:3')
test acc is  0.84821666682299
test entropy is  0.301544157315546
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.301544157315546
avg test loss is  0.47886196276875953
avg accuracy is  0.84821666682299
compute_distance is  tensor(2.7799, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.04804559713671369
avg test loss is  11.948484120846812
avg accuracy is  0.10566666682299863
compute_distance is  tensor(78.3288, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(78.3288, device='cuda:3')
test acc is  0.10566666682299863
test entropy is  0.04804559713671369
________________________________
new distance ratio is 0.8999999999999999
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 8, 11, 12, 14, 15]
 
Avg Training Stats after 42 global rounds:
Train Accuracy: 90.23% 

Test Accuracy: 88.80% 


 | Global Training Round : 43 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0019101818324998021
attack res is False
len of model dicts is  10
compute distance is  tensor(26.8834, device='cuda:3')
compute distance is  tensor(103.1260, device='cuda:3')
compute distance is  tensor(95.1075, device='cuda:3')
compute distance is  tensor(39.1656, device='cuda:3')
compute distance is  tensor(37.6073, device='cuda:3')
compute distance is  tensor(52.3728, device='cuda:3')
compute distance is  tensor(58.6202, device='cuda:3')
compute distance is  tensor(100.4294, device='cuda:3')
compute distance is  tensor(64.4606, device='cuda:3')
compute distance is  tensor(65.9729, device='cuda:3')
calculated distance threshold is  tensor(89.2637, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.14083333348966562
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.30431666682300634
====================
====================
iteration is  0
round is  2
accuracy is  0.12015000015633194
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.1715000001563347
====================
====================
iteration is  1
round is  1
accuracy is  0.09945000015633199
====================
succ_min + 1
________________________________
test distance is  tensor(4281.7632, device='cuda:3')
test acc is  0.09945000015633199
test entropy is  0.000828627778821386
________________________________
diff is  tensor(44.1419, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4088, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.1321, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4969, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.0505, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0374, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2842, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2109, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4192.4995, device='cuda:3')
sum is tensor(0.2109, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6198, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1167, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1541, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4383, device='cuda:3', dtype=torch.float64)
sum is tensor(67.5802, device='cuda:3', dtype=torch.float64)
sum is tensor(640.7123, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.7628, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0245, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.0505, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.1419, device='cuda:3')
discard
cal diff is tensor(0.4088, device='cuda:3')
discard
cal diff is tensor(573.1321, device='cuda:3')
discard
cal diff is tensor(0.4969, device='cuda:3')
discard
cal diff is tensor(3641.0505, device='cuda:3')
discard
cal diff is tensor(2.0374, device='cuda:3')
discard
cal diff is tensor(20.2842, device='cuda:3')
discard
cal diff is tensor(0.2109, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.8844000001563219
test entropy is  0.22463256109561494
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.22463256109561494
avg test loss is  0.364418514466076
avg accuracy is  0.8844000001563219
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  4.295286896237402e-05
avg test loss is  18.342242779762252
avg accuracy is  0.09930000015633199
compute_distance is  tensor(67.7827, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(67.7827, device='cuda:3')
test acc is  0.09930000015633199
test entropy is  4.295286896237402e-05
________________________________
new distance ratio is 0.818181818181818
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 2, 4, 5, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
 
Avg Training Stats after 43 global rounds:
Train Accuracy: 29.81% 

Test Accuracy: 27.03% 


 | Global Training Round : 44 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0017060827231034636
attack res is False
len of model dicts is  10
compute distance is  tensor(151.5825, device='cuda:3')
compute distance is  tensor(243.9304, device='cuda:3')
compute distance is  tensor(237.7982, device='cuda:3')
compute distance is  tensor(264.7814, device='cuda:3')
compute distance is  tensor(235.5193, device='cuda:3')
compute distance is  tensor(189.2984, device='cuda:3')
compute distance is  tensor(237.9625, device='cuda:3')
compute distance is  tensor(248.8561, device='cuda:3')
compute distance is  tensor(131.7871, device='cuda:3')
compute distance is  tensor(238.3700, device='cuda:3')
calculated distance threshold is  tensor(230.7085, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.09931666682299865
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.10111666682299865
====================
====================
iteration is  0
round is  2
accuracy is  0.09938333348966531
====================
====================
iteration is  1
round is  0
accuracy is  0.10008333348966532
====================
====================
iteration is  1
round is  1
accuracy is  0.09930000015633199
====================
succ_min + 1
________________________________
test distance is  tensor(4283.0166, device='cuda:3')
test acc is  0.09930000015633199
test entropy is  0.00013021544326500062
________________________________
diff is  tensor(43.4124, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2996, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.3432, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5569, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.8162, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0486, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3377, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2016, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4052.3081, device='cuda:3')
sum is tensor(0.2016, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5012, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0582, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1068, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4446, device='cuda:3', dtype=torch.float64)
sum is tensor(66.8570, device='cuda:3', dtype=torch.float64)
sum is tensor(641.2002, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.0164, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0633, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.8162, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.4124, device='cuda:3')
discard
cal diff is tensor(0.2996, device='cuda:3')
discard
cal diff is tensor(574.3433, device='cuda:3')
discard
cal diff is tensor(0.5569, device='cuda:3')
discard
cal diff is tensor(3641.8162, device='cuda:3')
discard
cal diff is tensor(2.0486, device='cuda:3')
discard
cal diff is tensor(20.3377, device='cuda:3')
discard
cal diff is tensor(0.2016, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.2667333334896721
test entropy is  0.17102300461484934
________________________________
new distance ratio is 0.7438016528925617
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [2, 4, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
 
Avg Training Stats after 44 global rounds:
Train Accuracy: 95.74% 

Test Accuracy: 95.89% 


 | Global Training Round : 45 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.00011097887181676924
attack res is False
len of model dicts is  10
compute distance is  tensor(29.8393, device='cuda:3')
compute distance is  tensor(29.1600, device='cuda:3')
compute distance is  tensor(41.2072, device='cuda:3')
compute distance is  tensor(34.9881, device='cuda:3')
compute distance is  tensor(31.8805, device='cuda:3')
compute distance is  tensor(25.6720, device='cuda:3')
compute distance is  tensor(53.2396, device='cuda:3')
compute distance is  tensor(44.1995, device='cuda:3')
compute distance is  tensor(65.7360, device='cuda:3')
compute distance is  tensor(92.3798, device='cuda:3')
calculated distance threshold is  tensor(70.7787, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.23081666682300428
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.40788333348967454
====================
====================
iteration is  0
round is  2
accuracy is  0.27458333348967223
====================
====================
iteration is  1
round is  0
accuracy is  0.3141500001563398
====================
====================
iteration is  1
round is  1
accuracy is  0.3125833334896731
====================
________________________________
test distance is  tensor(4284.0562, device='cuda:3')
test acc is  0.23081666682300428
test entropy is  0.20946131679993957
________________________________
diff is  tensor(43.9839, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3850, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.4999, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5362, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.0559, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0340, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3441, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2166, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4213.2773, device='cuda:3')
sum is tensor(0.2166, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6016, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1378, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1718, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5160, device='cuda:3', dtype=torch.float64)
sum is tensor(67.4998, device='cuda:3', dtype=torch.float64)
sum is tensor(641.9997, device='cuda:3', dtype=torch.float64)
sum is tensor(4284.0556, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0194, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.0559, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.9839, device='cuda:3')
discard
cal diff is tensor(0.3850, device='cuda:3')
discard
cal diff is tensor(574.4999, device='cuda:3')
discard
cal diff is tensor(0.5362, device='cuda:3')
discard
cal diff is tensor(3642.0557, device='cuda:3')
discard
cal diff is tensor(2.0340, device='cuda:3')
discard
cal diff is tensor(20.3441, device='cuda:3')
discard
cal diff is tensor(0.2166, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9548833334896528
test entropy is  0.1795005116945327
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.1795005116945327
avg test loss is  0.1434649727565409
avg accuracy is  0.9548833334896528
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.20901626970436274
avg test loss is  6.742219143076492
avg accuracy is  0.2229500001563373
compute_distance is  tensor(94.4947, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(94.4947, device='cuda:3')
test acc is  0.2229500001563373
test entropy is  0.20901626970436274
________________________________
diff is  tensor(0.7792, device='cuda:3')
diff is  tensor(0.0073, device='cuda:3')
diff is  tensor(14.4731, device='cuda:3')
diff is  tensor(0.0149, device='cuda:3')
diff is  tensor(78.6882, device='cuda:3')
diff is  tensor(0.0382, device='cuda:3')
diff is  tensor(0.4833, device='cuda:3')
diff is  tensor(0.0039, device='cuda:3')
threshold is  tensor(23.7160, device='cuda:3')
sum is tensor(0.0039, device='cuda:3')
sum is tensor(0.0113, device='cuda:3')
sum is tensor(0.0261, device='cuda:3')
sum is tensor(0.0643, device='cuda:3')
sum is tensor(0.5476, device='cuda:3')
sum is tensor(1.3268, device='cuda:3')
sum is tensor(15.7999, device='cuda:3')
sum is tensor(94.4880, device='cuda:3')
ratio is tensor(0.8994, device='cuda:3')
threshold is tensor(78.6882, device='cuda:3')
cal diff is tensor(0.7792, device='cuda:3')
discard
cal diff is tensor(0.0073, device='cuda:3')
discard
cal diff is tensor(14.4731, device='cuda:3')
discard
cal diff is tensor(0.0149, device='cuda:3')
discard
cal diff is tensor(78.6882, device='cuda:3')
clipping
cal diff is tensor(0.0382, device='cuda:3')
discard
cal diff is tensor(0.4833, device='cuda:3')
discard
cal diff is tensor(0.0039, device='cuda:3')
discard
________________________________
test distance is  tensor(70.7779, device='cuda:3')
test acc is  0.6475000001563342
test entropy is  0.35965708304824096
________________________________
new distance ratio is 0.6761833208114197
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 34, 36, 37, 39, 17, 18, 19, 20, 21, 22]
 
Avg Training Stats after 45 global rounds:
Train Accuracy: 93.36% 

Test Accuracy: 93.23% 


 | Global Training Round : 46 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0005089720943942666
attack res is False
len of model dicts is  10
compute distance is  tensor(18.3877, device='cuda:3')
compute distance is  tensor(66.9230, device='cuda:3')
compute distance is  tensor(65.2173, device='cuda:3')
compute distance is  tensor(22.2231, device='cuda:3')
compute distance is  tensor(30.3501, device='cuda:3')
compute distance is  tensor(17.4752, device='cuda:3')
compute distance is  tensor(45.6982, device='cuda:3')
compute distance is  tensor(78.8392, device='cuda:3')
compute distance is  tensor(74.4849, device='cuda:3')
compute distance is  tensor(79.3186, device='cuda:3')
calculated distance threshold is  tensor(55.4910, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.27541666682300553
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2753500001563389
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.43080000015634146
====================
====================
iteration is  1
round is  0
accuracy is  0.42070000015634135
====================
====================
iteration is  1
round is  1
accuracy is  0.3995000001563411
====================
________________________________
test distance is  tensor(4281.3696, device='cuda:3')
test acc is  0.2753500001563389
test entropy is  0.34277872644317176
________________________________
diff is  tensor(44.1260, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3608, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.6482, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5058, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.2765, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0609, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2112, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1799, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4225.8784, device='cuda:3')
sum is tensor(0.1799, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5407, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0465, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1074, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3186, device='cuda:3', dtype=torch.float64)
sum is tensor(67.4447, device='cuda:3', dtype=torch.float64)
sum is tensor(639.0929, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.3694, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0152, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.2765, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.1260, device='cuda:3')
discard
cal diff is tensor(0.3608, device='cuda:3')
discard
cal diff is tensor(571.6482, device='cuda:3')
discard
cal diff is tensor(0.5058, device='cuda:3')
discard
cal diff is tensor(3642.2764, device='cuda:3')
discard
cal diff is tensor(2.0609, device='cuda:3')
discard
cal diff is tensor(20.2112, device='cuda:3')
discard
cal diff is tensor(0.1799, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9280000001563204
test entropy is  0.19625768548389996
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.19625768548389996
avg test loss is  0.21020864715366794
avg accuracy is  0.9280000001563204
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.39309843504098435
avg test loss is  6.41545747795593
avg accuracy is  0.2985333334896728
compute_distance is  tensor(92.3572, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(92.3572, device='cuda:3')
test acc is  0.2985333334896728
test entropy is  0.39309843504098435
________________________________
diff is  tensor(0.7263, device='cuda:3')
diff is  tensor(0.0066, device='cuda:3')
diff is  tensor(15.1989, device='cuda:3')
diff is  tensor(0.0156, device='cuda:3')
diff is  tensor(75.9666, device='cuda:3')
diff is  tensor(0.0339, device='cuda:3')
diff is  tensor(0.3961, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(36.8662, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0097, device='cuda:3')
sum is tensor(0.0253, device='cuda:3')
sum is tensor(0.0592, device='cuda:3')
sum is tensor(0.4552, device='cuda:3')
sum is tensor(1.1816, device='cuda:3')
sum is tensor(16.3805, device='cuda:3')
sum is tensor(92.3471, device='cuda:3')
ratio is tensor(0.7303, device='cuda:3')
threshold is tensor(75.9666, device='cuda:3')
cal diff is tensor(0.7263, device='cuda:3')
discard
cal diff is tensor(0.0066, device='cuda:3')
discard
cal diff is tensor(15.1989, device='cuda:3')
discard
cal diff is tensor(0.0156, device='cuda:3')
discard
cal diff is tensor(75.9666, device='cuda:3')
clipping
cal diff is tensor(0.0339, device='cuda:3')
discard
cal diff is tensor(0.3961, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(55.4881, device='cuda:3')
test acc is  0.7603833334896608
test entropy is  0.42962964436710516
________________________________
new distance ratio is 0.6147121098285634
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 11, 12, 14]
 
Avg Training Stats after 46 global rounds:
Train Accuracy: 92.86% 

Test Accuracy: 91.91% 


 | Global Training Round : 47 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  9.068493091035634e-05
attack res is False
len of model dicts is  10
compute distance is  tensor(19.9991, device='cuda:3')
compute distance is  tensor(68.6872, device='cuda:3')
compute distance is  tensor(82.1156, device='cuda:3')
compute distance is  tensor(55.1743, device='cuda:3')
compute distance is  tensor(26.0859, device='cuda:3')
compute distance is  tensor(26.5707, device='cuda:3')
compute distance is  tensor(48.2695, device='cuda:3')
compute distance is  tensor(93.9917, device='cuda:3')
compute distance is  tensor(69.0049, device='cuda:3')
compute distance is  tensor(73.9389, device='cuda:3')
calculated distance threshold is  tensor(61.3483, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.1814833334896686
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2887333334896725
====================
====================
iteration is  0
round is  2
accuracy is  0.34605000015634035
====================
====================
iteration is  1
round is  0
accuracy is  0.26415000015633866
====================
====================
iteration is  1
round is  1
accuracy is  0.20155000015633645
====================
________________________________
test distance is  tensor(4280.5103, device='cuda:3')
test acc is  0.1814833334896686
test entropy is  0.1854213273712694
________________________________
diff is  tensor(44.0053, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3272, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.8000, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4881, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.3349, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0435, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2905, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2208, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4219.1621, device='cuda:3')
sum is tensor(0.2208, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5480, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0361, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0796, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3701, device='cuda:3', dtype=torch.float64)
sum is tensor(67.3754, device='cuda:3', dtype=torch.float64)
sum is tensor(639.1754, device='cuda:3', dtype=torch.float64)
sum is tensor(4280.5102, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0168, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.3349, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.0053, device='cuda:3')
discard
cal diff is tensor(0.3272, device='cuda:3')
discard
cal diff is tensor(571.8000, device='cuda:3')
discard
cal diff is tensor(0.4881, device='cuda:3')
discard
cal diff is tensor(3641.3350, device='cuda:3')
clipping
cal diff is tensor(2.0435, device='cuda:3')
discard
cal diff is tensor(20.2905, device='cuda:3')
discard
cal diff is tensor(0.2208, device='cuda:3')
discard
________________________________
test distance is  tensor(61.3583, device='cuda:3')
test acc is  0.9166000001563208
test entropy is  0.24538364440901703
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(61.3481, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0101, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0186, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(61.3481, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(1.1508, device='cuda:3')
test acc is  0.9169333334896541
test entropy is  0.2448609334303499
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2448609334303499
avg test loss is  0.2542600626233163
avg accuracy is  0.9169333334896541
compute_distance is  tensor(1.1508, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.20356357248543677
avg test loss is  8.93244924829967
avg accuracy is  0.18641666682300226
compute_distance is  tensor(80.0348, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(80.0348, device='cuda:3')
test acc is  0.18641666682300226
test entropy is  0.20356357248543677
________________________________
diff is  tensor(0.7830, device='cuda:3')
diff is  tensor(0.0069, device='cuda:3')
diff is  tensor(12.9721, device='cuda:3')
diff is  tensor(0.0127, device='cuda:3')
diff is  tensor(65.8690, device='cuda:3')
diff is  tensor(0.0285, device='cuda:3')
diff is  tensor(0.3469, device='cuda:3')
diff is  tensor(0.0029, device='cuda:3')
threshold is  tensor(18.6865, device='cuda:3')
sum is tensor(0.0029, device='cuda:3')
sum is tensor(0.0098, device='cuda:3')
sum is tensor(0.0225, device='cuda:3')
sum is tensor(0.0510, device='cuda:3')
sum is tensor(0.3979, device='cuda:3')
sum is tensor(1.1810, device='cuda:3')
sum is tensor(14.1530, device='cuda:3')
sum is tensor(80.0220, device='cuda:3')
ratio is tensor(0.9312, device='cuda:3')
threshold is tensor(65.8690, device='cuda:3')
cal diff is tensor(0.7830, device='cuda:3')
discard
cal diff is tensor(0.0069, device='cuda:3')
discard
cal diff is tensor(12.9721, device='cuda:3')
discard
cal diff is tensor(0.0127, device='cuda:3')
discard
cal diff is tensor(65.8690, device='cuda:3')
clipping
cal diff is tensor(0.0285, device='cuda:3')
discard
cal diff is tensor(0.3469, device='cuda:3')
discard
cal diff is tensor(0.0029, device='cuda:3')
discard
________________________________
test distance is  tensor(61.3437, device='cuda:3')
test acc is  0.40656666682300785
test entropy is  0.44455332828483096
________________________________
new distance ratio is 0.5588291907532394
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 2, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
 
Avg Training Stats after 47 global rounds:
Train Accuracy: 69.96% 

Test Accuracy: 68.49% 


 | Global Training Round : 48 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0008842360693961382
attack res is False
len of model dicts is  10
compute distance is  tensor(64.3406, device='cuda:3')
compute distance is  tensor(141.8640, device='cuda:3')
compute distance is  tensor(121.0255, device='cuda:3')
compute distance is  tensor(65.9429, device='cuda:3')
compute distance is  tensor(58.6342, device='cuda:3')
compute distance is  tensor(52.0845, device='cuda:3')
compute distance is  tensor(69.4854, device='cuda:3')
compute distance is  tensor(134.9808, device='cuda:3')
compute distance is  tensor(123.7882, device='cuda:3')
compute distance is  tensor(106.4348, device='cuda:3')
calculated distance threshold is  tensor(97.6949, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.20251666682300307
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.11053333348966529
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.164666666823001
====================
====================
iteration is  1
round is  0
accuracy is  0.16408333348966753
====================
====================
iteration is  1
round is  1
accuracy is  0.22753333348967084
====================
________________________________
test distance is  tensor(4280.4082, device='cuda:3')
test acc is  0.11053333348966529
test entropy is  0.08312300319618571
________________________________
diff is  tensor(44.3457, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3458, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.8583, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5557, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.8941, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0201, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2073, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1812, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4182.7134, device='cuda:3')
sum is tensor(0.1812, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5270, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0827, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1029, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3101, device='cuda:3', dtype=torch.float64)
sum is tensor(67.6559, device='cuda:3', dtype=torch.float64)
sum is tensor(639.5141, device='cuda:3', dtype=torch.float64)
sum is tensor(4280.4082, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0268, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.8941, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.3457, device='cuda:3')
discard
cal diff is tensor(0.3458, device='cuda:3')
discard
cal diff is tensor(571.8583, device='cuda:3')
discard
cal diff is tensor(0.5557, device='cuda:3')
discard
cal diff is tensor(3640.8940, device='cuda:3')
discard
cal diff is tensor(2.0201, device='cuda:3')
discard
cal diff is tensor(20.2073, device='cuda:3')
discard
cal diff is tensor(0.1812, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.679350000156332
test entropy is  0.4322570198253274
________________________________
new distance ratio is 0.5080265370483995
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 2, 5, 6, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 17, 18, 19, 20, 21, 23, 8, 9, 11, 12, 14, 15]
 
Avg Training Stats after 48 global rounds:
Train Accuracy: 96.03% 

Test Accuracy: 95.68% 


 | Global Training Round : 49 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0011269515380263329
attack res is False
len of model dicts is  10
compute distance is  tensor(23.1205, device='cuda:3')
compute distance is  tensor(61.1123, device='cuda:3')
compute distance is  tensor(48.1999, device='cuda:3')
compute distance is  tensor(60.6993, device='cuda:3')
compute distance is  tensor(25.2642, device='cuda:3')
compute distance is  tensor(25.4193, device='cuda:3')
compute distance is  tensor(35.2504, device='cuda:3')
compute distance is  tensor(59.2962, device='cuda:3')
compute distance is  tensor(58.1825, device='cuda:3')
compute distance is  tensor(78.4449, device='cuda:3')
calculated distance threshold is  tensor(48.6717, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.3333166668230068
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.20883333348967
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.4448833334896749
====================
====================
iteration is  1
round is  0
accuracy is  0.5516000001563418
====================
====================
iteration is  1
round is  1
accuracy is  0.34276666682300705
====================
________________________________
test distance is  tensor(4283.1401, device='cuda:3')
test acc is  0.20883333348967
test entropy is  0.19952279023492514
________________________________
diff is  tensor(42.6063, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4002, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.8458, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4836, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.3844, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0114, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2196, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1888, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4234.4683, device='cuda:3')
sum is tensor(0.1888, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5890, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0726, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0841, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3037, device='cuda:3', dtype=torch.float64)
sum is tensor(65.9100, device='cuda:3', dtype=torch.float64)
sum is tensor(640.7558, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.1402, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0134, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.3844, device='cuda:3', dtype=torch.float64)
cal diff is tensor(42.6063, device='cuda:3')
discard
cal diff is tensor(0.4002, device='cuda:3')
discard
cal diff is tensor(574.8458, device='cuda:3')
discard
cal diff is tensor(0.4836, device='cuda:3')
discard
cal diff is tensor(3642.3845, device='cuda:3')
clipping
cal diff is tensor(2.0114, device='cuda:3')
discard
cal diff is tensor(20.2196, device='cuda:3')
discard
cal diff is tensor(0.1888, device='cuda:3')
discard
________________________________
test distance is  tensor(48.6822, device='cuda:3')
test acc is  0.9550500001563195
test entropy is  0.19146256939148598
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(48.6720, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0106, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(48.6822, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(48.6720, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(48.6720, device='cuda:3')
discard
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9551166668229861
test entropy is  0.19155282095106427
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.19155282095106427
avg test loss is  0.14312629710469862
avg accuracy is  0.9551166668229861
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.20703368334532546
avg test loss is  9.505196587617464
avg accuracy is  0.21363333348967023
compute_distance is  tensor(93.9419, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(93.9419, device='cuda:3')
test acc is  0.21363333348967023
test entropy is  0.20703368334532546
________________________________
diff is  tensor(0.8865, device='cuda:3')
diff is  tensor(0.0085, device='cuda:3')
diff is  tensor(16.0115, device='cuda:3')
diff is  tensor(0.0162, device='cuda:3')
diff is  tensor(76.5342, device='cuda:3')
diff is  tensor(0.0359, device='cuda:3')
diff is  tensor(0.4322, device='cuda:3')
diff is  tensor(0.0036, device='cuda:3')
threshold is  tensor(45.2703, device='cuda:3')
sum is tensor(0.0036, device='cuda:3')
sum is tensor(0.0120, device='cuda:3')
sum is tensor(0.0283, device='cuda:3')
sum is tensor(0.0642, device='cuda:3')
sum is tensor(0.4964, device='cuda:3')
sum is tensor(1.3829, device='cuda:3')
sum is tensor(17.3944, device='cuda:3')
sum is tensor(93.9286, device='cuda:3')
ratio is tensor(0.6358, device='cuda:3')
threshold is tensor(76.5342, device='cuda:3')
cal diff is tensor(0.8865, device='cuda:3')
discard
cal diff is tensor(0.0085, device='cuda:3')
discard
cal diff is tensor(16.0115, device='cuda:3')
discard
cal diff is tensor(0.0162, device='cuda:3')
discard
cal diff is tensor(76.5342, device='cuda:3')
clipping
cal diff is tensor(0.0359, device='cuda:3')
discard
cal diff is tensor(0.4322, device='cuda:3')
discard
cal diff is tensor(0.0036, device='cuda:3')
discard
________________________________
test distance is  tensor(48.6669, device='cuda:3')
test acc is  0.804166666822992
test entropy is  0.3837026060580699
________________________________
new distance ratio is 0.4618423064076359
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 1, 2, 4, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
 
Avg Training Stats after 49 global rounds:
Train Accuracy: 88.16% 

Test Accuracy: 86.82% 


 | Global Training Round : 50 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0020566461607813835
attack res is False
len of model dicts is  10
compute distance is  tensor(30.9444, device='cuda:3')
compute distance is  tensor(96.0772, device='cuda:3')
compute distance is  tensor(81.8836, device='cuda:3')
compute distance is  tensor(75.2876, device='cuda:3')
compute distance is  tensor(34.9573, device='cuda:3')
compute distance is  tensor(41.0131, device='cuda:3')
compute distance is  tensor(60.1586, device='cuda:3')
compute distance is  tensor(99.1753, device='cuda:3')
compute distance is  tensor(71.3236, device='cuda:3')
compute distance is  tensor(72.4272, device='cuda:3')
calculated distance threshold is  tensor(59.5916, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.32865000015634016
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.23326666682300434
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.20060000015633628
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.2895166668230058
====================
====================
iteration is  1
round is  1
accuracy is  0.18131666682300196
====================
succ_min + 1
________________________________
test distance is  tensor(4283.1558, device='cuda:3')
test acc is  0.18131666682300196
test entropy is  0.2326361054359977
________________________________
diff is  tensor(43.0145, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3346, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.5915, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4368, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.2417, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9898, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3040, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2427, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4223.5640, device='cuda:3')
sum is tensor(0.2427, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5773, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0141, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0038, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3079, device='cuda:3', dtype=torch.float64)
sum is tensor(66.3224, device='cuda:3', dtype=torch.float64)
sum is tensor(640.9139, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.1556, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0164, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.2417, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.0145, device='cuda:3')
discard
cal diff is tensor(0.3346, device='cuda:3')
discard
cal diff is tensor(574.5915, device='cuda:3')
discard
cal diff is tensor(0.4368, device='cuda:3')
discard
cal diff is tensor(3642.2417, device='cuda:3')
discard
cal diff is tensor(1.9898, device='cuda:3')
discard
cal diff is tensor(20.3040, device='cuda:3')
discard
cal diff is tensor(0.2427, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.8652500001563227
test entropy is  0.28885103736732054
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.28885103736732054
avg test loss is  0.4067797967429354
avg accuracy is  0.8652500001563227
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.20584632901113425
avg test loss is  6.675329382231495
avg accuracy is  0.18148333348966866
compute_distance is  tensor(89.8534, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(89.8534, device='cuda:3')
test acc is  0.18148333348966866
test entropy is  0.20584632901113425
________________________________
diff is  tensor(0.8155, device='cuda:3')
diff is  tensor(0.0072, device='cuda:3')
diff is  tensor(13.7874, device='cuda:3')
diff is  tensor(0.0132, device='cuda:3')
diff is  tensor(74.7954, device='cuda:3')
diff is  tensor(0.0288, device='cuda:3')
diff is  tensor(0.4043, device='cuda:3')
diff is  tensor(0.0036, device='cuda:3')
threshold is  tensor(30.2618, device='cuda:3')
sum is tensor(0.0036, device='cuda:3')
sum is tensor(0.0108, device='cuda:3')
sum is tensor(0.0240, device='cuda:3')
sum is tensor(0.0528, device='cuda:3')
sum is tensor(0.4571, device='cuda:3')
sum is tensor(1.2726, device='cuda:3')
sum is tensor(15.0599, device='cuda:3')
sum is tensor(89.8553, device='cuda:3')
ratio is tensor(0.7968, device='cuda:3')
threshold is tensor(74.7954, device='cuda:3')
cal diff is tensor(0.8155, device='cuda:3')
discard
cal diff is tensor(0.0072, device='cuda:3')
discard
cal diff is tensor(13.7874, device='cuda:3')
discard
cal diff is tensor(0.0132, device='cuda:3')
discard
cal diff is tensor(74.7954, device='cuda:3')
clipping
cal diff is tensor(0.0288, device='cuda:3')
discard
cal diff is tensor(0.4043, device='cuda:3')
discard
cal diff is tensor(0.0036, device='cuda:3')
discard
________________________________
test distance is  tensor(59.5909, device='cuda:3')
test acc is  0.6187500001563363
test entropy is  0.45753670437757904
________________________________
new distance ratio is 0.4198566421887599
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 34, 36, 37, 39, 8, 10, 11, 12, 14, 15]
 
Avg Training Stats after 50 global rounds:
Train Accuracy: 94.62% 

Test Accuracy: 94.09% 


 | Global Training Round : 51 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.002158695599064231
attack res is False
len of model dicts is  10
compute distance is  tensor(19.7979, device='cuda:3')
compute distance is  tensor(55.9185, device='cuda:3')
compute distance is  tensor(78.9518, device='cuda:3')
compute distance is  tensor(36.4032, device='cuda:3')
compute distance is  tensor(30.0825, device='cuda:3')
compute distance is  tensor(21.8597, device='cuda:3')
compute distance is  tensor(49.4606, device='cuda:3')
compute distance is  tensor(61.4986, device='cuda:3')
compute distance is  tensor(59.1727, device='cuda:3')
compute distance is  tensor(113.4952, device='cuda:3')
calculated distance threshold is  tensor(55.5610, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.2607833334896719
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.29536666682300605
====================
====================
iteration is  0
round is  2
accuracy is  0.2268500001563375
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.23786666682300453
====================
====================
iteration is  1
round is  1
accuracy is  0.4084833334896746
====================
________________________________
test distance is  tensor(4281.0225, device='cuda:3')
test acc is  0.2268500001563375
test entropy is  0.1897055628711481
________________________________
diff is  tensor(43.0512, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3407, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.5307, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4956, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.8080, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0686, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.5056, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2216, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4225.4614, device='cuda:3')
sum is tensor(0.2216, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5623, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0579, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1265, device='cuda:3', dtype=torch.float64)
sum is tensor(23.6322, device='cuda:3', dtype=torch.float64)
sum is tensor(66.6834, device='cuda:3', dtype=torch.float64)
sum is tensor(639.2141, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.0221, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0153, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.8080, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.0512, device='cuda:3')
discard
cal diff is tensor(0.3407, device='cuda:3')
discard
cal diff is tensor(572.5308, device='cuda:3')
discard
cal diff is tensor(0.4956, device='cuda:3')
discard
cal diff is tensor(3641.8079, device='cuda:3')
discard
cal diff is tensor(2.0686, device='cuda:3')
discard
cal diff is tensor(20.5056, device='cuda:3')
discard
cal diff is tensor(0.2216, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9371833334896534
test entropy is  0.22703911955835723
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.22703911955835723
avg test loss is  0.18474587922427319
avg accuracy is  0.9371833334896534
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.19234944019776418
avg test loss is  8.45008387392772
avg accuracy is  0.24345000015633805
compute_distance is  tensor(86.2254, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(86.2254, device='cuda:3')
test acc is  0.24345000015633805
test entropy is  0.19234944019776418
________________________________
diff is  tensor(0.9451, device='cuda:3')
diff is  tensor(0.0079, device='cuda:3')
diff is  tensor(14.6028, device='cuda:3')
diff is  tensor(0.0136, device='cuda:3')
diff is  tensor(70.2265, device='cuda:3')
diff is  tensor(0.0301, device='cuda:3')
diff is  tensor(0.3812, device='cuda:3')
diff is  tensor(0.0033, device='cuda:3')
threshold is  tensor(30.6644, device='cuda:3')
sum is tensor(0.0033, device='cuda:3')
sum is tensor(0.0111, device='cuda:3')
sum is tensor(0.0248, device='cuda:3')
sum is tensor(0.0549, device='cuda:3')
sum is tensor(0.4360, device='cuda:3')
sum is tensor(1.3812, device='cuda:3')
sum is tensor(15.9839, device='cuda:3')
sum is tensor(86.2105, device='cuda:3')
ratio is tensor(0.7910, device='cuda:3')
threshold is tensor(70.2265, device='cuda:3')
cal diff is tensor(0.9451, device='cuda:3')
discard
cal diff is tensor(0.0079, device='cuda:3')
discard
cal diff is tensor(14.6028, device='cuda:3')
discard
cal diff is tensor(0.0136, device='cuda:3')
discard
cal diff is tensor(70.2265, device='cuda:3')
clipping
cal diff is tensor(0.0301, device='cuda:3')
discard
cal diff is tensor(0.3812, device='cuda:3')
discard
cal diff is tensor(0.0033, device='cuda:3')
discard
________________________________
test distance is  tensor(55.5548, device='cuda:3')
test acc is  0.6163833334896698
test entropy is  0.4287094845573531
________________________________
new distance ratio is 0.38168785653523624
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 17, 18, 19, 21]
 
Avg Training Stats after 51 global rounds:
Train Accuracy: 88.24% 

Test Accuracy: 87.02% 


 | Global Training Round : 52 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.0029740482568740845
attack res is False
len of model dicts is  10
compute distance is  tensor(38.0835, device='cuda:3')
compute distance is  tensor(103.8269, device='cuda:3')
compute distance is  tensor(58.9608, device='cuda:3')
compute distance is  tensor(48.9271, device='cuda:3')
compute distance is  tensor(37.0167, device='cuda:3')
compute distance is  tensor(34.1036, device='cuda:3')
compute distance is  tensor(62.9485, device='cuda:3')
compute distance is  tensor(103.5263, device='cuda:3')
compute distance is  tensor(78.4877, device='cuda:3')
compute distance is  tensor(75.6633, device='cuda:3')
calculated distance threshold is  tensor(58.2968, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.3621666668230073
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.29668333348967274
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.35573333348967384
====================
====================
iteration is  1
round is  0
accuracy is  0.24203333348967127
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.35055000015634047
====================
________________________________
test distance is  tensor(4286.8511, device='cuda:3')
test acc is  0.24203333348967127
test entropy is  0.37491588707544654
________________________________
diff is  tensor(46.3571, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3420, device='cuda:3', dtype=torch.float64)
diff is  tensor(575.2496, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5288, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.8179, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0336, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3194, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2027, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4228.5542, device='cuda:3')
sum is tensor(0.2027, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5446, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0734, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1070, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4264, device='cuda:3', dtype=torch.float64)
sum is tensor(69.7835, device='cuda:3', dtype=torch.float64)
sum is tensor(645.0331, device='cuda:3', dtype=torch.float64)
sum is tensor(4286.8510, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0160, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.8179, device='cuda:3', dtype=torch.float64)
cal diff is tensor(46.3571, device='cuda:3')
discard
cal diff is tensor(0.3420, device='cuda:3')
discard
cal diff is tensor(575.2496, device='cuda:3')
discard
cal diff is tensor(0.5288, device='cuda:3')
discard
cal diff is tensor(3641.8179, device='cuda:3')
clipping
cal diff is tensor(2.0336, device='cuda:3')
discard
cal diff is tensor(20.3194, device='cuda:3')
discard
cal diff is tensor(0.2027, device='cuda:3')
discard
________________________________
test distance is  tensor(58.3071, device='cuda:3')
test acc is  0.8641666668229894
test entropy is  0.265527738246328
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(58.2968, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0103, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(58.3071, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(58.2968, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(58.2968, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(58.3070, device='cuda:3')
test acc is  0.8641666668229894
test entropy is  0.26552764007023405
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(58.2968, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(58.3070, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(58.2968, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(58.2968, device='cuda:3')
discard
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.8653000001563227
test entropy is  0.26453863503709274
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.26453863503709274
avg test loss is  0.40222587063908577
avg accuracy is  0.8653000001563227
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.4097776809163185
avg test loss is  7.416333073491989
avg accuracy is  0.2646000001563386
compute_distance is  tensor(96.1958, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(96.1958, device='cuda:3')
test acc is  0.2646000001563386
test entropy is  0.4097776809163185
________________________________
diff is  tensor(0.9068, device='cuda:3')
diff is  tensor(0.0093, device='cuda:3')
diff is  tensor(16.9360, device='cuda:3')
diff is  tensor(0.0168, device='cuda:3')
diff is  tensor(77.8454, device='cuda:3')
diff is  tensor(0.0334, device='cuda:3')
diff is  tensor(0.4408, device='cuda:3')
diff is  tensor(0.0038, device='cuda:3')
threshold is  tensor(37.8990, device='cuda:3')
sum is tensor(0.0038, device='cuda:3')
sum is tensor(0.0131, device='cuda:3')
sum is tensor(0.0299, device='cuda:3')
sum is tensor(0.0632, device='cuda:3')
sum is tensor(0.5040, device='cuda:3')
sum is tensor(1.4108, device='cuda:3')
sum is tensor(18.3468, device='cuda:3')
sum is tensor(96.1921, device='cuda:3')
ratio is tensor(0.7488, device='cuda:3')
threshold is tensor(77.8454, device='cuda:3')
cal diff is tensor(0.9068, device='cuda:3')
discard
cal diff is tensor(0.0093, device='cuda:3')
discard
cal diff is tensor(16.9360, device='cuda:3')
discard
cal diff is tensor(0.0168, device='cuda:3')
discard
cal diff is tensor(77.8454, device='cuda:3')
clipping
cal diff is tensor(0.0334, device='cuda:3')
discard
cal diff is tensor(0.4408, device='cuda:3')
discard
cal diff is tensor(0.0038, device='cuda:3')
discard
________________________________
test distance is  tensor(58.2942, device='cuda:3')
test acc is  0.6200500001563362
test entropy is  0.5916991589674309
________________________________
new distance ratio is 0.34698896048657835
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 28, 30, 31, 8, 9, 11, 12, 15]
 
Avg Training Stats after 52 global rounds:
Train Accuracy: 95.45% 

Test Accuracy: 94.93% 


 | Global Training Round : 53 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.003486615139991045
attack res is False
len of model dicts is  10
compute distance is  tensor(19.1010, device='cuda:3')
compute distance is  tensor(44.9735, device='cuda:3')
compute distance is  tensor(82.0549, device='cuda:3')
compute distance is  tensor(40.4147, device='cuda:3')
compute distance is  tensor(25.9314, device='cuda:3')
compute distance is  tensor(29.2332, device='cuda:3')
compute distance is  tensor(50.3377, device='cuda:3')
compute distance is  tensor(54.0269, device='cuda:3')
compute distance is  tensor(65.1589, device='cuda:3')
compute distance is  tensor(62.5363, device='cuda:3')
calculated distance threshold is  tensor(38.9594, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.24236666682300467
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.20215000015633636
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.27653333348967224
====================
====================
iteration is  1
round is  0
accuracy is  0.20313333348967
====================
====================
iteration is  1
round is  1
accuracy is  0.2951333334896727
====================
________________________________
test distance is  tensor(4283.8823, device='cuda:3')
test acc is  0.20215000015633636
test entropy is  0.21552563810558206
________________________________
diff is  tensor(43.8596, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3396, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.4005, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5060, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.1081, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9677, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.4733, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2275, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4244.9229, device='cuda:3')
sum is tensor(0.2275, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5672, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0732, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0409, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5142, device='cuda:3', dtype=torch.float64)
sum is tensor(67.3738, device='cuda:3', dtype=torch.float64)
sum is tensor(641.7743, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.8824, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0107, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.1081, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.8596, device='cuda:3')
discard
cal diff is tensor(0.3396, device='cuda:3')
discard
cal diff is tensor(574.4005, device='cuda:3')
discard
cal diff is tensor(0.5060, device='cuda:3')
discard
cal diff is tensor(3642.1082, device='cuda:3')
clipping
cal diff is tensor(1.9677, device='cuda:3')
discard
cal diff is tensor(20.4733, device='cuda:3')
discard
cal diff is tensor(0.2275, device='cuda:3')
discard
________________________________
test distance is  tensor(38.9698, device='cuda:3')
test acc is  0.9462666668229865
test entropy is  0.22333562395561224
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(38.9596, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0104, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(38.9698, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(38.9596, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(38.9596, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(38.9697, device='cuda:3')
test acc is  0.9462666668229865
test entropy is  0.22333560346254408
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(38.9594, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(2.3461e-05, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(38.9594, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9464333334896532
test entropy is  0.2232151509030287
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2232151509030287
avg test loss is  0.16958906324203016
avg accuracy is  0.9464333334896532
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.22053694669435273
avg test loss is  8.071450983283363
avg accuracy is  0.19960000015633625
compute_distance is  tensor(81.2293, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(81.2293, device='cuda:3')
test acc is  0.19960000015633625
test entropy is  0.22053694669435273
________________________________
diff is  tensor(0.8701, device='cuda:3')
diff is  tensor(0.0075, device='cuda:3')
diff is  tensor(13.8505, device='cuda:3')
diff is  tensor(0.0132, device='cuda:3')
diff is  tensor(66.0964, device='cuda:3')
diff is  tensor(0.0301, device='cuda:3')
diff is  tensor(0.3463, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(42.2699, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0104, device='cuda:3')
sum is tensor(0.0236, device='cuda:3')
sum is tensor(0.0538, device='cuda:3')
sum is tensor(0.4001, device='cuda:3')
sum is tensor(1.2702, device='cuda:3')
sum is tensor(15.1207, device='cuda:3')
sum is tensor(81.2170, device='cuda:3')
ratio is tensor(0.5892, device='cuda:3')
threshold is tensor(66.0964, device='cuda:3')
cal diff is tensor(0.8701, device='cuda:3')
discard
cal diff is tensor(0.0075, device='cuda:3')
discard
cal diff is tensor(13.8505, device='cuda:3')
discard
cal diff is tensor(0.0132, device='cuda:3')
discard
cal diff is tensor(66.0964, device='cuda:3')
clipping
cal diff is tensor(0.0301, device='cuda:3')
discard
cal diff is tensor(0.3463, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(38.9546, device='cuda:3')
test acc is  0.7481333334896614
test entropy is  0.33136248216827285
________________________________
new distance ratio is 0.31544450953325304
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 1, 2, 4, 5, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
 
Avg Training Stats after 53 global rounds:
Train Accuracy: 85.28% 

Test Accuracy: 84.21% 


 | Global Training Round : 54 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.004449476022273302
attack res is False
len of model dicts is  10
compute distance is  tensor(33.7907, device='cuda:3')
compute distance is  tensor(89.1972, device='cuda:3')
compute distance is  tensor(79.9109, device='cuda:3')
compute distance is  tensor(58.9570, device='cuda:3')
compute distance is  tensor(40.6883, device='cuda:3')
compute distance is  tensor(60.5079, device='cuda:3')
compute distance is  tensor(73.2699, device='cuda:3')
compute distance is  tensor(104.9151, device='cuda:3')
compute distance is  tensor(69.2264, device='cuda:3')
compute distance is  tensor(123.0308, device='cuda:3')
calculated distance threshold is  tensor(59.3819, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.2699333334896722
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.26940000015633875
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.27128333348967226
====================
====================
iteration is  1
round is  0
accuracy is  0.27580000015633893
====================
====================
iteration is  1
round is  1
accuracy is  0.23563333348967117
====================
succ_min + 1
________________________________
test distance is  tensor(4281.7852, device='cuda:3')
test acc is  0.23563333348967117
test entropy is  0.22325818875292217
________________________________
diff is  tensor(43.1427, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3338, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.0798, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4861, device='cuda:3', dtype=torch.float64)
diff is  tensor(3643.2589, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0545, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2588, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1706, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4222.4033, device='cuda:3')
sum is tensor(0.1706, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5044, device='cuda:3', dtype=torch.float64)
sum is tensor(0.9905, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0450, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3038, device='cuda:3', dtype=torch.float64)
sum is tensor(66.4465, device='cuda:3', dtype=torch.float64)
sum is tensor(638.5263, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.7852, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0163, device='cuda:3', dtype=torch.float64)
threshold is tensor(3643.2589, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.1427, device='cuda:3')
discard
cal diff is tensor(0.3338, device='cuda:3')
discard
cal diff is tensor(572.0798, device='cuda:3')
discard
cal diff is tensor(0.4861, device='cuda:3')
discard
cal diff is tensor(3643.2588, device='cuda:3')
discard
cal diff is tensor(2.0545, device='cuda:3')
discard
cal diff is tensor(20.2588, device='cuda:3')
discard
cal diff is tensor(0.1706, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.8405666668229904
test entropy is  0.28968083321539834
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.28968083321539834
avg test loss is  0.42590767586790423
avg accuracy is  0.8405666668229904
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.21929743255315814
avg test loss is  7.633814419256344
avg accuracy is  0.24140000015633797
compute_distance is  tensor(92.5231, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(92.5231, device='cuda:3')
test acc is  0.24140000015633797
test entropy is  0.21929743255315814
________________________________
diff is  tensor(0.7092, device='cuda:3')
diff is  tensor(0.0077, device='cuda:3')
diff is  tensor(14.8972, device='cuda:3')
diff is  tensor(0.0156, device='cuda:3')
diff is  tensor(76.3712, device='cuda:3')
diff is  tensor(0.0380, device='cuda:3')
diff is  tensor(0.4685, device='cuda:3')
diff is  tensor(0.0041, device='cuda:3')
threshold is  tensor(33.1412, device='cuda:3')
sum is tensor(0.0041, device='cuda:3')
sum is tensor(0.0119, device='cuda:3')
sum is tensor(0.0275, device='cuda:3')
sum is tensor(0.0655, device='cuda:3')
sum is tensor(0.5340, device='cuda:3')
sum is tensor(1.2433, device='cuda:3')
sum is tensor(16.1405, device='cuda:3')
sum is tensor(92.5117, device='cuda:3')
ratio is tensor(0.7774, device='cuda:3')
threshold is tensor(76.3712, device='cuda:3')
cal diff is tensor(0.7092, device='cuda:3')
discard
cal diff is tensor(0.0077, device='cuda:3')
discard
cal diff is tensor(14.8972, device='cuda:3')
discard
cal diff is tensor(0.0156, device='cuda:3')
discard
cal diff is tensor(76.3712, device='cuda:3')
clipping
cal diff is tensor(0.0380, device='cuda:3')
discard
cal diff is tensor(0.4685, device='cuda:3')
discard
cal diff is tensor(0.0041, device='cuda:3')
discard
________________________________
test distance is  tensor(59.3787, device='cuda:3')
test acc is  0.5650666668230075
test entropy is  0.39325817404334734
________________________________
new distance ratio is 0.2867677359393209
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 17, 18, 19, 21, 8, 9, 10, 11, 12, 14, 15]
 
Avg Training Stats after 54 global rounds:
Train Accuracy: 93.79% 

Test Accuracy: 93.66% 


 | Global Training Round : 55 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.004814650863409042
attack res is False
len of model dicts is  10
compute distance is  tensor(28.5993, device='cuda:3')
compute distance is  tensor(75.3732, device='cuda:3')
compute distance is  tensor(70.8099, device='cuda:3')
compute distance is  tensor(31.8529, device='cuda:3')
compute distance is  tensor(28.4558, device='cuda:3')
compute distance is  tensor(27.9936, device='cuda:3')
compute distance is  tensor(46.6027, device='cuda:3')
compute distance is  tensor(80.4707, device='cuda:3')
compute distance is  tensor(63.1528, device='cuda:3')
compute distance is  tensor(111.3268, device='cuda:3')
calculated distance threshold is  tensor(49.7184, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.421866666823008
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2261000001563374
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.24511666682300481
====================
====================
iteration is  1
round is  0
accuracy is  0.20945000015633686
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.28591666682300576
====================
________________________________
test distance is  tensor(4282.7769, device='cuda:3')
test acc is  0.20945000015633686
test entropy is  0.2615299591822411
________________________________
diff is  tensor(44.3258, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3824, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.0733, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4969, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.9001, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0658, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3319, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2002, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4233.0586, device='cuda:3')
sum is tensor(0.2002, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5826, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0795, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1453, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4772, device='cuda:3', dtype=torch.float64)
sum is tensor(67.8029, device='cuda:3', dtype=torch.float64)
sum is tensor(641.8763, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.7764, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0137, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.9001, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.3258, device='cuda:3')
discard
cal diff is tensor(0.3824, device='cuda:3')
discard
cal diff is tensor(574.0734, device='cuda:3')
discard
cal diff is tensor(0.4969, device='cuda:3')
discard
cal diff is tensor(3640.8999, device='cuda:3')
discard
cal diff is tensor(2.0658, device='cuda:3')
discard
cal diff is tensor(20.3319, device='cuda:3')
discard
cal diff is tensor(0.2002, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9333166668229869
test entropy is  0.2564393267321434
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2564393267321434
avg test loss is  0.22234044531221264
avg accuracy is  0.9333166668229869
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.25950757342615105
avg test loss is  6.701953728824282
avg accuracy is  0.17155000015633481
compute_distance is  tensor(94.9217, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(94.9217, device='cuda:3')
test acc is  0.17155000015633481
test entropy is  0.25950757342615105
________________________________
diff is  tensor(0.7360, device='cuda:3')
diff is  tensor(0.0068, device='cuda:3')
diff is  tensor(15.4061, device='cuda:3')
diff is  tensor(0.0159, device='cuda:3')
diff is  tensor(78.2542, device='cuda:3')
diff is  tensor(0.0317, device='cuda:3')
diff is  tensor(0.4526, device='cuda:3')
diff is  tensor(0.0041, device='cuda:3')
threshold is  tensor(45.2033, device='cuda:3')
sum is tensor(0.0041, device='cuda:3')
sum is tensor(0.0109, device='cuda:3')
sum is tensor(0.0268, device='cuda:3')
sum is tensor(0.0586, device='cuda:3')
sum is tensor(0.5112, device='cuda:3')
sum is tensor(1.2472, device='cuda:3')
sum is tensor(16.6533, device='cuda:3')
sum is tensor(94.9075, device='cuda:3')
ratio is tensor(0.6352, device='cuda:3')
threshold is tensor(78.2542, device='cuda:3')
cal diff is tensor(0.7360, device='cuda:3')
discard
cal diff is tensor(0.0068, device='cuda:3')
discard
cal diff is tensor(15.4061, device='cuda:3')
discard
cal diff is tensor(0.0159, device='cuda:3')
discard
cal diff is tensor(78.2542, device='cuda:3')
clipping
cal diff is tensor(0.0317, device='cuda:3')
discard
cal diff is tensor(0.4526, device='cuda:3')
discard
cal diff is tensor(0.0041, device='cuda:3')
discard
________________________________
test distance is  tensor(49.7139, device='cuda:3')
test acc is  0.7913333334896592
test entropy is  0.40194547457545043
________________________________
new distance ratio is 0.260697941763019
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 34, 36, 37, 39]
 
Avg Training Stats after 55 global rounds:
Train Accuracy: 93.31% 

Test Accuracy: 93.30% 


 | Global Training Round : 56 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.004753537010401487
attack res is False
len of model dicts is  10
compute distance is  tensor(16.9106, device='cuda:3')
compute distance is  tensor(63.4165, device='cuda:3')
compute distance is  tensor(84.2541, device='cuda:3')
compute distance is  tensor(90.2491, device='cuda:3')
compute distance is  tensor(15.1427, device='cuda:3')
compute distance is  tensor(29.5156, device='cuda:3')
compute distance is  tensor(47.4037, device='cuda:3')
compute distance is  tensor(84.5335, device='cuda:3')
compute distance is  tensor(71.2544, device='cuda:3')
compute distance is  tensor(55.1504, device='cuda:3')
calculated distance threshold is  tensor(32.9427, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.2192166668230039
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.29276666682300606
====================
====================
iteration is  0
round is  2
accuracy is  0.22951666682300428
====================
====================
iteration is  1
round is  0
accuracy is  0.31723333348967325
====================
====================
iteration is  1
round is  1
accuracy is  0.20873333348967016
====================
succ_min + 1
________________________________
test distance is  tensor(4283.4590, device='cuda:3')
test acc is  0.20873333348967016
test entropy is  0.21238424081696886
________________________________
diff is  tensor(44.3829, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3493, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.3730, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4783, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.3982, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0151, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2826, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1790, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4250.5161, device='cuda:3')
sum is tensor(0.1790, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5283, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0066, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0218, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3043, device='cuda:3', dtype=torch.float64)
sum is tensor(67.6872, device='cuda:3', dtype=torch.float64)
sum is tensor(641.0602, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.4584, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0090, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.3982, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.3829, device='cuda:3')
discard
cal diff is tensor(0.3493, device='cuda:3')
discard
cal diff is tensor(573.3730, device='cuda:3')
discard
cal diff is tensor(0.4783, device='cuda:3')
discard
cal diff is tensor(3642.3982, device='cuda:3')
discard
cal diff is tensor(2.0151, device='cuda:3')
discard
cal diff is tensor(20.2826, device='cuda:3')
discard
cal diff is tensor(0.1790, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9290500001563204
test entropy is  0.24483897104891125
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.24483897104891125
avg test loss is  0.21896108126899264
avg accuracy is  0.9290500001563204
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.21266492682574653
avg test loss is  7.9430246124389585
avg accuracy is  0.1920333334896693
compute_distance is  tensor(94.7805, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(94.7805, device='cuda:3')
test acc is  0.1920333334896693
test entropy is  0.21266492682574653
________________________________
diff is  tensor(0.8521, device='cuda:3')
diff is  tensor(0.0088, device='cuda:3')
diff is  tensor(16.1536, device='cuda:3')
diff is  tensor(0.0159, device='cuda:3')
diff is  tensor(77.2909, device='cuda:3')
diff is  tensor(0.0342, device='cuda:3')
diff is  tensor(0.4115, device='cuda:3')
diff is  tensor(0.0032, device='cuda:3')
threshold is  tensor(61.8378, device='cuda:3')
sum is tensor(0.0032, device='cuda:3')
sum is tensor(0.0119, device='cuda:3')
sum is tensor(0.0278, device='cuda:3')
sum is tensor(0.0620, device='cuda:3')
sum is tensor(0.4734, device='cuda:3')
sum is tensor(1.3256, device='cuda:3')
sum is tensor(17.4792, device='cuda:3')
sum is tensor(94.7701, device='cuda:3')
ratio is tensor(0.4261, device='cuda:3')
threshold is tensor(77.2909, device='cuda:3')
cal diff is tensor(0.8521, device='cuda:3')
discard
cal diff is tensor(0.0088, device='cuda:3')
discard
cal diff is tensor(16.1536, device='cuda:3')
discard
cal diff is tensor(0.0159, device='cuda:3')
discard
cal diff is tensor(77.2909, device='cuda:3')
clipping
cal diff is tensor(0.0342, device='cuda:3')
discard
cal diff is tensor(0.4115, device='cuda:3')
discard
cal diff is tensor(0.0032, device='cuda:3')
discard
________________________________
test distance is  tensor(32.9389, device='cuda:3')
test acc is  0.883550000156322
test entropy is  0.314385182726612
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.314385182726612
avg test loss is  0.3636785872471231
avg accuracy is  0.883550000156322
compute_distance is  tensor(32.9389, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2128705514598884
avg test loss is  8.19715049881925
avg accuracy is  0.19523333348966948
compute_distance is  tensor(111.0233, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(111.0233, device='cuda:3')
test acc is  0.19523333348966948
test entropy is  0.2128705514598884
________________________________
diff is  tensor(0.9152, device='cuda:3')
diff is  tensor(0.0073, device='cuda:3')
diff is  tensor(14.5693, device='cuda:3')
diff is  tensor(0.0132, device='cuda:3')
diff is  tensor(95.1388, device='cuda:3')
diff is  tensor(0.0267, device='cuda:3')
diff is  tensor(0.3351, device='cuda:3')
diff is  tensor(0.0025, device='cuda:3')
threshold is  tensor(78.0806, device='cuda:3')
sum is tensor(0.0025, device='cuda:3')
sum is tensor(0.0098, device='cuda:3')
sum is tensor(0.0230, device='cuda:3')
sum is tensor(0.0498, device='cuda:3')
sum is tensor(0.3849, device='cuda:3')
sum is tensor(1.3001, device='cuda:3')
sum is tensor(15.8693, device='cuda:3')
sum is tensor(111.0081, device='cuda:3')
ratio is tensor(0.3461, device='cuda:3')
threshold is tensor(95.1388, device='cuda:3')
cal diff is tensor(0.9152, device='cuda:3')
discard
cal diff is tensor(0.0073, device='cuda:3')
discard
cal diff is tensor(14.5693, device='cuda:3')
discard
cal diff is tensor(0.0132, device='cuda:3')
discard
cal diff is tensor(95.1388, device='cuda:3')
clipping
cal diff is tensor(0.0267, device='cuda:3')
discard
cal diff is tensor(0.3351, device='cuda:3')
discard
cal diff is tensor(0.0025, device='cuda:3')
discard
________________________________
test distance is  tensor(32.9365, device='cuda:3')
test acc is  0.8860333334896552
test entropy is  0.3125214345260724
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3125214345260724
avg test loss is  0.35792261277085174
avg accuracy is  0.8860333334896552
compute_distance is  tensor(32.9365, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.21317506984257495
avg test loss is  8.209653057777551
avg accuracy is  0.1955333334896695
compute_distance is  tensor(112.3818, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(112.3818, device='cuda:3')
test acc is  0.1955333334896695
test entropy is  0.21317506984257495
________________________________
diff is  tensor(0.9261, device='cuda:3')
diff is  tensor(0.0074, device='cuda:3')
diff is  tensor(14.7853, device='cuda:3')
diff is  tensor(0.0134, device='cuda:3')
diff is  tensor(96.2695, device='cuda:3')
diff is  tensor(0.0270, device='cuda:3')
diff is  tensor(0.3342, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(79.4391, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0100, device='cuda:3')
sum is tensor(0.0234, device='cuda:3')
sum is tensor(0.0504, device='cuda:3')
sum is tensor(0.3847, device='cuda:3')
sum is tensor(1.3108, device='cuda:3')
sum is tensor(16.0960, device='cuda:3')
sum is tensor(112.3656, device='cuda:3')
ratio is tensor(0.3420, device='cuda:3')
threshold is tensor(96.2695, device='cuda:3')
cal diff is tensor(0.9261, device='cuda:3')
discard
cal diff is tensor(0.0074, device='cuda:3')
discard
cal diff is tensor(14.7853, device='cuda:3')
discard
cal diff is tensor(0.0134, device='cuda:3')
discard
cal diff is tensor(96.2695, device='cuda:3')
clipping
cal diff is tensor(0.0270, device='cuda:3')
discard
cal diff is tensor(0.3342, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(32.9361, device='cuda:3')
test acc is  0.8878666668229885
test entropy is  0.3103628451509008
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3103628451509008
avg test loss is  0.35169286830926627
avg accuracy is  0.8878666668229885
compute_distance is  tensor(32.9361, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.21320551860211753
avg test loss is  8.209242062273818
avg accuracy is  0.19555000015633617
compute_distance is  tensor(112.6644, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(112.6644, device='cuda:3')
test acc is  0.19555000015633617
test entropy is  0.21320551860211753
________________________________
diff is  tensor(0.9285, device='cuda:3')
diff is  tensor(0.0075, device='cuda:3')
diff is  tensor(14.8525, device='cuda:3')
diff is  tensor(0.0135, device='cuda:3')
diff is  tensor(96.4814, device='cuda:3')
diff is  tensor(0.0272, device='cuda:3')
diff is  tensor(0.3346, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(79.7216, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0100, device='cuda:3')
sum is tensor(0.0235, device='cuda:3')
sum is tensor(0.0507, device='cuda:3')
sum is tensor(0.3852, device='cuda:3')
sum is tensor(1.3138, device='cuda:3')
sum is tensor(16.1663, device='cuda:3')
sum is tensor(112.6477, device='cuda:3')
ratio is tensor(0.3413, device='cuda:3')
threshold is tensor(96.4814, device='cuda:3')
cal diff is tensor(0.9285, device='cuda:3')
discard
cal diff is tensor(0.0075, device='cuda:3')
discard
cal diff is tensor(14.8525, device='cuda:3')
discard
cal diff is tensor(0.0135, device='cuda:3')
discard
cal diff is tensor(96.4814, device='cuda:3')
clipping
cal diff is tensor(0.0272, device='cuda:3')
discard
cal diff is tensor(0.3346, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(32.9360, device='cuda:3')
test acc is  0.8885333334896551
test entropy is  0.3095098671628468
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3095098671628468
avg test loss is  0.349578612307305
avg accuracy is  0.8885333334896551
compute_distance is  tensor(32.9360, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.21325701819077483
avg test loss is  8.20904061738362
avg accuracy is  0.19555000015633617
compute_distance is  tensor(112.7577, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(112.7577, device='cuda:3')
test acc is  0.19555000015633617
test entropy is  0.21325701819077483
________________________________
diff is  tensor(0.9291, device='cuda:3')
diff is  tensor(0.0075, device='cuda:3')
diff is  tensor(14.8736, device='cuda:3')
diff is  tensor(0.0135, device='cuda:3')
diff is  tensor(96.5526, device='cuda:3')
diff is  tensor(0.0272, device='cuda:3')
diff is  tensor(0.3347, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(79.8150, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0100, device='cuda:3')
sum is tensor(0.0236, device='cuda:3')
sum is tensor(0.0508, device='cuda:3')
sum is tensor(0.3855, device='cuda:3')
sum is tensor(1.3146, device='cuda:3')
sum is tensor(16.1882, device='cuda:3')
sum is tensor(112.7409, device='cuda:3')
ratio is tensor(0.3410, device='cuda:3')
threshold is tensor(96.5526, device='cuda:3')
cal diff is tensor(0.9291, device='cuda:3')
discard
cal diff is tensor(0.0075, device='cuda:3')
discard
cal diff is tensor(14.8736, device='cuda:3')
discard
cal diff is tensor(0.0135, device='cuda:3')
discard
cal diff is tensor(96.5526, device='cuda:3')
clipping
cal diff is tensor(0.0272, device='cuda:3')
discard
cal diff is tensor(0.3347, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(32.9359, device='cuda:3')
test acc is  0.8887166668229884
test entropy is  0.3091900438102069
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3091900438102069
avg test loss is  0.34882926222469124
avg accuracy is  0.8887166668229884
compute_distance is  tensor(32.9359, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2132822500903215
avg test loss is  8.209196227445785
avg accuracy is  0.19555000015633617
compute_distance is  tensor(112.8002, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(112.8002, device='cuda:3')
test acc is  0.19555000015633617
test entropy is  0.2132822500903215
________________________________
diff is  tensor(0.9291, device='cuda:3')
diff is  tensor(0.0075, device='cuda:3')
diff is  tensor(14.8801, device='cuda:3')
diff is  tensor(0.0135, device='cuda:3')
diff is  tensor(96.5884, device='cuda:3')
diff is  tensor(0.0272, device='cuda:3')
diff is  tensor(0.3348, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(79.8575, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0100, device='cuda:3')
sum is tensor(0.0236, device='cuda:3')
sum is tensor(0.0508, device='cuda:3')
sum is tensor(0.3856, device='cuda:3')
sum is tensor(1.3147, device='cuda:3')
sum is tensor(16.1949, device='cuda:3')
sum is tensor(112.7833, device='cuda:3')
ratio is tensor(0.3409, device='cuda:3')
threshold is tensor(96.5884, device='cuda:3')
cal diff is tensor(0.9291, device='cuda:3')
discard
cal diff is tensor(0.0075, device='cuda:3')
discard
cal diff is tensor(14.8801, device='cuda:3')
discard
cal diff is tensor(0.0135, device='cuda:3')
discard
cal diff is tensor(96.5884, device='cuda:3')
clipping
cal diff is tensor(0.0272, device='cuda:3')
discard
cal diff is tensor(0.3348, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(32.9359, device='cuda:3')
test acc is  0.8887833334896551
test entropy is  0.3090547335618086
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3090547335618086
avg test loss is  0.3485130752994816
avg accuracy is  0.8887833334896551
compute_distance is  tensor(32.9359, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.21329666718618193
avg test loss is  8.210697973206608
avg accuracy is  0.1955333334896695
compute_distance is  tensor(112.8227, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(112.8227, device='cuda:3')
test acc is  0.1955333334896695
test entropy is  0.21329666718618193
________________________________
diff is  tensor(0.9289, device='cuda:3')
diff is  tensor(0.0075, device='cuda:3')
diff is  tensor(14.8805, device='cuda:3')
diff is  tensor(0.0135, device='cuda:3')
diff is  tensor(96.6106, device='cuda:3')
diff is  tensor(0.0273, device='cuda:3')
diff is  tensor(0.3349, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(79.8800, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0100, device='cuda:3')
sum is tensor(0.0236, device='cuda:3')
sum is tensor(0.0508, device='cuda:3')
sum is tensor(0.3857, device='cuda:3')
sum is tensor(1.3146, device='cuda:3')
sum is tensor(16.1951, device='cuda:3')
sum is tensor(112.8057, device='cuda:3')
ratio is tensor(0.3408, device='cuda:3')
threshold is tensor(96.6106, device='cuda:3')
cal diff is tensor(0.9289, device='cuda:3')
discard
cal diff is tensor(0.0075, device='cuda:3')
discard
cal diff is tensor(14.8805, device='cuda:3')
discard
cal diff is tensor(0.0135, device='cuda:3')
discard
cal diff is tensor(96.6106, device='cuda:3')
clipping
cal diff is tensor(0.0273, device='cuda:3')
discard
cal diff is tensor(0.3349, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(32.9359, device='cuda:3')
test acc is  0.8888666668229884
test entropy is  0.30897087727719025
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.30897087727719025
avg test loss is  0.3483597866849287
avg accuracy is  0.8888666668229884
compute_distance is  tensor(32.9359, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.21329866396561106
avg test loss is  8.211236578060873
avg accuracy is  0.19551666682300284
compute_distance is  tensor(112.8297, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(112.8297, device='cuda:3')
test acc is  0.19551666682300284
test entropy is  0.21329866396561106
________________________________
diff is  tensor(0.9287, device='cuda:3')
diff is  tensor(0.0075, device='cuda:3')
diff is  tensor(14.8805, device='cuda:3')
diff is  tensor(0.0135, device='cuda:3')
diff is  tensor(96.6177, device='cuda:3')
diff is  tensor(0.0273, device='cuda:3')
diff is  tensor(0.3349, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(79.8870, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0100, device='cuda:3')
sum is tensor(0.0236, device='cuda:3')
sum is tensor(0.0508, device='cuda:3')
sum is tensor(0.3857, device='cuda:3')
sum is tensor(1.3145, device='cuda:3')
sum is tensor(16.1950, device='cuda:3')
sum is tensor(112.8127, device='cuda:3')
ratio is tensor(0.3408, device='cuda:3')
threshold is tensor(96.6177, device='cuda:3')
cal diff is tensor(0.9287, device='cuda:3')
discard
cal diff is tensor(0.0075, device='cuda:3')
discard
cal diff is tensor(14.8805, device='cuda:3')
discard
cal diff is tensor(0.0135, device='cuda:3')
discard
cal diff is tensor(96.6177, device='cuda:3')
clipping
cal diff is tensor(0.0273, device='cuda:3')
discard
cal diff is tensor(0.3349, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(32.9359, device='cuda:3')
test acc is  0.8889333334896551
test entropy is  0.30891041691178706
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.30891041691178706
avg test loss is  0.348259643518499
avg accuracy is  0.8889333334896551
compute_distance is  tensor(32.9359, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.21330576523471234
avg test loss is  8.211535802019684
avg accuracy is  0.1955333334896695
compute_distance is  tensor(112.8410, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(112.8410, device='cuda:3')
test acc is  0.1955333334896695
test entropy is  0.21330576523471234
________________________________
diff is  tensor(0.9287, device='cuda:3')
diff is  tensor(0.0075, device='cuda:3')
diff is  tensor(14.8817, device='cuda:3')
diff is  tensor(0.0135, device='cuda:3')
diff is  tensor(96.6278, device='cuda:3')
diff is  tensor(0.0273, device='cuda:3')
diff is  tensor(0.3349, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(79.8983, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0100, device='cuda:3')
sum is tensor(0.0236, device='cuda:3')
sum is tensor(0.0509, device='cuda:3')
sum is tensor(0.3858, device='cuda:3')
sum is tensor(1.3145, device='cuda:3')
sum is tensor(16.1961, device='cuda:3')
sum is tensor(112.8239, device='cuda:3')
ratio is tensor(0.3407, device='cuda:3')
threshold is tensor(96.6278, device='cuda:3')
cal diff is tensor(0.9287, device='cuda:3')
discard
cal diff is tensor(0.0075, device='cuda:3')
discard
cal diff is tensor(14.8817, device='cuda:3')
discard
cal diff is tensor(0.0135, device='cuda:3')
discard
cal diff is tensor(96.6278, device='cuda:3')
clipping
cal diff is tensor(0.0273, device='cuda:3')
discard
cal diff is tensor(0.3349, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(32.9359, device='cuda:3')
test acc is  0.8889333334896551
test entropy is  0.3088621704467832
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3088621704467832
avg test loss is  0.3481800755156256
avg accuracy is  0.8889333334896551
compute_distance is  tensor(32.9359, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2133091346604992
avg test loss is  8.211930113814788
avg accuracy is  0.1955333334896695
compute_distance is  tensor(112.8485, device='cuda:3')
++++++++++++++++++++
reach max round
new distance ratio is 0.260697941763019
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 24, 25, 26, 27, 28, 29, 30, 31, 8, 10, 11, 12, 13, 14, 15]
 
Avg Training Stats after 56 global rounds:
Train Accuracy: 96.93% 

Test Accuracy: 96.77% 


 | Global Training Round : 57 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.006433875299990177
attack res is True
len of model dicts is  10
compute distance is  tensor(17.4491, device='cuda:3')
compute distance is  tensor(42.1936, device='cuda:3')
compute distance is  tensor(66.9123, device='cuda:3')
compute distance is  tensor(58.6523, device='cuda:3')
compute distance is  tensor(26.5408, device='cuda:3')
compute distance is  tensor(24.8273, device='cuda:3')
compute distance is  tensor(27.5042, device='cuda:3')
compute distance is  tensor(43.8408, device='cuda:3')
compute distance is  tensor(78.2262, device='cuda:3')
compute distance is  tensor(79.3815, device='cuda:3')
calculated distance threshold is  tensor(35.2093, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.40168333348967455
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.3277333334896735
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.3425166668230069
====================
====================
iteration is  1
round is  0
accuracy is  0.5049333334896755
====================
====================
iteration is  1
round is  1
accuracy is  0.40053333348967446
====================
________________________________
test distance is  tensor(4285.5869, device='cuda:3')
test acc is  0.3277333334896735
test entropy is  0.35953327978470684
________________________________
diff is  tensor(45.3421, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3611, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.7517, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5720, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.9728, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9817, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3948, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2104, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4250.3774, device='cuda:3')
sum is tensor(0.2104, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5715, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1434, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1251, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5199, device='cuda:3', dtype=torch.float64)
sum is tensor(68.8620, device='cuda:3', dtype=torch.float64)
sum is tensor(643.6137, device='cuda:3', dtype=torch.float64)
sum is tensor(4285.5866, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0097, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.9728, device='cuda:3', dtype=torch.float64)
cal diff is tensor(45.3421, device='cuda:3')
discard
cal diff is tensor(0.3611, device='cuda:3')
discard
cal diff is tensor(574.7517, device='cuda:3')
discard
cal diff is tensor(0.5720, device='cuda:3')
discard
cal diff is tensor(3641.9729, device='cuda:3')
clipping
cal diff is tensor(1.9817, device='cuda:3')
discard
cal diff is tensor(20.3948, device='cuda:3')
discard
cal diff is tensor(0.2104, device='cuda:3')
discard
________________________________
test distance is  tensor(35.2194, device='cuda:3')
test acc is  0.9670166668229858
test entropy is  0.1544208732634179
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(35.2092, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0101, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0177, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(35.2092, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.6369, device='cuda:3')
test acc is  0.9668000001563191
test entropy is  0.15488014413294063
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.15488014413294063
avg test loss is  0.11190882690602354
avg accuracy is  0.9668000001563191
compute_distance is  tensor(0.6369, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3813505320946799
avg test loss is  4.142203613384955
avg accuracy is  0.3494333334896737
compute_distance is  tensor(92.8032, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(92.8032, device='cuda:3')
test acc is  0.3494333334896737
test entropy is  0.3813505320946799
________________________________
diff is  tensor(0.7712, device='cuda:3')
diff is  tensor(0.0081, device='cuda:3')
diff is  tensor(14.8286, device='cuda:3')
diff is  tensor(0.0152, device='cuda:3')
diff is  tensor(76.7298, device='cuda:3')
diff is  tensor(0.0313, device='cuda:3')
diff is  tensor(0.4055, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(57.5939, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0111, device='cuda:3')
sum is tensor(0.0264, device='cuda:3')
sum is tensor(0.0577, device='cuda:3')
sum is tensor(0.4632, device='cuda:3')
sum is tensor(1.2344, device='cuda:3')
sum is tensor(16.0630, device='cuda:3')
sum is tensor(92.7928, device='cuda:3')
ratio is tensor(0.4587, device='cuda:3')
threshold is tensor(76.7298, device='cuda:3')
cal diff is tensor(0.7712, device='cuda:3')
discard
cal diff is tensor(0.0081, device='cuda:3')
discard
cal diff is tensor(14.8286, device='cuda:3')
discard
cal diff is tensor(0.0152, device='cuda:3')
discard
cal diff is tensor(76.7298, device='cuda:3')
clipping
cal diff is tensor(0.0313, device='cuda:3')
discard
cal diff is tensor(0.4055, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(35.2064, device='cuda:3')
test acc is  0.9475000001563197
test entropy is  0.2290258217753886
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2290258217753886
avg test loss is  0.17327304148097347
avg accuracy is  0.9475000001563197
compute_distance is  tensor(35.2064, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.37835772872479484
avg test loss is  4.253607423829117
avg accuracy is  0.34171666682300694
compute_distance is  tensor(112.0375, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(112.0375, device='cuda:3')
test acc is  0.34171666682300694
test entropy is  0.37835772872479484
________________________________
diff is  tensor(0.9574, device='cuda:3')
diff is  tensor(0.0075, device='cuda:3')
diff is  tensor(13.6728, device='cuda:3')
diff is  tensor(0.0129, device='cuda:3')
diff is  tensor(97.0147, device='cuda:3')
diff is  tensor(0.0230, device='cuda:3')
diff is  tensor(0.3294, device='cuda:3')
diff is  tensor(0.0024, device='cuda:3')
threshold is  tensor(76.8281, device='cuda:3')
sum is tensor(0.0024, device='cuda:3')
sum is tensor(0.0099, device='cuda:3')
sum is tensor(0.0227, device='cuda:3')
sum is tensor(0.0458, device='cuda:3')
sum is tensor(0.3752, device='cuda:3')
sum is tensor(1.3326, device='cuda:3')
sum is tensor(15.0053, device='cuda:3')
sum is tensor(112.0200, device='cuda:3')
ratio is tensor(0.3627, device='cuda:3')
threshold is tensor(97.0147, device='cuda:3')
cal diff is tensor(0.9574, device='cuda:3')
discard
cal diff is tensor(0.0075, device='cuda:3')
discard
cal diff is tensor(13.6728, device='cuda:3')
discard
cal diff is tensor(0.0129, device='cuda:3')
discard
cal diff is tensor(97.0147, device='cuda:3')
clipping
cal diff is tensor(0.0230, device='cuda:3')
discard
cal diff is tensor(0.3294, device='cuda:3')
discard
cal diff is tensor(0.0024, device='cuda:3')
discard
________________________________
test distance is  tensor(35.2028, device='cuda:3')
test acc is  0.9507666668229864
test entropy is  0.2170018361114871
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2170018361114871
avg test loss is  0.1630879494407252
avg accuracy is  0.9507666668229864
compute_distance is  tensor(35.2028, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.37877196740748276
avg test loss is  4.254354324676335
avg accuracy is  0.3415333334896736
compute_distance is  tensor(113.8765, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(113.8765, device='cuda:3')
test acc is  0.3415333334896736
test entropy is  0.37877196740748276
________________________________
diff is  tensor(0.9690, device='cuda:3')
diff is  tensor(0.0077, device='cuda:3')
diff is  tensor(13.9550, device='cuda:3')
diff is  tensor(0.0132, device='cuda:3')
diff is  tensor(98.5571, device='cuda:3')
diff is  tensor(0.0236, device='cuda:3')
diff is  tensor(0.3297, device='cuda:3')
diff is  tensor(0.0024, device='cuda:3')
threshold is  tensor(78.6672, device='cuda:3')
sum is tensor(0.0024, device='cuda:3')
sum is tensor(0.0100, device='cuda:3')
sum is tensor(0.0233, device='cuda:3')
sum is tensor(0.0468, device='cuda:3')
sum is tensor(0.3766, device='cuda:3')
sum is tensor(1.3456, device='cuda:3')
sum is tensor(15.3005, device='cuda:3')
sum is tensor(113.8577, device='cuda:3')
ratio is tensor(0.3571, device='cuda:3')
threshold is tensor(98.5571, device='cuda:3')
cal diff is tensor(0.9690, device='cuda:3')
discard
cal diff is tensor(0.0077, device='cuda:3')
discard
cal diff is tensor(13.9550, device='cuda:3')
discard
cal diff is tensor(0.0132, device='cuda:3')
discard
cal diff is tensor(98.5571, device='cuda:3')
clipping
cal diff is tensor(0.0236, device='cuda:3')
discard
cal diff is tensor(0.3297, device='cuda:3')
discard
cal diff is tensor(0.0024, device='cuda:3')
discard
________________________________
test distance is  tensor(35.2023, device='cuda:3')
test acc is  0.9518833334896529
test entropy is  0.21389924186760428
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.21389924186760428
avg test loss is  0.15972303154308404
avg accuracy is  0.9518833334896529
compute_distance is  tensor(35.2023, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3790413295186913
avg test loss is  4.253874605906797
avg accuracy is  0.34160000015634023
compute_distance is  tensor(114.3020, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(114.3020, device='cuda:3')
test acc is  0.34160000015634023
test entropy is  0.3790413295186913
________________________________
diff is  tensor(0.9708, device='cuda:3')
diff is  tensor(0.0077, device='cuda:3')
diff is  tensor(14.0530, device='cuda:3')
diff is  tensor(0.0133, device='cuda:3')
diff is  tensor(98.8808, device='cuda:3')
diff is  tensor(0.0238, device='cuda:3')
diff is  tensor(0.3308, device='cuda:3')
diff is  tensor(0.0024, device='cuda:3')
threshold is  tensor(79.0927, device='cuda:3')
sum is tensor(0.0024, device='cuda:3')
sum is tensor(0.0101, device='cuda:3')
sum is tensor(0.0234, device='cuda:3')
sum is tensor(0.0472, device='cuda:3')
sum is tensor(0.3780, device='cuda:3')
sum is tensor(1.3488, device='cuda:3')
sum is tensor(15.4018, device='cuda:3')
sum is tensor(114.2826, device='cuda:3')
ratio is tensor(0.3559, device='cuda:3')
threshold is tensor(98.8808, device='cuda:3')
cal diff is tensor(0.9708, device='cuda:3')
discard
cal diff is tensor(0.0077, device='cuda:3')
discard
cal diff is tensor(14.0530, device='cuda:3')
discard
cal diff is tensor(0.0133, device='cuda:3')
discard
cal diff is tensor(98.8808, device='cuda:3')
clipping
cal diff is tensor(0.0238, device='cuda:3')
discard
cal diff is tensor(0.3308, device='cuda:3')
discard
cal diff is tensor(0.0024, device='cuda:3')
discard
________________________________
test distance is  tensor(35.2021, device='cuda:3')
test acc is  0.9521166668229862
test entropy is  0.21297270548083128
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.21297270548083128
avg test loss is  0.15874865493858292
avg accuracy is  0.9521166668229862
compute_distance is  tensor(35.2021, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3791439109551373
avg test loss is  4.254572037694805
avg accuracy is  0.3415333334896736
compute_distance is  tensor(114.4310, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(114.4310, device='cuda:3')
test acc is  0.3415333334896736
test entropy is  0.3791439109551373
________________________________
diff is  tensor(0.9712, device='cuda:3')
diff is  tensor(0.0078, device='cuda:3')
diff is  tensor(14.0846, device='cuda:3')
diff is  tensor(0.0133, device='cuda:3')
diff is  tensor(98.9770, device='cuda:3')
diff is  tensor(0.0238, device='cuda:3')
diff is  tensor(0.3312, device='cuda:3')
diff is  tensor(0.0024, device='cuda:3')
threshold is  tensor(79.2216, device='cuda:3')
sum is tensor(0.0024, device='cuda:3')
sum is tensor(0.0101, device='cuda:3')
sum is tensor(0.0235, device='cuda:3')
sum is tensor(0.0473, device='cuda:3')
sum is tensor(0.3785, device='cuda:3')
sum is tensor(1.3497, device='cuda:3')
sum is tensor(15.4343, device='cuda:3')
sum is tensor(114.4113, device='cuda:3')
ratio is tensor(0.3555, device='cuda:3')
threshold is tensor(98.9770, device='cuda:3')
cal diff is tensor(0.9712, device='cuda:3')
discard
cal diff is tensor(0.0078, device='cuda:3')
discard
cal diff is tensor(14.0846, device='cuda:3')
discard
cal diff is tensor(0.0133, device='cuda:3')
discard
cal diff is tensor(98.9770, device='cuda:3')
clipping
cal diff is tensor(0.0238, device='cuda:3')
discard
cal diff is tensor(0.3312, device='cuda:3')
discard
cal diff is tensor(0.0024, device='cuda:3')
discard
________________________________
test distance is  tensor(35.2020, device='cuda:3')
test acc is  0.9522000001563196
test entropy is  0.2126238058720316
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2126238058720316
avg test loss is  0.1584272186950977
avg accuracy is  0.9522000001563196
compute_distance is  tensor(35.2020, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.37923926526485985
avg test loss is  4.2549379067634465
avg accuracy is  0.3415666668230069
compute_distance is  tensor(114.4924, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(114.4924, device='cuda:3')
test acc is  0.3415666668230069
test entropy is  0.37923926526485985
________________________________
diff is  tensor(0.9713, device='cuda:3')
diff is  tensor(0.0078, device='cuda:3')
diff is  tensor(14.0986, device='cuda:3')
diff is  tensor(0.0134, device='cuda:3')
diff is  tensor(99.0239, device='cuda:3')
diff is  tensor(0.0238, device='cuda:3')
diff is  tensor(0.3314, device='cuda:3')
diff is  tensor(0.0024, device='cuda:3')
threshold is  tensor(79.2831, device='cuda:3')
sum is tensor(0.0024, device='cuda:3')
sum is tensor(0.0101, device='cuda:3')
sum is tensor(0.0235, device='cuda:3')
sum is tensor(0.0473, device='cuda:3')
sum is tensor(0.3788, device='cuda:3')
sum is tensor(1.3500, device='cuda:3')
sum is tensor(15.4486, device='cuda:3')
sum is tensor(114.4726, device='cuda:3')
ratio is tensor(0.3554, device='cuda:3')
threshold is tensor(99.0239, device='cuda:3')
cal diff is tensor(0.9713, device='cuda:3')
discard
cal diff is tensor(0.0078, device='cuda:3')
discard
cal diff is tensor(14.0986, device='cuda:3')
discard
cal diff is tensor(0.0134, device='cuda:3')
discard
cal diff is tensor(99.0239, device='cuda:3')
clipping
cal diff is tensor(0.0238, device='cuda:3')
discard
cal diff is tensor(0.3314, device='cuda:3')
discard
cal diff is tensor(0.0024, device='cuda:3')
discard
________________________________
test distance is  tensor(35.2019, device='cuda:3')
test acc is  0.9523000001563195
test entropy is  0.21243765428344577
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.21243765428344577
avg test loss is  0.1582537514509073
avg accuracy is  0.9523000001563195
compute_distance is  tensor(35.2019, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.37927517893789675
avg test loss is  4.2548406027527506
avg accuracy is  0.34160000015634023
compute_distance is  tensor(114.5205, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(114.5205, device='cuda:3')
test acc is  0.34160000015634023
test entropy is  0.37927517893789675
________________________________
diff is  tensor(0.9713, device='cuda:3')
diff is  tensor(0.0078, device='cuda:3')
diff is  tensor(14.1054, device='cuda:3')
diff is  tensor(0.0134, device='cuda:3')
diff is  tensor(99.0448, device='cuda:3')
diff is  tensor(0.0238, device='cuda:3')
diff is  tensor(0.3316, device='cuda:3')
diff is  tensor(0.0024, device='cuda:3')
threshold is  tensor(79.3112, device='cuda:3')
sum is tensor(0.0024, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(0.0235, device='cuda:3')
sum is tensor(0.0474, device='cuda:3')
sum is tensor(0.3789, device='cuda:3')
sum is tensor(1.3503, device='cuda:3')
sum is tensor(15.4557, device='cuda:3')
sum is tensor(114.5005, device='cuda:3')
ratio is tensor(0.3553, device='cuda:3')
threshold is tensor(99.0448, device='cuda:3')
cal diff is tensor(0.9713, device='cuda:3')
discard
cal diff is tensor(0.0078, device='cuda:3')
discard
cal diff is tensor(14.1054, device='cuda:3')
discard
cal diff is tensor(0.0134, device='cuda:3')
discard
cal diff is tensor(99.0448, device='cuda:3')
clipping
cal diff is tensor(0.0238, device='cuda:3')
discard
cal diff is tensor(0.3316, device='cuda:3')
discard
cal diff is tensor(0.0024, device='cuda:3')
discard
________________________________
test distance is  tensor(35.2019, device='cuda:3')
test acc is  0.9523166668229862
test entropy is  0.21232325501088647
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.21232325501088647
avg test loss is  0.1581476587347432
avg accuracy is  0.9523166668229862
compute_distance is  tensor(35.2019, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.37931914062006894
avg test loss is  4.254997739913875
avg accuracy is  0.3415666668230069
compute_distance is  tensor(114.5400, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(114.5400, device='cuda:3')
test acc is  0.3415666668230069
test entropy is  0.37931914062006894
________________________________
diff is  tensor(0.9713, device='cuda:3')
diff is  tensor(0.0078, device='cuda:3')
diff is  tensor(14.1090, device='cuda:3')
diff is  tensor(0.0134, device='cuda:3')
diff is  tensor(99.0605, device='cuda:3')
diff is  tensor(0.0238, device='cuda:3')
diff is  tensor(0.3317, device='cuda:3')
diff is  tensor(0.0024, device='cuda:3')
threshold is  tensor(79.3307, device='cuda:3')
sum is tensor(0.0024, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(0.0235, device='cuda:3')
sum is tensor(0.0474, device='cuda:3')
sum is tensor(0.3791, device='cuda:3')
sum is tensor(1.3504, device='cuda:3')
sum is tensor(15.4594, device='cuda:3')
sum is tensor(114.5199, device='cuda:3')
ratio is tensor(0.3552, device='cuda:3')
threshold is tensor(99.0605, device='cuda:3')
cal diff is tensor(0.9713, device='cuda:3')
discard
cal diff is tensor(0.0078, device='cuda:3')
discard
cal diff is tensor(14.1090, device='cuda:3')
discard
cal diff is tensor(0.0134, device='cuda:3')
discard
cal diff is tensor(99.0605, device='cuda:3')
clipping
cal diff is tensor(0.0238, device='cuda:3')
discard
cal diff is tensor(0.3317, device='cuda:3')
discard
cal diff is tensor(0.0024, device='cuda:3')
discard
________________________________
test distance is  tensor(35.2019, device='cuda:3')
test acc is  0.9523333334896529
test entropy is  0.21224685657475548
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.21224685657475548
avg test loss is  0.15807576146997462
avg accuracy is  0.9523333334896529
compute_distance is  tensor(35.2019, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3793465274133916
avg test loss is  4.255138591916831
avg accuracy is  0.3415333334896736
compute_distance is  tensor(114.5467, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(114.5467, device='cuda:3')
test acc is  0.3415333334896736
test entropy is  0.3793465274133916
________________________________
diff is  tensor(0.9713, device='cuda:3')
diff is  tensor(0.0078, device='cuda:3')
diff is  tensor(14.1107, device='cuda:3')
diff is  tensor(0.0134, device='cuda:3')
diff is  tensor(99.0654, device='cuda:3')
diff is  tensor(0.0238, device='cuda:3')
diff is  tensor(0.3317, device='cuda:3')
diff is  tensor(0.0024, device='cuda:3')
threshold is  tensor(79.3373, device='cuda:3')
sum is tensor(0.0024, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(0.0235, device='cuda:3')
sum is tensor(0.0474, device='cuda:3')
sum is tensor(0.3791, device='cuda:3')
sum is tensor(1.3504, device='cuda:3')
sum is tensor(15.4611, device='cuda:3')
sum is tensor(114.5265, device='cuda:3')
ratio is tensor(0.3552, device='cuda:3')
threshold is tensor(99.0654, device='cuda:3')
cal diff is tensor(0.9713, device='cuda:3')
discard
cal diff is tensor(0.0078, device='cuda:3')
discard
cal diff is tensor(14.1107, device='cuda:3')
discard
cal diff is tensor(0.0134, device='cuda:3')
discard
cal diff is tensor(99.0654, device='cuda:3')
clipping
cal diff is tensor(0.0238, device='cuda:3')
discard
cal diff is tensor(0.3317, device='cuda:3')
discard
cal diff is tensor(0.0024, device='cuda:3')
discard
reach max round
new distance ratio is 0.260697941763019
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 17, 18, 19, 21]
 
Avg Training Stats after 57 global rounds:
Train Accuracy: 95.56% 

Test Accuracy: 95.18% 


 | Global Training Round : 58 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.006414161529392004
attack res is True
len of model dicts is  10
compute distance is  tensor(43.3090, device='cuda:3')
compute distance is  tensor(66.7297, device='cuda:3')
compute distance is  tensor(99.8188, device='cuda:3')
compute distance is  tensor(54.2868, device='cuda:3')
compute distance is  tensor(25.7996, device='cuda:3')
compute distance is  tensor(39.4817, device='cuda:3')
compute distance is  tensor(57.5051, device='cuda:3')
compute distance is  tensor(41.5700, device='cuda:3')
compute distance is  tensor(80.4103, device='cuda:3')
compute distance is  tensor(82.9213, device='cuda:3')
calculated distance threshold is  tensor(47.0259, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.2828666668230057
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.29713333348967286
====================
====================
iteration is  0
round is  2
accuracy is  0.3725333334896741
====================
====================
iteration is  1
round is  0
accuracy is  0.23518333348967102
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.30165000015633947
====================
________________________________
test distance is  tensor(4282.0254, device='cuda:3')
test acc is  0.23518333348967102
test entropy is  0.29687046038824866
________________________________
diff is  tensor(45.4765, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3470, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.0217, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5244, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.0257, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0268, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3728, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2305, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4234.9995, device='cuda:3')
sum is tensor(0.2305, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5776, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1020, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1288, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5016, device='cuda:3', dtype=torch.float64)
sum is tensor(68.9781, device='cuda:3', dtype=torch.float64)
sum is tensor(639.9998, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.0255, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0129, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.0257, device='cuda:3', dtype=torch.float64)
cal diff is tensor(45.4765, device='cuda:3')
discard
cal diff is tensor(0.3470, device='cuda:3')
discard
cal diff is tensor(571.0217, device='cuda:3')
discard
cal diff is tensor(0.5244, device='cuda:3')
discard
cal diff is tensor(3642.0259, device='cuda:3')
clipping
cal diff is tensor(2.0268, device='cuda:3')
discard
cal diff is tensor(20.3728, device='cuda:3')
discard
cal diff is tensor(0.2305, device='cuda:3')
discard
________________________________
test distance is  tensor(47.0363, device='cuda:3')
test acc is  0.9499500001563197
test entropy is  0.1841587236385419
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(47.0261, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0103, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(47.0363, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(47.0261, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(47.0261, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(47.0361, device='cuda:3')
test acc is  0.9499500001563197
test entropy is  0.18415879415693695
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(47.0260, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0004, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(47.0260, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0713, device='cuda:3')
test acc is  0.949983333489653
test entropy is  0.18361225915647772
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.18361225915647772
avg test loss is  0.15927371179271957
avg accuracy is  0.949983333489653
compute_distance is  tensor(0.0713, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.341323393081297
avg test loss is  5.582616601671491
avg accuracy is  0.2408333334896712
compute_distance is  tensor(98.9660, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(98.9660, device='cuda:3')
test acc is  0.2408333334896712
test entropy is  0.341323393081297
________________________________
diff is  tensor(0.9718, device='cuda:3')
diff is  tensor(0.0087, device='cuda:3')
diff is  tensor(16.3599, device='cuda:3')
diff is  tensor(0.0166, device='cuda:3')
diff is  tensor(81.0984, device='cuda:3')
diff is  tensor(0.0358, device='cuda:3')
diff is  tensor(0.4586, device='cuda:3')
diff is  tensor(0.0038, device='cuda:3')
threshold is  tensor(51.9401, device='cuda:3')
sum is tensor(0.0038, device='cuda:3')
sum is tensor(0.0125, device='cuda:3')
sum is tensor(0.0290, device='cuda:3')
sum is tensor(0.0648, device='cuda:3')
sum is tensor(0.5234, device='cuda:3')
sum is tensor(1.4952, device='cuda:3')
sum is tensor(17.8551, device='cuda:3')
sum is tensor(98.9534, device='cuda:3')
ratio is tensor(0.5797, device='cuda:3')
threshold is tensor(81.0984, device='cuda:3')
cal diff is tensor(0.9718, device='cuda:3')
discard
cal diff is tensor(0.0087, device='cuda:3')
discard
cal diff is tensor(16.3599, device='cuda:3')
discard
cal diff is tensor(0.0166, device='cuda:3')
discard
cal diff is tensor(81.0984, device='cuda:3')
clipping
cal diff is tensor(0.0358, device='cuda:3')
discard
cal diff is tensor(0.4586, device='cuda:3')
discard
cal diff is tensor(0.0038, device='cuda:3')
discard
________________________________
test distance is  tensor(47.0229, device='cuda:3')
test acc is  0.8929666668229883
test entropy is  0.3114629359895995
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.3114629359895995
avg test loss is  0.3025013018312103
avg accuracy is  0.8929666668229883
compute_distance is  tensor(47.0229, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.32536185491504444
avg test loss is  5.734274820986587
avg accuracy is  0.23808333348967115
compute_distance is  tensor(121.1704, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(121.1704, device='cuda:3')
test acc is  0.23808333348967115
test entropy is  0.32536185491504444
________________________________
diff is  tensor(1.0708, device='cuda:3')
diff is  tensor(0.0084, device='cuda:3')
diff is  tensor(15.7010, device='cuda:3')
diff is  tensor(0.0141, device='cuda:3')
diff is  tensor(103.9975, device='cuda:3')
diff is  tensor(0.0221, device='cuda:3')
diff is  tensor(0.3341, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(74.1445, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0110, device='cuda:3')
sum is tensor(0.0251, device='cuda:3')
sum is tensor(0.0471, device='cuda:3')
sum is tensor(0.3813, device='cuda:3')
sum is tensor(1.4520, device='cuda:3')
sum is tensor(17.1530, device='cuda:3')
sum is tensor(121.1505, device='cuda:3')
ratio is tensor(0.4520, device='cuda:3')
threshold is tensor(103.9975, device='cuda:3')
cal diff is tensor(1.0708, device='cuda:3')
discard
cal diff is tensor(0.0084, device='cuda:3')
discard
cal diff is tensor(15.7010, device='cuda:3')
discard
cal diff is tensor(0.0141, device='cuda:3')
discard
cal diff is tensor(103.9975, device='cuda:3')
clipping
cal diff is tensor(0.0221, device='cuda:3')
discard
cal diff is tensor(0.3341, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(47.0182, device='cuda:3')
test acc is  0.9085833334896545
test entropy is  0.28421905825831995
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.28421905825831995
avg test loss is  0.2608982672744087
avg accuracy is  0.9085833334896545
compute_distance is  tensor(47.0182, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3231803475380706
avg test loss is  5.76103594486139
avg accuracy is  0.23776666682300446
compute_distance is  tensor(124.1369, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(124.1369, device='cuda:3')
test acc is  0.23776666682300446
test entropy is  0.3231803475380706
________________________________
diff is  tensor(1.0986, device='cuda:3')
diff is  tensor(0.0087, device='cuda:3')
diff is  tensor(16.2208, device='cuda:3')
diff is  tensor(0.0147, device='cuda:3')
diff is  tensor(106.4170, device='cuda:3')
diff is  tensor(0.0230, device='cuda:3')
diff is  tensor(0.3302, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(77.1109, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0113, device='cuda:3')
sum is tensor(0.0260, device='cuda:3')
sum is tensor(0.0490, device='cuda:3')
sum is tensor(0.3791, device='cuda:3')
sum is tensor(1.4778, device='cuda:3')
sum is tensor(17.6985, device='cuda:3')
sum is tensor(124.1156, device='cuda:3')
ratio is tensor(0.4417, device='cuda:3')
threshold is tensor(106.4170, device='cuda:3')
cal diff is tensor(1.0986, device='cuda:3')
discard
cal diff is tensor(0.0087, device='cuda:3')
discard
cal diff is tensor(16.2208, device='cuda:3')
discard
cal diff is tensor(0.0147, device='cuda:3')
discard
cal diff is tensor(106.4170, device='cuda:3')
clipping
cal diff is tensor(0.0230, device='cuda:3')
discard
cal diff is tensor(0.3302, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(47.0178, device='cuda:3')
test acc is  0.9133333334896543
test entropy is  0.2756209742190487
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2756209742190487
avg test loss is  0.24756037838645836
avg accuracy is  0.9133333334896543
compute_distance is  tensor(47.0178, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3227575036571987
avg test loss is  5.766099426029587
avg accuracy is  0.23771666682300446
compute_distance is  tensor(124.9473, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(124.9473, device='cuda:3')
test acc is  0.23771666682300446
test entropy is  0.3227575036571987
________________________________
diff is  tensor(1.1056, device='cuda:3')
diff is  tensor(0.0088, device='cuda:3')
diff is  tensor(16.4031, device='cuda:3')
diff is  tensor(0.0149, device='cuda:3')
diff is  tensor(107.0354, device='cuda:3')
diff is  tensor(0.0233, device='cuda:3')
diff is  tensor(0.3316, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(77.9214, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0114, device='cuda:3')
sum is tensor(0.0263, device='cuda:3')
sum is tensor(0.0496, device='cuda:3')
sum is tensor(0.3812, device='cuda:3')
sum is tensor(1.4868, device='cuda:3')
sum is tensor(17.8900, device='cuda:3')
sum is tensor(124.9254, device='cuda:3')
ratio is tensor(0.4391, device='cuda:3')
threshold is tensor(107.0354, device='cuda:3')
cal diff is tensor(1.1056, device='cuda:3')
discard
cal diff is tensor(0.0088, device='cuda:3')
discard
cal diff is tensor(16.4031, device='cuda:3')
discard
cal diff is tensor(0.0149, device='cuda:3')
discard
cal diff is tensor(107.0354, device='cuda:3')
clipping
cal diff is tensor(0.0233, device='cuda:3')
discard
cal diff is tensor(0.3316, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(47.0176, device='cuda:3')
test acc is  0.9147500001563209
test entropy is  0.2727094226236791
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2727094226236791
avg test loss is  0.24322999358526678
avg accuracy is  0.9147500001563209
compute_distance is  tensor(47.0176, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.32262531253320575
avg test loss is  5.768192895948252
avg accuracy is  0.23763333348967114
compute_distance is  tensor(125.2483, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(125.2483, device='cuda:3')
test acc is  0.23763333348967114
test entropy is  0.32262531253320575
________________________________
diff is  tensor(1.1074, device='cuda:3')
diff is  tensor(0.0088, device='cuda:3')
diff is  tensor(16.4729, device='cuda:3')
diff is  tensor(0.0150, device='cuda:3')
diff is  tensor(107.2636, device='cuda:3')
diff is  tensor(0.0234, device='cuda:3')
diff is  tensor(0.3323, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(78.2223, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0114, device='cuda:3')
sum is tensor(0.0264, device='cuda:3')
sum is tensor(0.0498, device='cuda:3')
sum is tensor(0.3821, device='cuda:3')
sum is tensor(1.4896, device='cuda:3')
sum is tensor(17.9624, device='cuda:3')
sum is tensor(125.2260, device='cuda:3')
ratio is tensor(0.4382, device='cuda:3')
threshold is tensor(107.2636, device='cuda:3')
cal diff is tensor(1.1074, device='cuda:3')
discard
cal diff is tensor(0.0088, device='cuda:3')
discard
cal diff is tensor(16.4729, device='cuda:3')
discard
cal diff is tensor(0.0150, device='cuda:3')
discard
cal diff is tensor(107.2636, device='cuda:3')
clipping
cal diff is tensor(0.0234, device='cuda:3')
discard
cal diff is tensor(0.3323, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(47.0175, device='cuda:3')
test acc is  0.9154166668229875
test entropy is  0.2714684549520519
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2714684549520519
avg test loss is  0.24144877056116615
avg accuracy is  0.9154166668229875
compute_distance is  tensor(47.0175, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.32258108934995205
avg test loss is  5.7688638571737165
avg accuracy is  0.23773333348967113
compute_distance is  tensor(125.3713, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(125.3713, device='cuda:3')
test acc is  0.23773333348967113
test entropy is  0.32258108934995205
________________________________
diff is  tensor(1.1078, device='cuda:3')
diff is  tensor(0.0089, device='cuda:3')
diff is  tensor(16.5002, device='cuda:3')
diff is  tensor(0.0150, device='cuda:3')
diff is  tensor(107.3585, device='cuda:3')
diff is  tensor(0.0235, device='cuda:3')
diff is  tensor(0.3325, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(78.3454, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0115, device='cuda:3')
sum is tensor(0.0265, device='cuda:3')
sum is tensor(0.0499, device='cuda:3')
sum is tensor(0.3824, device='cuda:3')
sum is tensor(1.4902, device='cuda:3')
sum is tensor(17.9904, device='cuda:3')
sum is tensor(125.3489, device='cuda:3')
ratio is tensor(0.4378, device='cuda:3')
threshold is tensor(107.3585, device='cuda:3')
cal diff is tensor(1.1078, device='cuda:3')
discard
cal diff is tensor(0.0089, device='cuda:3')
discard
cal diff is tensor(16.5002, device='cuda:3')
discard
cal diff is tensor(0.0150, device='cuda:3')
discard
cal diff is tensor(107.3585, device='cuda:3')
clipping
cal diff is tensor(0.0235, device='cuda:3')
discard
cal diff is tensor(0.3325, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(47.0175, device='cuda:3')
test acc is  0.9157333334896541
test entropy is  0.27083555202303666
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.27083555202303666
avg test loss is  0.24059242585590526
avg accuracy is  0.9157333334896541
compute_distance is  tensor(47.0175, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.32255433892199736
avg test loss is  5.769850940592508
avg accuracy is  0.23771666682300446
compute_distance is  tensor(125.4192, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(125.4192, device='cuda:3')
test acc is  0.23771666682300446
test entropy is  0.32255433892199736
________________________________
diff is  tensor(1.1079, device='cuda:3')
diff is  tensor(0.0089, device='cuda:3')
diff is  tensor(16.5136, device='cuda:3')
diff is  tensor(0.0150, device='cuda:3')
diff is  tensor(107.3926, device='cuda:3')
diff is  tensor(0.0235, device='cuda:3')
diff is  tensor(0.3325, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(78.3932, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0115, device='cuda:3')
sum is tensor(0.0265, device='cuda:3')
sum is tensor(0.0500, device='cuda:3')
sum is tensor(0.3825, device='cuda:3')
sum is tensor(1.4904, device='cuda:3')
sum is tensor(18.0040, device='cuda:3')
sum is tensor(125.3966, device='cuda:3')
ratio is tensor(0.4377, device='cuda:3')
threshold is tensor(107.3926, device='cuda:3')
cal diff is tensor(1.1079, device='cuda:3')
discard
cal diff is tensor(0.0089, device='cuda:3')
discard
cal diff is tensor(16.5136, device='cuda:3')
discard
cal diff is tensor(0.0150, device='cuda:3')
discard
cal diff is tensor(107.3926, device='cuda:3')
clipping
cal diff is tensor(0.0235, device='cuda:3')
discard
cal diff is tensor(0.3325, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(47.0174, device='cuda:3')
test acc is  0.9159000001563208
test entropy is  0.2704593594045019
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2704593594045019
avg test loss is  0.24011410714816184
avg accuracy is  0.9159000001563208
compute_distance is  tensor(47.0174, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.3225106896240828
avg test loss is  5.77064021614823
avg accuracy is  0.2376500001563378
compute_distance is  tensor(125.4425, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(125.4425, device='cuda:3')
test acc is  0.2376500001563378
test entropy is  0.3225106896240828
________________________________
diff is  tensor(1.1078, device='cuda:3')
diff is  tensor(0.0089, device='cuda:3')
diff is  tensor(16.5205, device='cuda:3')
diff is  tensor(0.0150, device='cuda:3')
diff is  tensor(107.4091, device='cuda:3')
diff is  tensor(0.0235, device='cuda:3')
diff is  tensor(0.3324, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(78.4166, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0115, device='cuda:3')
sum is tensor(0.0265, device='cuda:3')
sum is tensor(0.0500, device='cuda:3')
sum is tensor(0.3824, device='cuda:3')
sum is tensor(1.4902, device='cuda:3')
sum is tensor(18.0107, device='cuda:3')
sum is tensor(125.4199, device='cuda:3')
ratio is tensor(0.4376, device='cuda:3')
threshold is tensor(107.4091, device='cuda:3')
cal diff is tensor(1.1078, device='cuda:3')
discard
cal diff is tensor(0.0089, device='cuda:3')
discard
cal diff is tensor(16.5205, device='cuda:3')
discard
cal diff is tensor(0.0150, device='cuda:3')
discard
cal diff is tensor(107.4091, device='cuda:3')
clipping
cal diff is tensor(0.0235, device='cuda:3')
discard
cal diff is tensor(0.3324, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(47.0174, device='cuda:3')
test acc is  0.9159833334896541
test entropy is  0.27022741496690045
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.27022741496690045
avg test loss is  0.23983270884243282
avg accuracy is  0.9159833334896541
compute_distance is  tensor(47.0174, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.32250339657004706
avg test loss is  5.770903124738095
avg accuracy is  0.2377000001563378
compute_distance is  tensor(125.4521, device='cuda:3')
++++++++++++++++++++
reach max round
new distance ratio is 0.260697941763019
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 9, 11, 12, 14]
 
Avg Training Stats after 58 global rounds:
Train Accuracy: 86.69% 

Test Accuracy: 85.61% 


 | Global Training Round : 59 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.006832680199295282
attack res is True
len of model dicts is  10
compute distance is  tensor(72.5843, device='cuda:3')
compute distance is  tensor(75.3857, device='cuda:3')
compute distance is  tensor(132.2671, device='cuda:3')
compute distance is  tensor(88.9893, device='cuda:3')
compute distance is  tensor(52.3212, device='cuda:3')
compute distance is  tensor(46.3002, device='cuda:3')
compute distance is  tensor(70.6717, device='cuda:3')
compute distance is  tensor(92.8891, device='cuda:3')
compute distance is  tensor(102.5949, device='cuda:3')
compute distance is  tensor(87.0295, device='cuda:3')
calculated distance threshold is  tensor(70.9527, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.2624833334896719
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.1838833334896689
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.3523833334896737
====================
====================
iteration is  1
round is  0
accuracy is  0.1980000001563363
====================
====================
iteration is  1
round is  1
accuracy is  0.30610000015633965
====================
________________________________
test distance is  tensor(4283.4370, device='cuda:3')
test acc is  0.1838833334896689
test entropy is  0.2093272971461958
________________________________
diff is  tensor(45.4755, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4099, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.6102, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5097, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.7850, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9995, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.4041, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2426, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4212.4844, device='cuda:3')
sum is tensor(0.2426, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6525, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1622, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1616, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5657, device='cuda:3', dtype=torch.float64)
sum is tensor(69.0412, device='cuda:3', dtype=torch.float64)
sum is tensor(642.6514, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.4364, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0195, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.7850, device='cuda:3', dtype=torch.float64)
cal diff is tensor(45.4755, device='cuda:3')
discard
cal diff is tensor(0.4099, device='cuda:3')
discard
cal diff is tensor(573.6101, device='cuda:3')
discard
cal diff is tensor(0.5097, device='cuda:3')
discard
cal diff is tensor(3640.7852, device='cuda:3')
clipping
cal diff is tensor(1.9995, device='cuda:3')
discard
cal diff is tensor(20.4041, device='cuda:3')
discard
cal diff is tensor(0.2426, device='cuda:3')
discard
________________________________
test distance is  tensor(70.9623, device='cuda:3')
test acc is  0.8533166668229899
test entropy is  0.3054050776654723
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(70.9520, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0095, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0780, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(70.9520, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(5.5444, device='cuda:3')
test acc is  0.8529666668229899
test entropy is  0.30647460863724957
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.30647460863724957
avg test loss is  0.4214907725577924
avg accuracy is  0.8529666668229899
compute_distance is  tensor(5.5444, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2068430031937704
avg test loss is  9.833563642969517
avg accuracy is  0.17716666682300183
compute_distance is  tensor(85.2573, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(85.2573, device='cuda:3')
test acc is  0.17716666682300183
test entropy is  0.2068430031937704
________________________________
diff is  tensor(0.9043, device='cuda:3')
diff is  tensor(0.0081, device='cuda:3')
diff is  tensor(15.0774, device='cuda:3')
diff is  tensor(0.0143, device='cuda:3')
diff is  tensor(68.8454, device='cuda:3')
diff is  tensor(0.0298, device='cuda:3')
diff is  tensor(0.3673, device='cuda:3')
diff is  tensor(0.0034, device='cuda:3')
threshold is  tensor(14.3046, device='cuda:3')
sum is tensor(0.0034, device='cuda:3')
sum is tensor(0.0116, device='cuda:3')
sum is tensor(0.0259, device='cuda:3')
sum is tensor(0.0557, device='cuda:3')
sum is tensor(0.4230, device='cuda:3')
sum is tensor(1.3273, device='cuda:3')
sum is tensor(16.4047, device='cuda:3')
ratio is tensor(0.1393, device='cuda:3')
threshold is tensor(15.0774, device='cuda:3')
cal diff is tensor(0.9043, device='cuda:3')
discard
cal diff is tensor(0.0081, device='cuda:3')
discard
cal diff is tensor(15.0774, device='cuda:3')
clipping
cal diff is tensor(0.0143, device='cuda:3')
discard
cal diff is tensor(68.8454, device='cuda:3')
clipping
cal diff is tensor(0.0298, device='cuda:3')
discard
cal diff is tensor(0.3673, device='cuda:3')
discard
cal diff is tensor(0.0034, device='cuda:3')
discard
________________________________
test distance is  tensor(11.6946, device='cuda:3')
test acc is  0.8451666668229901
test entropy is  0.32588894158474674
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.32588894158474674
avg test loss is  0.43095952429687545
avg accuracy is  0.8451666668229901
compute_distance is  tensor(11.6946, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.20618760894769544
avg test loss is  9.935498200499936
avg accuracy is  0.17768333348966853
compute_distance is  tensor(88.9035, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(88.9035, device='cuda:3')
test acc is  0.17768333348966853
test entropy is  0.20618760894769544
________________________________
diff is  tensor(0.9770, device='cuda:3')
diff is  tensor(0.0080, device='cuda:3')
diff is  tensor(16.3008, device='cuda:3')
diff is  tensor(0.0135, device='cuda:3')
diff is  tensor(71.2333, device='cuda:3')
diff is  tensor(0.0263, device='cuda:3')
diff is  tensor(0.3328, device='cuda:3')
diff is  tensor(0.0030, device='cuda:3')
threshold is  tensor(17.9507, device='cuda:3')
sum is tensor(0.0030, device='cuda:3')
sum is tensor(0.0110, device='cuda:3')
sum is tensor(0.0245, device='cuda:3')
sum is tensor(0.0508, device='cuda:3')
sum is tensor(0.3836, device='cuda:3')
sum is tensor(1.3606, device='cuda:3')
sum is tensor(17.6614, device='cuda:3')
sum is tensor(88.8946, device='cuda:3')
ratio is tensor(0.9959, device='cuda:3')
threshold is tensor(71.2333, device='cuda:3')
cal diff is tensor(0.9770, device='cuda:3')
discard
cal diff is tensor(0.0080, device='cuda:3')
discard
cal diff is tensor(16.3008, device='cuda:3')
discard
cal diff is tensor(0.0135, device='cuda:3')
discard
cal diff is tensor(71.2333, device='cuda:3')
clipping
cal diff is tensor(0.0263, device='cuda:3')
discard
cal diff is tensor(0.3328, device='cuda:3')
discard
cal diff is tensor(0.0030, device='cuda:3')
discard
________________________________
test distance is  tensor(70.9475, device='cuda:3')
test acc is  0.37043333348967405
test entropy is  0.41102701952970866
________________________________
new distance ratio is 0.286767735939321
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 2, 4, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
 
Avg Training Stats after 59 global rounds:
Train Accuracy: 80.87% 

Test Accuracy: 82.48% 


 | Global Training Round : 60 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.00842105783522129
attack res is True
len of model dicts is  10
compute distance is  tensor(57.5177, device='cuda:3')
compute distance is  tensor(45.2923, device='cuda:3')
compute distance is  tensor(114.7823, device='cuda:3')
compute distance is  tensor(83.4573, device='cuda:3')
compute distance is  tensor(36.8251, device='cuda:3')
compute distance is  tensor(81.1149, device='cuda:3')
compute distance is  tensor(87.2478, device='cuda:3')
compute distance is  tensor(49.4179, device='cuda:3')
compute distance is  tensor(92.3771, device='cuda:3')
compute distance is  tensor(142.2625, device='cuda:3')
calculated distance threshold is  tensor(70.0847, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.30520000015633963
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.1973500001563361
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.26750000015633874
====================
====================
iteration is  1
round is  0
accuracy is  0.37113333348967414
====================
====================
iteration is  1
round is  1
accuracy is  0.1759166668230017
====================
succ_min + 1
________________________________
test distance is  tensor(4283.2280, device='cuda:3')
test acc is  0.1759166668230017
test entropy is  0.39457515422215084
________________________________
diff is  tensor(44.8948, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4035, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.1491, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5273, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.6750, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0362, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3281, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2144, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4213.1431, device='cuda:3')
sum is tensor(0.2144, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6179, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1452, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1814, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5095, device='cuda:3', dtype=torch.float64)
sum is tensor(68.4043, device='cuda:3', dtype=torch.float64)
sum is tensor(642.5534, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.2285, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0193, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.6750, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.8948, device='cuda:3')
discard
cal diff is tensor(0.4035, device='cuda:3')
discard
cal diff is tensor(574.1491, device='cuda:3')
discard
cal diff is tensor(0.5273, device='cuda:3')
discard
cal diff is tensor(3640.6748, device='cuda:3')
discard
cal diff is tensor(2.0362, device='cuda:3')
discard
cal diff is tensor(20.3281, device='cuda:3')
discard
cal diff is tensor(0.2144, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.8199500001563246
test entropy is  0.38938132246165896
________________________________
new distance ratio is 0.3154445095332531
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39, 24, 25, 26, 27, 28, 29, 30, 31, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 34, 36, 37, 38, 39, 24, 26, 27, 28, 29, 30, 31, 16, 17, 18, 19, 21, 8, 9, 11, 12, 13, 14]
 
Avg Training Stats after 60 global rounds:
Train Accuracy: 97.11% 

Test Accuracy: 97.21% 


 | Global Training Round : 61 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.007703116629272699
attack res is True
len of model dicts is  10
compute distance is  tensor(18.8737, device='cuda:3')
compute distance is  tensor(30.3880, device='cuda:3')
compute distance is  tensor(98.2846, device='cuda:3')
compute distance is  tensor(80.0074, device='cuda:3')
compute distance is  tensor(18.7491, device='cuda:3')
compute distance is  tensor(30.0022, device='cuda:3')
compute distance is  tensor(63.1406, device='cuda:3')
compute distance is  tensor(43.6893, device='cuda:3')
compute distance is  tensor(97.1335, device='cuda:3')
compute distance is  tensor(61.9055, device='cuda:3')
calculated distance threshold is  tensor(46.3470, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.20836666682300334
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.3019500001563396
====================
====================
iteration is  0
round is  2
accuracy is  0.27491666682300564
====================
====================
iteration is  1
round is  0
accuracy is  0.26428333348967203
====================
====================
iteration is  1
round is  1
accuracy is  0.1908166668230025
====================
succ_min + 1
________________________________
test distance is  tensor(4284.3799, device='cuda:3')
test acc is  0.1908166668230025
test entropy is  0.19207236653706158
________________________________
diff is  tensor(44.7494, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3169, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.5058, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5005, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.6188, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0545, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.4559, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1779, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4238.0327, device='cuda:3')
sum is tensor(0.1779, device='cuda:3', dtype=torch.float64)
sum is tensor(0.4948, device='cuda:3', dtype=torch.float64)
sum is tensor(0.9953, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0499, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5058, device='cuda:3', dtype=torch.float64)
sum is tensor(68.2551, device='cuda:3', dtype=torch.float64)
sum is tensor(642.7609, device='cuda:3', dtype=torch.float64)
sum is tensor(4284.3797, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0127, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.6188, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.7494, device='cuda:3')
discard
cal diff is tensor(0.3169, device='cuda:3')
discard
cal diff is tensor(574.5057, device='cuda:3')
discard
cal diff is tensor(0.5005, device='cuda:3')
discard
cal diff is tensor(3641.6189, device='cuda:3')
clipping
cal diff is tensor(2.0545, device='cuda:3')
discard
cal diff is tensor(20.4559, device='cuda:3')
discard
cal diff is tensor(0.1779, device='cuda:3')
discard
________________________________
test distance is  tensor(46.3573, device='cuda:3')
test acc is  0.9699833334896523
test entropy is  0.1701932053711178
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(46.3470, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0103, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(46.3572, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(46.3470, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(46.3470, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(46.3573, device='cuda:3')
test acc is  0.9699833334896523
test entropy is  0.1701932035799601
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(46.3470, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(2.3461e-05, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(46.3470, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.969800000156319
test entropy is  0.17021132820943144
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.17021132820943144
avg test loss is  0.10358796873664074
avg accuracy is  0.969800000156319
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.189990851472118
avg test loss is  8.945836232923496
avg accuracy is  0.18861666682300238
compute_distance is  tensor(90.7872, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(90.7872, device='cuda:3')
test acc is  0.18861666682300238
test entropy is  0.189990851472118
________________________________
diff is  tensor(0.8778, device='cuda:3')
diff is  tensor(0.0082, device='cuda:3')
diff is  tensor(15.7839, device='cuda:3')
diff is  tensor(0.0153, device='cuda:3')
diff is  tensor(73.6708, device='cuda:3')
diff is  tensor(0.0325, device='cuda:3')
diff is  tensor(0.3824, device='cuda:3')
diff is  tensor(0.0032, device='cuda:3')
threshold is  tensor(44.4401, device='cuda:3')
sum is tensor(0.0032, device='cuda:3')
sum is tensor(0.0114, device='cuda:3')
sum is tensor(0.0267, device='cuda:3')
sum is tensor(0.0592, device='cuda:3')
sum is tensor(0.4416, device='cuda:3')
sum is tensor(1.3194, device='cuda:3')
sum is tensor(17.1033, device='cuda:3')
sum is tensor(90.7741, device='cuda:3')
ratio is tensor(0.6289, device='cuda:3')
threshold is tensor(73.6708, device='cuda:3')
cal diff is tensor(0.8778, device='cuda:3')
discard
cal diff is tensor(0.0082, device='cuda:3')
discard
cal diff is tensor(15.7839, device='cuda:3')
discard
cal diff is tensor(0.0153, device='cuda:3')
discard
cal diff is tensor(73.6708, device='cuda:3')
clipping
cal diff is tensor(0.0325, device='cuda:3')
discard
cal diff is tensor(0.3824, device='cuda:3')
discard
cal diff is tensor(0.0032, device='cuda:3')
discard
________________________________
test distance is  tensor(46.3426, device='cuda:3')
test acc is  0.8173166668229914
test entropy is  0.42458670157422895
________________________________
new distance ratio is 0.34698896048657846
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 1, 2, 5, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
 
Avg Training Stats after 61 global rounds:
Train Accuracy: 90.37% 

Test Accuracy: 90.88% 


 | Global Training Round : 62 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.008722799830138683
attack res is True
len of model dicts is  10
compute distance is  tensor(22.2275, device='cuda:3')
compute distance is  tensor(68.7626, device='cuda:3')
compute distance is  tensor(94.3300, device='cuda:3')
compute distance is  tensor(82.4090, device='cuda:3')
compute distance is  tensor(35.4772, device='cuda:3')
compute distance is  tensor(33.5633, device='cuda:3')
compute distance is  tensor(48.1395, device='cuda:3')
compute distance is  tensor(78.5021, device='cuda:3')
compute distance is  tensor(46.3642, device='cuda:3')
compute distance is  tensor(56.5724, device='cuda:3')
calculated distance threshold is  tensor(49.7482, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.19361666682300266
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.362233333489674
====================
====================
iteration is  0
round is  2
accuracy is  0.27445000015633886
====================
====================
iteration is  1
round is  0
accuracy is  0.29845000015633955
====================
====================
iteration is  1
round is  1
accuracy is  0.3769000001563408
====================
________________________________
test distance is  tensor(4279.7241, device='cuda:3')
test acc is  0.19361666682300266
test entropy is  0.32999248859851854
________________________________
diff is  tensor(42.5764, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3513, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.0961, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5290, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.6227, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0264, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3062, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2163, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4229.9761, device='cuda:3')
sum is tensor(0.2163, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5676, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0966, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1230, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4292, device='cuda:3', dtype=torch.float64)
sum is tensor(66.0056, device='cuda:3', dtype=torch.float64)
sum is tensor(637.1017, device='cuda:3', dtype=torch.float64)
sum is tensor(4279.7243, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0137, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.6227, device='cuda:3', dtype=torch.float64)
cal diff is tensor(42.5764, device='cuda:3')
discard
cal diff is tensor(0.3513, device='cuda:3')
discard
cal diff is tensor(571.0961, device='cuda:3')
discard
cal diff is tensor(0.5290, device='cuda:3')
discard
cal diff is tensor(3642.6226, device='cuda:3')
discard
cal diff is tensor(2.0264, device='cuda:3')
discard
cal diff is tensor(20.3062, device='cuda:3')
discard
cal diff is tensor(0.2163, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.8998666668229881
test entropy is  0.29006269119822903
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.29006269119822903
avg test loss is  0.29790021218994917
avg accuracy is  0.8998666668229881
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.35421724932026
avg test loss is  6.1582769605396654
avg accuracy is  0.17003333348966798
compute_distance is  tensor(90.2447, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(90.2447, device='cuda:3')
test acc is  0.17003333348966798
test entropy is  0.35421724932026
________________________________
diff is  tensor(0.8152, device='cuda:3')
diff is  tensor(0.0069, device='cuda:3')
diff is  tensor(15.0525, device='cuda:3')
diff is  tensor(0.0149, device='cuda:3')
diff is  tensor(73.9351, device='cuda:3')
diff is  tensor(0.0291, device='cuda:3')
diff is  tensor(0.3816, device='cuda:3')
diff is  tensor(0.0029, device='cuda:3')
threshold is  tensor(40.4965, device='cuda:3')
sum is tensor(0.0029, device='cuda:3')
sum is tensor(0.0098, device='cuda:3')
sum is tensor(0.0247, device='cuda:3')
sum is tensor(0.0538, device='cuda:3')
sum is tensor(0.4354, device='cuda:3')
sum is tensor(1.2506, device='cuda:3')
sum is tensor(16.3031, device='cuda:3')
sum is tensor(90.2383, device='cuda:3')
ratio is tensor(0.6728, device='cuda:3')
threshold is tensor(73.9351, device='cuda:3')
cal diff is tensor(0.8152, device='cuda:3')
discard
cal diff is tensor(0.0069, device='cuda:3')
discard
cal diff is tensor(15.0525, device='cuda:3')
discard
cal diff is tensor(0.0149, device='cuda:3')
discard
cal diff is tensor(73.9351, device='cuda:3')
clipping
cal diff is tensor(0.0291, device='cuda:3')
discard
cal diff is tensor(0.3816, device='cuda:3')
discard
cal diff is tensor(0.0029, device='cuda:3')
discard
________________________________
test distance is  tensor(49.7461, device='cuda:3')
test acc is  0.8011166668229922
test entropy is  0.43221146262276655
________________________________
new distance ratio is 0.38168785653523635
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 11, 12, 15]
 
Avg Training Stats after 62 global rounds:
Train Accuracy: 93.24% 

Test Accuracy: 93.07% 


 | Global Training Round : 63 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.009681602008640766
attack res is True
len of model dicts is  10
compute distance is  tensor(32.0840, device='cuda:3')
compute distance is  tensor(43.3306, device='cuda:3')
compute distance is  tensor(52.3686, device='cuda:3')
compute distance is  tensor(83.5141, device='cuda:3')
compute distance is  tensor(30.2396, device='cuda:3')
compute distance is  tensor(52.2450, device='cuda:3')
compute distance is  tensor(79.4423, device='cuda:3')
compute distance is  tensor(44.5771, device='cuda:3')
compute distance is  tensor(86.1839, device='cuda:3')
compute distance is  tensor(86.0080, device='cuda:3')
calculated distance threshold is  tensor(53.7282, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.20073333348966974
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.23951666682300454
====================
====================
iteration is  0
round is  2
accuracy is  0.4659166668230084
====================
====================
iteration is  1
round is  0
accuracy is  0.26405000015633867
====================
====================
iteration is  1
round is  1
accuracy is  0.4701666668230085
====================
________________________________
test distance is  tensor(4282.0166, device='cuda:3')
test acc is  0.20073333348966974
test entropy is  0.26027733773819167
________________________________
diff is  tensor(44.7941, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3627, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.1448, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4630, device='cuda:3', dtype=torch.float64)
diff is  tensor(3640.8160, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0770, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.1825, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1760, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4228.2886, device='cuda:3')
sum is tensor(0.1760, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5388, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0018, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0788, device='cuda:3', dtype=torch.float64)
sum is tensor(23.2613, device='cuda:3', dtype=torch.float64)
sum is tensor(68.0554, device='cuda:3', dtype=torch.float64)
sum is tensor(641.2002, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.0162, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0148, device='cuda:3', dtype=torch.float64)
threshold is tensor(3640.8160, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.7942, device='cuda:3')
discard
cal diff is tensor(0.3627, device='cuda:3')
discard
cal diff is tensor(573.1448, device='cuda:3')
discard
cal diff is tensor(0.4630, device='cuda:3')
discard
cal diff is tensor(3640.8159, device='cuda:3')
discard
cal diff is tensor(2.0770, device='cuda:3')
discard
cal diff is tensor(20.1825, device='cuda:3')
discard
cal diff is tensor(0.1760, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9299333334896537
test entropy is  0.24577885591335644
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.24577885591335644
avg test loss is  0.2041528711893729
avg accuracy is  0.9299333334896537
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2291320864913433
avg test loss is  8.329308971921519
avg accuracy is  0.1892666668230025
compute_distance is  tensor(90.9506, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(90.9506, device='cuda:3')
test acc is  0.1892666668230025
test entropy is  0.2291320864913433
________________________________
diff is  tensor(0.7741, device='cuda:3')
diff is  tensor(0.0073, device='cuda:3')
diff is  tensor(15.2984, device='cuda:3')
diff is  tensor(0.0142, device='cuda:3')
diff is  tensor(74.4289, device='cuda:3')
diff is  tensor(0.0265, device='cuda:3')
diff is  tensor(0.3927, device='cuda:3')
diff is  tensor(0.0028, device='cuda:3')
threshold is  tensor(37.2224, device='cuda:3')
sum is tensor(0.0028, device='cuda:3')
sum is tensor(0.0101, device='cuda:3')
sum is tensor(0.0242, device='cuda:3')
sum is tensor(0.0507, device='cuda:3')
sum is tensor(0.4434, device='cuda:3')
sum is tensor(1.2175, device='cuda:3')
sum is tensor(16.5158, device='cuda:3')
sum is tensor(90.9447, device='cuda:3')
ratio is tensor(0.7218, device='cuda:3')
threshold is tensor(74.4289, device='cuda:3')
cal diff is tensor(0.7741, device='cuda:3')
discard
cal diff is tensor(0.0073, device='cuda:3')
discard
cal diff is tensor(15.2984, device='cuda:3')
discard
cal diff is tensor(0.0142, device='cuda:3')
discard
cal diff is tensor(74.4289, device='cuda:3')
clipping
cal diff is tensor(0.0265, device='cuda:3')
discard
cal diff is tensor(0.3927, device='cuda:3')
discard
cal diff is tensor(0.0028, device='cuda:3')
discard
________________________________
test distance is  tensor(53.7253, device='cuda:3')
test acc is  0.6554000001563336
test entropy is  0.455850239024996
________________________________
new distance ratio is 0.41985664218876
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 17, 18, 19, 21]
 
Avg Training Stats after 63 global rounds:
Train Accuracy: 94.56% 

Test Accuracy: 94.62% 


 | Global Training Round : 64 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.010400819592177868
attack res is True
len of model dicts is  10
compute distance is  tensor(33.3287, device='cuda:3')
compute distance is  tensor(47.1327, device='cuda:3')
compute distance is  tensor(76.8043, device='cuda:3')
compute distance is  tensor(121.5730, device='cuda:3')
compute distance is  tensor(20.6411, device='cuda:3')
compute distance is  tensor(33.6312, device='cuda:3')
compute distance is  tensor(60.8099, device='cuda:3')
compute distance is  tensor(37.9417, device='cuda:3')
compute distance is  tensor(72.8555, device='cuda:3')
compute distance is  tensor(71.5837, device='cuda:3')
calculated distance threshold is  tensor(67.2557, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.2115833334896701
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.17706666682300165
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.23408333348967106
====================
====================
iteration is  1
round is  0
accuracy is  0.27891666682300564
====================
====================
iteration is  1
round is  1
accuracy is  0.28285000015633904
====================
________________________________
test distance is  tensor(4280.9976, device='cuda:3')
test acc is  0.17706666682300165
test entropy is  0.20892267670236161
________________________________
diff is  tensor(43.5841, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3379, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.5739, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5021, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.3982, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0160, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3765, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2083, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4213.7417, device='cuda:3')
sum is tensor(0.2083, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5462, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0483, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0643, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4408, device='cuda:3', dtype=torch.float64)
sum is tensor(67.0249, device='cuda:3', dtype=torch.float64)
sum is tensor(639.5988, device='cuda:3', dtype=torch.float64)
sum is tensor(4280.9970, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0185, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.3982, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.5841, device='cuda:3')
discard
cal diff is tensor(0.3379, device='cuda:3')
discard
cal diff is tensor(572.5739, device='cuda:3')
discard
cal diff is tensor(0.5021, device='cuda:3')
discard
cal diff is tensor(3641.3984, device='cuda:3')
clipping
cal diff is tensor(2.0160, device='cuda:3')
discard
cal diff is tensor(20.3765, device='cuda:3')
discard
cal diff is tensor(0.2083, device='cuda:3')
discard
________________________________
test distance is  tensor(67.2655, device='cuda:3')
test acc is  0.9407666668229866
test entropy is  0.2526610127961966
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(67.2553, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0098, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0443, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(67.2553, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(2.9887, device='cuda:3')
test acc is  0.9403666668229866
test entropy is  0.2527726957681718
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2527726957681718
avg test loss is  0.18809479127115786
avg accuracy is  0.9403666668229866
compute_distance is  tensor(2.9887, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.22355969440041065
avg test loss is  9.55138535133557
avg accuracy is  0.15211666682299996
compute_distance is  tensor(89.8122, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(89.8122, device='cuda:3')
test acc is  0.15211666682299996
test entropy is  0.22355969440041065
________________________________
diff is  tensor(0.9076, device='cuda:3')
diff is  tensor(0.0086, device='cuda:3')
diff is  tensor(15.3643, device='cuda:3')
diff is  tensor(0.0155, device='cuda:3')
diff is  tensor(73.0503, device='cuda:3')
diff is  tensor(0.0316, device='cuda:3')
diff is  tensor(0.4196, device='cuda:3')
diff is  tensor(0.0038, device='cuda:3')
threshold is  tensor(22.5565, device='cuda:3')
sum is tensor(0.0038, device='cuda:3')
sum is tensor(0.0124, device='cuda:3')
sum is tensor(0.0280, device='cuda:3')
sum is tensor(0.0596, device='cuda:3')
sum is tensor(0.4792, device='cuda:3')
sum is tensor(1.3867, device='cuda:3')
sum is tensor(16.7511, device='cuda:3')
sum is tensor(89.8014, device='cuda:3')
ratio is tensor(0.9205, device='cuda:3')
threshold is tensor(73.0503, device='cuda:3')
cal diff is tensor(0.9076, device='cuda:3')
discard
cal diff is tensor(0.0086, device='cuda:3')
discard
cal diff is tensor(15.3643, device='cuda:3')
discard
cal diff is tensor(0.0155, device='cuda:3')
discard
cal diff is tensor(73.0503, device='cuda:3')
clipping
cal diff is tensor(0.0316, device='cuda:3')
discard
cal diff is tensor(0.4196, device='cuda:3')
discard
cal diff is tensor(0.0038, device='cuda:3')
discard
________________________________
test distance is  tensor(67.2505, device='cuda:3')
test acc is  0.4391666668230082
test entropy is  0.4764006745014618
________________________________
new distance ratio is 0.46184230640763607
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 31, 8, 11, 12, 14, 15]
 
Avg Training Stats after 64 global rounds:
Train Accuracy: 93.03% 

Test Accuracy: 92.74% 


 | Global Training Round : 65 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.010705227963626385
attack res is True
len of model dicts is  10
compute distance is  tensor(21.1388, device='cuda:3')
compute distance is  tensor(55.3546, device='cuda:3')
compute distance is  tensor(119.1354, device='cuda:3')
compute distance is  tensor(45.1618, device='cuda:3')
compute distance is  tensor(36.2738, device='cuda:3')
compute distance is  tensor(43.7488, device='cuda:3')
compute distance is  tensor(95.2494, device='cuda:3')
compute distance is  tensor(71.5908, device='cuda:3')
compute distance is  tensor(89.7710, device='cuda:3')
compute distance is  tensor(48.5105, device='cuda:3')
calculated distance threshold is  tensor(70.9237, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.29108333348967264
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2601500001563385
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.17445000015633497
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.2773333334896724
====================
====================
iteration is  1
round is  1
accuracy is  0.2467833334896715
====================
________________________________
test distance is  tensor(4280.3003, device='cuda:3')
test acc is  0.17445000015633497
test entropy is  0.2602128181249094
________________________________
diff is  tensor(42.7127, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3493, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.3267, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4838, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.9075, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0486, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2949, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1772, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4209.3765, device='cuda:3')
sum is tensor(0.1772, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5265, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0103, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0589, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3538, device='cuda:3', dtype=torch.float64)
sum is tensor(66.0665, device='cuda:3', dtype=torch.float64)
sum is tensor(638.3933, device='cuda:3', dtype=torch.float64)
sum is tensor(4280.3008, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0195, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.9075, device='cuda:3', dtype=torch.float64)
cal diff is tensor(42.7127, device='cuda:3')
discard
cal diff is tensor(0.3493, device='cuda:3')
discard
cal diff is tensor(572.3268, device='cuda:3')
discard
cal diff is tensor(0.4838, device='cuda:3')
discard
cal diff is tensor(3641.9075, device='cuda:3')
discard
cal diff is tensor(2.0486, device='cuda:3')
discard
cal diff is tensor(20.2949, device='cuda:3')
discard
cal diff is tensor(0.1772, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9250000001563206
test entropy is  0.24207800718894137
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.24207800718894137
avg test loss is  0.22684567952469023
avg accuracy is  0.9250000001563206
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.23030998007352674
avg test loss is  6.481163736345417
avg accuracy is  0.16491666682300093
compute_distance is  tensor(88.0813, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(88.0813, device='cuda:3')
test acc is  0.16491666682300093
test entropy is  0.23030998007352674
________________________________
diff is  tensor(0.7713, device='cuda:3')
diff is  tensor(0.0067, device='cuda:3')
diff is  tensor(14.0637, device='cuda:3')
diff is  tensor(0.0121, device='cuda:3')
diff is  tensor(72.8451, device='cuda:3')
diff is  tensor(0.0243, device='cuda:3')
diff is  tensor(0.3450, device='cuda:3')
diff is  tensor(0.0026, device='cuda:3')
threshold is  tensor(17.1576, device='cuda:3')
sum is tensor(0.0026, device='cuda:3')
sum is tensor(0.0093, device='cuda:3')
sum is tensor(0.0214, device='cuda:3')
sum is tensor(0.0457, device='cuda:3')
sum is tensor(0.3907, device='cuda:3')
sum is tensor(1.1621, device='cuda:3')
sum is tensor(15.2258, device='cuda:3')
sum is tensor(88.0709, device='cuda:3')
ratio is tensor(0.9735, device='cuda:3')
threshold is tensor(72.8451, device='cuda:3')
cal diff is tensor(0.7713, device='cuda:3')
discard
cal diff is tensor(0.0067, device='cuda:3')
discard
cal diff is tensor(14.0637, device='cuda:3')
discard
cal diff is tensor(0.0121, device='cuda:3')
discard
cal diff is tensor(72.8451, device='cuda:3')
clipping
cal diff is tensor(0.0243, device='cuda:3')
discard
cal diff is tensor(0.3450, device='cuda:3')
discard
cal diff is tensor(0.0026, device='cuda:3')
discard
________________________________
test distance is  tensor(70.9190, device='cuda:3')
test acc is  0.5017500001563421
test entropy is  0.4799399829940247
________________________________
new distance ratio is 0.5080265370483997
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 34, 36, 39]
 
Avg Training Stats after 65 global rounds:
Train Accuracy: 91.86% 

Test Accuracy: 91.02% 


 | Global Training Round : 66 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.01104593463242054
attack res is True
len of model dicts is  10
compute distance is  tensor(21.0681, device='cuda:3')
compute distance is  tensor(60.5817, device='cuda:3')
compute distance is  tensor(101.0535, device='cuda:3')
compute distance is  tensor(62.3631, device='cuda:3')
compute distance is  tensor(84.0409, device='cuda:3')
compute distance is  tensor(33.2529, device='cuda:3')
compute distance is  tensor(52.5336, device='cuda:3')
compute distance is  tensor(89.9177, device='cuda:3')
compute distance is  tensor(77.7794, device='cuda:3')
compute distance is  tensor(65.2469, device='cuda:3')
calculated distance threshold is  tensor(65.7663, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.24853333348967152
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.24128333348967126
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.14385000015633256
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.2798500001563391
====================
====================
iteration is  1
round is  1
accuracy is  0.1758000001563351
====================
________________________________
test distance is  tensor(4285.0371, device='cuda:3')
test acc is  0.14385000015633256
test entropy is  0.2103161191397003
________________________________
diff is  tensor(46.0611, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3793, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.2979, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5038, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.0371, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0534, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.4836, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2209, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4219.2710, device='cuda:3')
sum is tensor(0.2209, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6003, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1041, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1575, device='cuda:3', dtype=torch.float64)
sum is tensor(23.6411, device='cuda:3', dtype=torch.float64)
sum is tensor(69.7022, device='cuda:3', dtype=torch.float64)
sum is tensor(643.0001, device='cuda:3', dtype=torch.float64)
sum is tensor(4285.0372, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0181, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.0371, device='cuda:3', dtype=torch.float64)
cal diff is tensor(46.0611, device='cuda:3')
discard
cal diff is tensor(0.3793, device='cuda:3')
discard
cal diff is tensor(573.2979, device='cuda:3')
discard
cal diff is tensor(0.5038, device='cuda:3')
discard
cal diff is tensor(3642.0371, device='cuda:3')
clipping
cal diff is tensor(2.0534, device='cuda:3')
discard
cal diff is tensor(20.4836, device='cuda:3')
discard
cal diff is tensor(0.2209, device='cuda:3')
discard
________________________________
test distance is  tensor(65.7765, device='cuda:3')
test acc is  0.910500000156321
test entropy is  0.2625699786187362
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(65.7662, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0004, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(65.7662, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0746, device='cuda:3')
test acc is  0.909850000156321
test entropy is  0.26218039259664033
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.26218039259664033
avg test loss is  0.2624193721377392
avg accuracy is  0.909850000156321
compute_distance is  tensor(0.0746, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.1855400228408227
avg test loss is  7.969067362579964
avg accuracy is  0.11496666682299861
compute_distance is  tensor(88.4920, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(88.4920, device='cuda:3')
test acc is  0.11496666682299861
test entropy is  0.1855400228408227
________________________________
diff is  tensor(0.8203, device='cuda:3')
diff is  tensor(0.0075, device='cuda:3')
diff is  tensor(14.7060, device='cuda:3')
diff is  tensor(0.0135, device='cuda:3')
diff is  tensor(72.5394, device='cuda:3')
diff is  tensor(0.0266, device='cuda:3')
diff is  tensor(0.3621, device='cuda:3')
diff is  tensor(0.0029, device='cuda:3')
threshold is  tensor(22.7257, device='cuda:3')
sum is tensor(0.0029, device='cuda:3')
sum is tensor(0.0103, device='cuda:3')
sum is tensor(0.0238, device='cuda:3')
sum is tensor(0.0504, device='cuda:3')
sum is tensor(0.4125, device='cuda:3')
sum is tensor(1.2328, device='cuda:3')
sum is tensor(15.9388, device='cuda:3')
sum is tensor(88.4781, device='cuda:3')
ratio is tensor(0.9064, device='cuda:3')
threshold is tensor(72.5394, device='cuda:3')
cal diff is tensor(0.8203, device='cuda:3')
discard
cal diff is tensor(0.0075, device='cuda:3')
discard
cal diff is tensor(14.7060, device='cuda:3')
discard
cal diff is tensor(0.0135, device='cuda:3')
discard
cal diff is tensor(72.5394, device='cuda:3')
clipping
cal diff is tensor(0.0266, device='cuda:3')
discard
cal diff is tensor(0.3621, device='cuda:3')
discard
cal diff is tensor(0.0029, device='cuda:3')
discard
________________________________
test distance is  tensor(65.7603, device='cuda:3')
test acc is  0.44253333348967494
test entropy is  0.4809318574062034
________________________________
new distance ratio is 0.5588291907532398
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 17, 18, 19, 21, 8, 9, 10, 11, 12, 14, 15]
 
Avg Training Stats after 66 global rounds:
Train Accuracy: 93.24% 

Test Accuracy: 91.90% 


 | Global Training Round : 67 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.012101451866328716
attack res is True
len of model dicts is  10
compute distance is  tensor(27.7943, device='cuda:3')
compute distance is  tensor(56.9207, device='cuda:3')
compute distance is  tensor(78.5063, device='cuda:3')
compute distance is  tensor(68.8902, device='cuda:3')
compute distance is  tensor(66.7546, device='cuda:3')
compute distance is  tensor(27.6856, device='cuda:3')
compute distance is  tensor(104.1611, device='cuda:3')
compute distance is  tensor(44.0384, device='cuda:3')
compute distance is  tensor(79.3183, device='cuda:3')
compute distance is  tensor(60.4972, device='cuda:3')
calculated distance threshold is  tensor(74.6960, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.3403666668230069
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.17110000015633478
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.25215000015633837
====================
====================
iteration is  1
round is  0
accuracy is  0.2903833334896726
====================
====================
iteration is  1
round is  1
accuracy is  0.446683333489675
====================
________________________________
test distance is  tensor(4284.1050, device='cuda:3')
test acc is  0.17110000015633478
test entropy is  0.29752389937321516
________________________________
diff is  tensor(42.5801, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3956, device='cuda:3', dtype=torch.float64)
diff is  tensor(575.7128, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4794, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.3058, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0288, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.4031, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1991, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4209.4092, device='cuda:3')
sum is tensor(0.1991, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5947, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0742, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1030, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5061, device='cuda:3', dtype=torch.float64)
sum is tensor(66.0861, device='cuda:3', dtype=torch.float64)
sum is tensor(641.7989, device='cuda:3', dtype=torch.float64)
sum is tensor(4284.1047, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0205, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.3058, device='cuda:3', dtype=torch.float64)
cal diff is tensor(42.5801, device='cuda:3')
discard
cal diff is tensor(0.3956, device='cuda:3')
discard
cal diff is tensor(575.7128, device='cuda:3')
discard
cal diff is tensor(0.4794, device='cuda:3')
discard
cal diff is tensor(3642.3059, device='cuda:3')
clipping
cal diff is tensor(2.0288, device='cuda:3')
discard
cal diff is tensor(20.4031, device='cuda:3')
discard
cal diff is tensor(0.1991, device='cuda:3')
discard
________________________________
test distance is  tensor(74.7058, device='cuda:3')
test acc is  0.9184333334896541
test entropy is  0.22821252462642788
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(74.6956, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0097, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0527, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(74.6956, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(3.9476, device='cuda:3')
test acc is  0.9186666668229874
test entropy is  0.228993797575487
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.228993797575487
avg test loss is  0.2309598418802563
avg accuracy is  0.9186666668229874
compute_distance is  tensor(3.9476, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.2947600748715624
avg test loss is  6.472446960681029
avg accuracy is  0.1664666668230012
compute_distance is  tensor(94.4238, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(94.4238, device='cuda:3')
test acc is  0.1664666668230012
test entropy is  0.2947600748715624
________________________________
diff is  tensor(0.9313, device='cuda:3')
diff is  tensor(0.0092, device='cuda:3')
diff is  tensor(15.9381, device='cuda:3')
diff is  tensor(0.0158, device='cuda:3')
diff is  tensor(77.0750, device='cuda:3')
diff is  tensor(0.0306, device='cuda:3')
diff is  tensor(0.4106, device='cuda:3')
diff is  tensor(0.0032, device='cuda:3')
threshold is  tensor(19.7278, device='cuda:3')
sum is tensor(0.0032, device='cuda:3')
sum is tensor(0.0125, device='cuda:3')
sum is tensor(0.0283, device='cuda:3')
sum is tensor(0.0588, device='cuda:3')
sum is tensor(0.4694, device='cuda:3')
sum is tensor(1.4007, device='cuda:3')
sum is tensor(17.3388, device='cuda:3')
sum is tensor(94.4138, device='cuda:3')
ratio is tensor(0.9690, device='cuda:3')
threshold is tensor(77.0750, device='cuda:3')
cal diff is tensor(0.9313, device='cuda:3')
discard
cal diff is tensor(0.0092, device='cuda:3')
discard
cal diff is tensor(15.9381, device='cuda:3')
discard
cal diff is tensor(0.0158, device='cuda:3')
discard
cal diff is tensor(77.0750, device='cuda:3')
clipping
cal diff is tensor(0.0306, device='cuda:3')
discard
cal diff is tensor(0.4106, device='cuda:3')
discard
cal diff is tensor(0.0032, device='cuda:3')
discard
________________________________
test distance is  tensor(74.6915, device='cuda:3')
test acc is  0.5143666668230089
test entropy is  0.5560492888442489
________________________________
new distance ratio is 0.6147121098285638
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 2, 4, 5, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
 
Avg Training Stats after 67 global rounds:
Train Accuracy: 80.05% 

Test Accuracy: 77.66% 


 | Global Training Round : 68 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.013469843193888664
attack res is True
len of model dicts is  10
compute distance is  tensor(43.2358, device='cuda:3')
compute distance is  tensor(82.2930, device='cuda:3')
compute distance is  tensor(83.8475, device='cuda:3')
compute distance is  tensor(131.1081, device='cuda:3')
compute distance is  tensor(75.6611, device='cuda:3')
compute distance is  tensor(59.3924, device='cuda:3')
compute distance is  tensor(98.0431, device='cuda:3')
compute distance is  tensor(72.3658, device='cuda:3')
compute distance is  tensor(79.5837, device='cuda:3')
compute distance is  tensor(94.8388, device='cuda:3')
calculated distance threshold is  tensor(102.6536, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.29421666682300607
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.3422333334896737
====================
====================
iteration is  0
round is  2
accuracy is  0.11155000015633196
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.2902000001563393
====================
====================
iteration is  1
round is  1
accuracy is  0.23656666682300445
====================
________________________________
test distance is  tensor(4281.0649, device='cuda:3')
test acc is  0.11155000015633196
test entropy is  0.15202024271652134
________________________________
diff is  tensor(43.3401, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3271, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.3065, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4932, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.9621, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0649, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3674, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2040, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4178.4111, device='cuda:3')
sum is tensor(0.2040, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5311, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0243, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0892, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4566, device='cuda:3', dtype=torch.float64)
sum is tensor(66.7967, device='cuda:3', dtype=torch.float64)
sum is tensor(639.1032, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.0653, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0282, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.9621, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.3401, device='cuda:3')
discard
cal diff is tensor(0.3271, device='cuda:3')
discard
cal diff is tensor(572.3066, device='cuda:3')
discard
cal diff is tensor(0.4932, device='cuda:3')
discard
cal diff is tensor(3641.9622, device='cuda:3')
clipping
cal diff is tensor(2.0649, device='cuda:3')
discard
cal diff is tensor(20.3674, device='cuda:3')
discard
cal diff is tensor(0.2040, device='cuda:3')
discard
________________________________
test distance is  tensor(102.6644, device='cuda:3')
test acc is  0.7729000001563268
test entropy is  0.4466717863705621
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(102.6543, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0108, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(102.6645, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(102.6543, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(102.6543, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(102.6638, device='cuda:3')
test acc is  0.7729000001563268
test entropy is  0.44667148167517645
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(102.6537, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0004, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(102.6537, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0835, device='cuda:3')
test acc is  0.7747666668229933
test entropy is  0.4458756779175577
________________________________
new distance ratio is 0.6761833208114203
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 5, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 11, 12, 15]
 
Avg Training Stats after 68 global rounds:
Train Accuracy: 95.68% 

Test Accuracy: 95.13% 


 | Global Training Round : 69 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.013445490039885044
attack res is True
len of model dicts is  10
compute distance is  tensor(42.8817, device='cuda:3')
compute distance is  tensor(48.8602, device='cuda:3')
compute distance is  tensor(91.7955, device='cuda:3')
compute distance is  tensor(31.3188, device='cuda:3')
compute distance is  tensor(32.1463, device='cuda:3')
compute distance is  tensor(32.0382, device='cuda:3')
compute distance is  tensor(68.9402, device='cuda:3')
compute distance is  tensor(56.4103, device='cuda:3')
compute distance is  tensor(91.3976, device='cuda:3')
compute distance is  tensor(58.7336, device='cuda:3')
calculated distance threshold is  tensor(76.3015, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.39670000015634105
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2993666668230062
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.32745000015634007
====================
====================
iteration is  1
round is  0
accuracy is  0.33921666682300694
====================
====================
iteration is  1
round is  1
accuracy is  0.3522333334896738
====================
________________________________
test distance is  tensor(4281.4492, device='cuda:3')
test acc is  0.2993666668230062
test entropy is  0.4373859588080632
________________________________
diff is  tensor(44.3632, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3418, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.0099, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5161, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.6460, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0651, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3558, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1516, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4205.1479, device='cuda:3')
sum is tensor(0.1516, device='cuda:3', dtype=torch.float64)
sum is tensor(0.4934, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0095, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0746, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4304, device='cuda:3', dtype=torch.float64)
sum is tensor(67.7936, device='cuda:3', dtype=torch.float64)
sum is tensor(639.8035, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.4495, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0210, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.6460, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.3632, device='cuda:3')
discard
cal diff is tensor(0.3418, device='cuda:3')
discard
cal diff is tensor(572.0099, device='cuda:3')
discard
cal diff is tensor(0.5161, device='cuda:3')
discard
cal diff is tensor(3641.6460, device='cuda:3')
discard
cal diff is tensor(2.0651, device='cuda:3')
discard
cal diff is tensor(20.3558, device='cuda:3')
discard
cal diff is tensor(0.1516, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9503166668229863
test entropy is  0.22434870710473326
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.22434870710473326
avg test loss is  0.15845647214580255
avg accuracy is  0.9503166668229863
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.4755856822421556
avg test loss is  4.368446883870594
avg accuracy is  0.3310500001563401
compute_distance is  tensor(97.7356, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(97.7356, device='cuda:3')
test acc is  0.3310500001563401
test entropy is  0.4755856822421556
________________________________
diff is  tensor(0.8264, device='cuda:3')
diff is  tensor(0.0078, device='cuda:3')
diff is  tensor(17.2223, device='cuda:3')
diff is  tensor(0.0164, device='cuda:3')
diff is  tensor(79.2252, device='cuda:3')
diff is  tensor(0.0313, device='cuda:3')
diff is  tensor(0.3962, device='cuda:3')
diff is  tensor(0.0029, device='cuda:3')
threshold is  tensor(21.4341, device='cuda:3')
sum is tensor(0.0029, device='cuda:3')
sum is tensor(0.0107, device='cuda:3')
sum is tensor(0.0271, device='cuda:3')
sum is tensor(0.0584, device='cuda:3')
sum is tensor(0.4546, device='cuda:3')
sum is tensor(1.2810, device='cuda:3')
sum is tensor(18.5033, device='cuda:3')
sum is tensor(97.7285, device='cuda:3')
ratio is tensor(0.9630, device='cuda:3')
threshold is tensor(79.2252, device='cuda:3')
cal diff is tensor(0.8264, device='cuda:3')
discard
cal diff is tensor(0.0078, device='cuda:3')
discard
cal diff is tensor(17.2223, device='cuda:3')
discard
cal diff is tensor(0.0164, device='cuda:3')
discard
cal diff is tensor(79.2252, device='cuda:3')
clipping
cal diff is tensor(0.0313, device='cuda:3')
discard
cal diff is tensor(0.3962, device='cuda:3')
discard
cal diff is tensor(0.0029, device='cuda:3')
discard
________________________________
test distance is  tensor(76.2971, device='cuda:3')
test acc is  0.7712000001563268
test entropy is  0.5191605795166894
________________________________
new distance ratio is 0.7438016528925624
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 17, 18, 19, 21, 23]
 
Avg Training Stats after 69 global rounds:
Train Accuracy: 94.13% 

Test Accuracy: 93.76% 


 | Global Training Round : 70 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.013999109156429768
attack res is True
len of model dicts is  10
compute distance is  tensor(27.1231, device='cuda:3')
compute distance is  tensor(38.9417, device='cuda:3')
compute distance is  tensor(97.5841, device='cuda:3')
compute distance is  tensor(64.4247, device='cuda:3')
compute distance is  tensor(38.1843, device='cuda:3')
compute distance is  tensor(25.0837, device='cuda:3')
compute distance is  tensor(65.0290, device='cuda:3')
compute distance is  tensor(45.0923, device='cuda:3')
compute distance is  tensor(97.0224, device='cuda:3')
compute distance is  tensor(60.1847, device='cuda:3')
calculated distance threshold is  tensor(84.4022, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.2077833334896701
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.30808333348967304
====================
====================
iteration is  0
round is  2
accuracy is  0.28985000015633916
====================
====================
iteration is  1
round is  0
accuracy is  0.3476000001563403
====================
====================
iteration is  1
round is  1
accuracy is  0.3895166668230075
====================
________________________________
test distance is  tensor(4279.9380, device='cuda:3')
test acc is  0.2077833334896701
test entropy is  0.2393941767354891
________________________________
diff is  tensor(42.8133, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3732, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.1114, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5155, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.6433, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0069, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2994, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1755, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4195.5356, device='cuda:3')
sum is tensor(0.1755, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5487, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0643, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0712, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3706, device='cuda:3', dtype=torch.float64)
sum is tensor(66.1839, device='cuda:3', dtype=torch.float64)
sum is tensor(638.2953, device='cuda:3', dtype=torch.float64)
sum is tensor(4279.9385, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0232, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.6433, device='cuda:3', dtype=torch.float64)
cal diff is tensor(42.8133, device='cuda:3')
discard
cal diff is tensor(0.3732, device='cuda:3')
discard
cal diff is tensor(572.1114, device='cuda:3')
discard
cal diff is tensor(0.5155, device='cuda:3')
discard
cal diff is tensor(3641.6431, device='cuda:3')
discard
cal diff is tensor(2.0069, device='cuda:3')
discard
cal diff is tensor(20.2994, device='cuda:3')
discard
cal diff is tensor(0.1755, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9360666668229869
test entropy is  0.27545358551177646
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.27545358551177646
avg test loss is  0.20133697421653374
avg accuracy is  0.9360666668229869
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.24541413293940934
avg test loss is  8.086865707755344
avg accuracy is  0.20343333348966983
compute_distance is  tensor(99.6743, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(99.6743, device='cuda:3')
test acc is  0.20343333348966983
test entropy is  0.24541413293940934
________________________________
diff is  tensor(0.9991, device='cuda:3')
diff is  tensor(0.0087, device='cuda:3')
diff is  tensor(18.0203, device='cuda:3')
diff is  tensor(0.0171, device='cuda:3')
diff is  tensor(80.1428, device='cuda:3')
diff is  tensor(0.0330, device='cuda:3')
diff is  tensor(0.4346, device='cuda:3')
diff is  tensor(0.0040, device='cuda:3')
threshold is  tensor(15.2721, device='cuda:3')
sum is tensor(0.0040, device='cuda:3')
sum is tensor(0.0127, device='cuda:3')
sum is tensor(0.0298, device='cuda:3')
sum is tensor(0.0628, device='cuda:3')
sum is tensor(0.4974, device='cuda:3')
sum is tensor(1.4965, device='cuda:3')
sum is tensor(19.5168, device='cuda:3')
ratio is tensor(0.2356, device='cuda:3')
threshold is tensor(18.0203, device='cuda:3')
cal diff is tensor(0.9991, device='cuda:3')
discard
cal diff is tensor(0.0087, device='cuda:3')
discard
cal diff is tensor(18.0203, device='cuda:3')
clipping
cal diff is tensor(0.0171, device='cuda:3')
discard
cal diff is tensor(80.1428, device='cuda:3')
clipping
cal diff is tensor(0.0330, device='cuda:3')
discard
cal diff is tensor(0.4346, device='cuda:3')
discard
cal diff is tensor(0.0040, device='cuda:3')
discard
________________________________
test distance is  tensor(23.1327, device='cuda:3')
test acc is  0.8952666668229882
test entropy is  0.33866109988137855
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.33866109988137855
avg test loss is  0.30633948503860403
avg accuracy is  0.8952666668229882
compute_distance is  tensor(23.1327, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.24598778974908247
avg test loss is  8.12776549386063
avg accuracy is  0.2024333334896698
compute_distance is  tensor(106.8730, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(106.8730, device='cuda:3')
test acc is  0.2024333334896698
test entropy is  0.24598778974908247
________________________________
diff is  tensor(1.0352, device='cuda:3')
diff is  tensor(0.0083, device='cuda:3')
diff is  tensor(19.2046, device='cuda:3')
diff is  tensor(0.0134, device='cuda:3')
diff is  tensor(86.1886, device='cuda:3')
diff is  tensor(0.0273, device='cuda:3')
diff is  tensor(0.3753, device='cuda:3')
diff is  tensor(0.0034, device='cuda:3')
threshold is  tensor(22.4708, device='cuda:3')
sum is tensor(0.0034, device='cuda:3')
sum is tensor(0.0117, device='cuda:3')
sum is tensor(0.0251, device='cuda:3')
sum is tensor(0.0524, device='cuda:3')
sum is tensor(0.4277, device='cuda:3')
sum is tensor(1.4629, device='cuda:3')
sum is tensor(20.6675, device='cuda:3')
sum is tensor(106.8561, device='cuda:3')
ratio is tensor(0.9791, device='cuda:3')
threshold is tensor(86.1886, device='cuda:3')
cal diff is tensor(1.0352, device='cuda:3')
discard
cal diff is tensor(0.0083, device='cuda:3')
discard
cal diff is tensor(19.2046, device='cuda:3')
discard
cal diff is tensor(0.0134, device='cuda:3')
discard
cal diff is tensor(86.1886, device='cuda:3')
clipping
cal diff is tensor(0.0273, device='cuda:3')
discard
cal diff is tensor(0.3753, device='cuda:3')
discard
cal diff is tensor(0.0034, device='cuda:3')
discard
________________________________
test distance is  tensor(84.3962, device='cuda:3')
test acc is  0.5911000001563383
test entropy is  0.5028208308319039
________________________________
new distance ratio is 0.8181818181818187
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 34, 36, 37, 39, 8, 9, 11, 12, 14, 15]
 
Avg Training Stats after 70 global rounds:
Train Accuracy: 94.12% 

Test Accuracy: 93.59% 


 | Global Training Round : 71 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.014572557993233204
attack res is True
len of model dicts is  10
compute distance is  tensor(39.5158, device='cuda:3')
compute distance is  tensor(65.1425, device='cuda:3')
compute distance is  tensor(88.1717, device='cuda:3')
compute distance is  tensor(48.4673, device='cuda:3')
compute distance is  tensor(40.7716, device='cuda:3')
compute distance is  tensor(20.7839, device='cuda:3')
compute distance is  tensor(103.0425, device='cuda:3')
compute distance is  tensor(71.1539, device='cuda:3')
compute distance is  tensor(70.6299, device='cuda:3')
compute distance is  tensor(89.2450, device='cuda:3')
calculated distance threshold is  tensor(94.8166, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.31830000015633986
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.15836666682300043
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.22560000015633755
====================
====================
iteration is  1
round is  0
accuracy is  0.3164666668230065
====================
====================
iteration is  1
round is  1
accuracy is  0.3090000001563397
====================
________________________________
test distance is  tensor(4279.6875, device='cuda:3')
test acc is  0.15836666682300043
test entropy is  0.2206291717602246
________________________________
diff is  tensor(43.0315, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3725, device='cuda:3', dtype=torch.float64)
diff is  tensor(570.3640, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5194, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.9965, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9970, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.1784, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2278, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4184.8711, device='cuda:3')
sum is tensor(0.2278, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6003, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1197, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1166, device='cuda:3', dtype=torch.float64)
sum is tensor(23.2950, device='cuda:3', dtype=torch.float64)
sum is tensor(66.3265, device='cuda:3', dtype=torch.float64)
sum is tensor(636.6905, device='cuda:3', dtype=torch.float64)
sum is tensor(4279.6870, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0260, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.9965, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.0315, device='cuda:3')
discard
cal diff is tensor(0.3725, device='cuda:3')
discard
cal diff is tensor(570.3640, device='cuda:3')
discard
cal diff is tensor(0.5194, device='cuda:3')
discard
cal diff is tensor(3642.9966, device='cuda:3')
clipping
cal diff is tensor(1.9970, device='cuda:3')
discard
cal diff is tensor(20.1784, device='cuda:3')
discard
cal diff is tensor(0.2278, device='cuda:3')
discard
________________________________
test distance is  tensor(94.8262, device='cuda:3')
test acc is  0.9329833334896536
test entropy is  0.2646059574189979
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(94.8159, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0096, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0704, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(94.8159, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(6.6864, device='cuda:3')
test acc is  0.9324333334896535
test entropy is  0.2647535060165025
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.2647535060165025
avg test loss is  0.20983410663386462
avg accuracy is  0.9324333334896535
compute_distance is  tensor(6.6864, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.20314585106935837
avg test loss is  10.027567534558555
avg accuracy is  0.1464500001563328
compute_distance is  tensor(92.1012, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(92.1012, device='cuda:3')
test acc is  0.1464500001563328
test entropy is  0.20314585106935837
________________________________
new distance ratio is 0.9000000000000006
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 2, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
 
Avg Training Stats after 71 global rounds:
Train Accuracy: 32.90% 

Test Accuracy: 31.66% 


 | Global Training Round : 72 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.016195029020309448
attack res is True
len of model dicts is  10
compute distance is  tensor(115.4187, device='cuda:3')
compute distance is  tensor(244.1003, device='cuda:3')
compute distance is  tensor(218.6241, device='cuda:3')
compute distance is  tensor(148.5565, device='cuda:3')
compute distance is  tensor(228.6082, device='cuda:3')
compute distance is  tensor(107.6169, device='cuda:3')
compute distance is  tensor(193.4639, device='cuda:3')
compute distance is  tensor(252.2314, device='cuda:3')
compute distance is  tensor(163.5427, device='cuda:3')
compute distance is  tensor(168.2959, device='cuda:3')
calculated distance threshold is  tensor(250.7852, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.1021833334896653
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.24790000015633815
====================
====================
iteration is  0
round is  2
accuracy is  0.2151333334896704
====================
====================
iteration is  1
round is  0
accuracy is  0.17668333348966844
====================
====================
iteration is  1
round is  1
accuracy is  0.2185166668230038
====================
________________________________
test distance is  tensor(4281.9248, device='cuda:3')
test acc is  0.1021833334896653
test entropy is  0.000649023620630234
________________________________
diff is  tensor(44.5708, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3502, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.9667, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4801, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.9503, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0634, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3433, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1996, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4031.1396, device='cuda:3')
sum is tensor(0.1996, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5499, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0300, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0934, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4366, device='cuda:3', dtype=torch.float64)
sum is tensor(68.0075, device='cuda:3', dtype=torch.float64)
sum is tensor(639.9741, device='cuda:3', dtype=torch.float64)
sum is tensor(4281.9245, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0689, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.9503, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.5708, device='cuda:3')
discard
cal diff is tensor(0.3502, device='cuda:3')
discard
cal diff is tensor(571.9667, device='cuda:3')
discard
cal diff is tensor(0.4801, device='cuda:3')
discard
cal diff is tensor(3641.9504, device='cuda:3')
clipping
cal diff is tensor(2.0634, device='cuda:3')
discard
cal diff is tensor(20.3433, device='cuda:3')
discard
cal diff is tensor(0.1996, device='cuda:3')
discard
________________________________
test distance is  tensor(250.7950, device='cuda:3')
test acc is  0.31170000015633975
test entropy is  0.4721581231492923
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(250.7848, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0098, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0451, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(250.7848, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(11.3259, device='cuda:3')
test acc is  0.3113666668230065
test entropy is  0.4745482361392934
________________________________
new distance ratio is 0.9900000000000008
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [6, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 16, 17, 18, 19, 20, 21, 23, 8, 9, 10, 11, 12, 13, 14, 15]
 
Avg Training Stats after 72 global rounds:
Train Accuracy: 96.31% 

Test Accuracy: 96.56% 


 | Global Training Round : 73 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.016266580671072006
attack res is True
len of model dicts is  10
compute distance is  tensor(21.8200, device='cuda:3')
compute distance is  tensor(41.5082, device='cuda:3')
compute distance is  tensor(85.0314, device='cuda:3')
compute distance is  tensor(38.0027, device='cuda:3')
compute distance is  tensor(24.1215, device='cuda:3')
compute distance is  tensor(23.8502, device='cuda:3')
compute distance is  tensor(64.7732, device='cuda:3')
compute distance is  tensor(34.5972, device='cuda:3')
compute distance is  tensor(89.2354, device='cuda:3')
compute distance is  tensor(90.3047, device='cuda:3')
calculated distance threshold is  tensor(96.3998, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.24873333348967155
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.40115000015634117
====================
====================
iteration is  0
round is  2
accuracy is  0.16200000015633406
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.14000000015633224
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.18040000015633545
====================
________________________________
test distance is  tensor(4282.7168, device='cuda:3')
test acc is  0.14000000015633224
test entropy is  0.1305879697338668
________________________________
diff is  tensor(44.0090, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3579, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.7473, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5303, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.4902, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0720, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3067, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2030, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4186.3169, device='cuda:3')
sum is tensor(0.2030, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5609, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0912, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1632, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4699, device='cuda:3', dtype=torch.float64)
sum is tensor(67.4789, device='cuda:3', dtype=torch.float64)
sum is tensor(641.2262, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.7164, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0265, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.4902, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.0090, device='cuda:3')
discard
cal diff is tensor(0.3579, device='cuda:3')
discard
cal diff is tensor(573.7473, device='cuda:3')
discard
cal diff is tensor(0.5303, device='cuda:3')
discard
cal diff is tensor(3641.4902, device='cuda:3')
clipping
cal diff is tensor(2.0720, device='cuda:3')
discard
cal diff is tensor(20.3067, device='cuda:3')
discard
cal diff is tensor(0.2030, device='cuda:3')
discard
________________________________
test distance is  tensor(96.4097, device='cuda:3')
test acc is  0.9633500001563192
test entropy is  0.21791122126966905
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(96.3995, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0099, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0342, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(96.3995, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(3.3040, device='cuda:3')
test acc is  0.9631666668229859
test entropy is  0.21796237863203102
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.21796237863203102
avg test loss is  0.129089574764437
avg accuracy is  0.9631666668229859
compute_distance is  tensor(3.3040, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.08851302830554021
avg test loss is  8.399128906762423
avg accuracy is  0.11813333348966527
compute_distance is  tensor(90.5217, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(90.5217, device='cuda:3')
test acc is  0.11813333348966527
test entropy is  0.08851302830554021
________________________________
new distance ratio is 1.0890000000000009
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
 
Avg Training Stats after 73 global rounds:
Train Accuracy: 53.58% 

Test Accuracy: 52.32% 


 | Global Training Round : 74 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.01757223531603813
attack res is True
len of model dicts is  10
compute distance is  tensor(116.0951, device='cuda:3')
compute distance is  tensor(193.6966, device='cuda:3')
compute distance is  tensor(218.9036, device='cuda:3')
compute distance is  tensor(105.6770, device='cuda:3')
compute distance is  tensor(67.2940, device='cuda:3')
compute distance is  tensor(147.1051, device='cuda:3')
compute distance is  tensor(196.8694, device='cuda:3')
compute distance is  tensor(186.4536, device='cuda:3')
compute distance is  tensor(116.9539, device='cuda:3')
compute distance is  tensor(156.7381, device='cuda:3')
calculated distance threshold is  tensor(248.9072, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.15516666682300026
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.12150000015633194
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.14251666682299913
====================
====================
iteration is  1
round is  0
accuracy is  0.09696666682299866
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.09935000015633198
====================
________________________________
test distance is  tensor(4284.9272, device='cuda:3')
test acc is  0.09696666682299866
test entropy is  0.1383935863346751
________________________________
diff is  tensor(45.3905, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3858, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.6762, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5049, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.3515, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0180, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3911, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2096, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4036.0200, device='cuda:3')
sum is tensor(0.2096, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5954, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1004, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1183, device='cuda:3', dtype=torch.float64)
sum is tensor(23.5094, device='cuda:3', dtype=torch.float64)
sum is tensor(68.8999, device='cuda:3', dtype=torch.float64)
sum is tensor(642.5761, device='cuda:3', dtype=torch.float64)
sum is tensor(4284.9276, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0683, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.3515, device='cuda:3', dtype=torch.float64)
cal diff is tensor(45.3905, device='cuda:3')
discard
cal diff is tensor(0.3858, device='cuda:3')
discard
cal diff is tensor(573.6762, device='cuda:3')
discard
cal diff is tensor(0.5049, device='cuda:3')
discard
cal diff is tensor(3642.3516, device='cuda:3')
clipping
cal diff is tensor(2.0180, device='cuda:3')
discard
cal diff is tensor(20.3911, device='cuda:3')
discard
cal diff is tensor(0.2096, device='cuda:3')
discard
________________________________
test distance is  tensor(248.9178, device='cuda:3')
test acc is  0.5091833334896755
test entropy is  0.4455781501811196
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(248.9076, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0105, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(248.9178, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(248.9076, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(248.9076, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(248.9174, device='cuda:3')
test acc is  0.5091833334896755
test entropy is  0.44557826030356035
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(248.9072, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0013, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(248.9072, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.3359, device='cuda:3')
test acc is  0.5160333334896755
test entropy is  0.44378776365378775
________________________________
new distance ratio is 1.197900000000001
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 2, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 8, 9, 11, 12, 13, 14, 15]
 
Avg Training Stats after 74 global rounds:
Train Accuracy: 97.14% 

Test Accuracy: 96.87% 


 | Global Training Round : 75 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.018570464104413986
attack res is True
len of model dicts is  10
compute distance is  tensor(28.7189, device='cuda:3')
compute distance is  tensor(33.3963, device='cuda:3')
compute distance is  tensor(103.3507, device='cuda:3')
compute distance is  tensor(31.2677, device='cuda:3')
compute distance is  tensor(23.0321, device='cuda:3')
compute distance is  tensor(24.8073, device='cuda:3')
compute distance is  tensor(53.0683, device='cuda:3')
compute distance is  tensor(39.7884, device='cuda:3')
compute distance is  tensor(82.0062, device='cuda:3')
compute distance is  tensor(60.5565, device='cuda:3')
calculated distance threshold is  tensor(128.8671, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.2950500001563395
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.22985000015633755
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.24163333348967123
====================
====================
iteration is  1
round is  0
accuracy is  0.19060000015633588
====================
succ_min + 1
====================
iteration is  1
round is  1
accuracy is  0.2671000001563388
====================
________________________________
test distance is  tensor(4283.8682, device='cuda:3')
test acc is  0.19060000015633588
test entropy is  0.33946632546211863
________________________________
diff is  tensor(45.8515, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3569, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.8917, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4854, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.7997, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0171, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2858, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1802, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4155.0010, device='cuda:3')
sum is tensor(0.1802, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5371, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0225, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0396, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3253, device='cuda:3', dtype=torch.float64)
sum is tensor(69.1769, device='cuda:3', dtype=torch.float64)
sum is tensor(642.0685, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.8682, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0354, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.7997, device='cuda:3', dtype=torch.float64)
cal diff is tensor(45.8515, device='cuda:3')
discard
cal diff is tensor(0.3569, device='cuda:3')
discard
cal diff is tensor(572.8917, device='cuda:3')
discard
cal diff is tensor(0.4854, device='cuda:3')
discard
cal diff is tensor(3641.7996, device='cuda:3')
discard
cal diff is tensor(2.0171, device='cuda:3')
discard
cal diff is tensor(20.2858, device='cuda:3')
discard
cal diff is tensor(0.1802, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9691000001563191
test entropy is  0.17322500711326788
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.17322500711326788
avg test loss is  0.10756173232760924
avg accuracy is  0.9691000001563191
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.41930492196891356
avg test loss is  7.404762061165848
avg accuracy is  0.21570000015633706
compute_distance is  tensor(100.3715, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(100.3715, device='cuda:3')
test acc is  0.21570000015633706
test entropy is  0.41930492196891356
________________________________
new distance ratio is 1.3176900000000014
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39, 16, 17, 18, 19, 20, 21, 22, 23]
left index is  [0, 2, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 34, 35, 36, 37, 39, 16, 17, 18, 19, 20, 21]
 
Avg Training Stats after 75 global rounds:
Train Accuracy: 94.71% 

Test Accuracy: 94.11% 


 | Global Training Round : 76 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  32 5
current submit client idx and staleness is  33 5
current submit client idx and staleness is  34 5
current submit client idx and staleness is  35 5
current submit client idx and staleness is  36 5
current submit client idx and staleness is  37 5
current submit client idx and staleness is  38 5
current submit client idx and staleness is  39 5
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.016301369294524193
attack res is True
len of model dicts is  10
compute distance is  tensor(26.5601, device='cuda:3')
compute distance is  tensor(43.9723, device='cuda:3')
compute distance is  tensor(91.2699, device='cuda:3')
compute distance is  tensor(66.6700, device='cuda:3')
compute distance is  tensor(39.4766, device='cuda:3')
compute distance is  tensor(24.1180, device='cuda:3')
compute distance is  tensor(74.4466, device='cuda:3')
compute distance is  tensor(57.4519, device='cuda:3')
compute distance is  tensor(91.1401, device='cuda:3')
compute distance is  tensor(91.3439, device='cuda:3')
calculated distance threshold is  tensor(121.5591, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.25926666682300514
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.1905666668230025
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.216300000156337
====================
====================
iteration is  1
round is  0
accuracy is  0.20856666682300337
====================
====================
iteration is  1
round is  1
accuracy is  0.1340666668229986
====================
succ_min + 1
________________________________
test distance is  tensor(4283.1460, device='cuda:3')
test acc is  0.1340666668229986
test entropy is  0.1833106747536517
________________________________
diff is  tensor(44.7601, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3672, device='cuda:3', dtype=torch.float64)
diff is  tensor(572.3284, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4720, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.8218, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0030, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.1447, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2487, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4161.5869, device='cuda:3')
sum is tensor(0.2487, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6159, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0879, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0909, device='cuda:3', dtype=torch.float64)
sum is tensor(23.2355, device='cuda:3', dtype=torch.float64)
sum is tensor(67.9956, device='cuda:3', dtype=torch.float64)
sum is tensor(640.3241, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.1458, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0334, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.8218, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.7601, device='cuda:3')
discard
cal diff is tensor(0.3672, device='cuda:3')
discard
cal diff is tensor(572.3284, device='cuda:3')
discard
cal diff is tensor(0.4720, device='cuda:3')
discard
cal diff is tensor(3642.8218, device='cuda:3')
clipping
cal diff is tensor(2.0030, device='cuda:3')
discard
cal diff is tensor(20.1447, device='cuda:3')
discard
cal diff is tensor(0.2487, device='cuda:3')
discard
________________________________
test distance is  tensor(121.5692, device='cuda:3')
test acc is  0.9396166668229866
test entropy is  0.24077530674684022
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(121.5589, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0101, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
ratio is tensor(0.0156, device='cuda:3')
threshold is tensor(0.0091, device='cuda:3')
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
clipping
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(121.5589, device='cuda:3')
clipping
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(1.9096, device='cuda:3')
test acc is  0.93885000015632
test entropy is  0.24193040325220969
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.24193040325220969
avg test loss is  0.19132617466461493
avg accuracy is  0.93885000015632
compute_distance is  tensor(1.9096, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.14993453234223636
avg test loss is  11.32809490689845
avg accuracy is  0.12700000015633192
compute_distance is  tensor(91.3479, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(91.3479, device='cuda:3')
test acc is  0.12700000015633192
test entropy is  0.14993453234223636
________________________________
new distance ratio is 1.4494590000000016
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 5, 6, 7, 24, 25, 26, 27, 28, 29, 30, 31, 8, 11, 12, 14, 15]
 
Avg Training Stats after 76 global rounds:
Train Accuracy: 96.99% 

Test Accuracy: 96.94% 


 | Global Training Round : 77 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  24 4
current submit client idx and staleness is  25 4
current submit client idx and staleness is  26 4
current submit client idx and staleness is  27 4
current submit client idx and staleness is  28 4
current submit client idx and staleness is  29 4
current submit client idx and staleness is  30 4
current submit client idx and staleness is  31 4
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.01892242021858692
attack res is True
len of model dicts is  10
compute distance is  tensor(25.2115, device='cuda:3')
compute distance is  tensor(40.2808, device='cuda:3')
compute distance is  tensor(87.0079, device='cuda:3')
compute distance is  tensor(67.5800, device='cuda:3')
compute distance is  tensor(22.4407, device='cuda:3')
compute distance is  tensor(40.2136, device='cuda:3')
compute distance is  tensor(91.4816, device='cuda:3')
compute distance is  tensor(38.2688, device='cuda:3')
compute distance is  tensor(92.8479, device='cuda:3')
compute distance is  tensor(66.1924, device='cuda:3')
calculated distance threshold is  tensor(134.6982, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.4076833334896745
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.2912000001563393
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.25800000015633845
====================
succ_min + 1
====================
iteration is  1
round is  0
accuracy is  0.2947500001563395
====================
====================
iteration is  1
round is  1
accuracy is  0.23565000015633783
====================
succ_min + 1
________________________________
test distance is  tensor(4280.6323, device='cuda:3')
test acc is  0.23565000015633783
test entropy is  0.3698340654849752
________________________________
diff is  tensor(43.8724, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3841, device='cuda:3', dtype=torch.float64)
diff is  tensor(571.3943, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4752, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.0601, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0179, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2529, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.1747, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4145.9341, device='cuda:3')
sum is tensor(0.1747, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5588, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0341, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0520, device='cuda:3', dtype=torch.float64)
sum is tensor(23.3049, device='cuda:3', dtype=torch.float64)
sum is tensor(67.1773, device='cuda:3', dtype=torch.float64)
sum is tensor(638.5716, device='cuda:3', dtype=torch.float64)
sum is tensor(4280.6317, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0370, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.0601, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.8724, device='cuda:3')
discard
cal diff is tensor(0.3841, device='cuda:3')
discard
cal diff is tensor(571.3943, device='cuda:3')
discard
cal diff is tensor(0.4752, device='cuda:3')
discard
cal diff is tensor(3642.0601, device='cuda:3')
discard
cal diff is tensor(2.0179, device='cuda:3')
discard
cal diff is tensor(20.2529, device='cuda:3')
discard
cal diff is tensor(0.1747, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9693166668229858
test entropy is  0.14238217600516037
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.14238217600516037
avg test loss is  0.10235045087595246
avg accuracy is  0.9693166668229858
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.4416971551711117
avg test loss is  6.602967209907483
avg accuracy is  0.22550000015633748
compute_distance is  tensor(103.5038, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(103.5038, device='cuda:3')
test acc is  0.22550000015633748
test entropy is  0.4416971551711117
________________________________
new distance ratio is 1.5944049000000018
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 1, 2, 4, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
 
Avg Training Stats after 77 global rounds:
Train Accuracy: 65.50% 

Test Accuracy: 62.87% 


 | Global Training Round : 78 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.02003684639930725
attack res is True
len of model dicts is  10
compute distance is  tensor(76.6298, device='cuda:3')
compute distance is  tensor(226.8968, device='cuda:3')
compute distance is  tensor(189.7876, device='cuda:3')
compute distance is  tensor(143.8466, device='cuda:3')
compute distance is  tensor(100.9468, device='cuda:3')
compute distance is  tensor(78.4106, device='cuda:3')
compute distance is  tensor(103.6818, device='cuda:3')
compute distance is  tensor(206.3849, device='cuda:3')
compute distance is  tensor(198.0963, device='cuda:3')
compute distance is  tensor(122.6103, device='cuda:3')
calculated distance threshold is  tensor(340.1749, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.13825000015633204
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.20276666682300315
====================
====================
iteration is  0
round is  2
accuracy is  0.24825000015633816
====================
====================
iteration is  1
round is  0
accuracy is  0.19911666682300302
====================
====================
iteration is  1
round is  1
accuracy is  0.15166666682299992
====================
________________________________
test distance is  tensor(4284.7847, device='cuda:3')
test acc is  0.13825000015633204
test entropy is  0.06397731699394996
________________________________
diff is  tensor(43.8055, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3664, device='cuda:3', dtype=torch.float64)
diff is  tensor(575.3621, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.5224, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.1728, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9959, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3194, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2402, device='cuda:3', dtype=torch.float64)
threshold is  tensor(3944.6099, device='cuda:3')
sum is tensor(0.2402, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6067, device='cuda:3', dtype=torch.float64)
sum is tensor(1.1291, device='cuda:3', dtype=torch.float64)
sum is tensor(3.1249, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4444, device='cuda:3', dtype=torch.float64)
sum is tensor(67.2498, device='cuda:3', dtype=torch.float64)
sum is tensor(642.6119, device='cuda:3', dtype=torch.float64)
sum is tensor(4284.7848, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0934, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.1728, device='cuda:3', dtype=torch.float64)
cal diff is tensor(43.8055, device='cuda:3')
discard
cal diff is tensor(0.3664, device='cuda:3')
discard
cal diff is tensor(575.3621, device='cuda:3')
discard
cal diff is tensor(0.5224, device='cuda:3')
discard
cal diff is tensor(3642.1729, device='cuda:3')
clipping
cal diff is tensor(1.9959, device='cuda:3')
discard
cal diff is tensor(20.3194, device='cuda:3')
discard
cal diff is tensor(0.2402, device='cuda:3')
discard
________________________________
test distance is  tensor(340.1851, device='cuda:3')
test acc is  0.6411333334896677
test entropy is  0.503614092337043
________________________________
diff is  tensor(0.0008, device='cuda:3')
diff is  tensor(5.6569e-06, device='cuda:3')
diff is  tensor(0.0091, device='cuda:3')
diff is  tensor(8.0000e-06, device='cuda:3')
diff is  tensor(340.1749, device='cuda:3', dtype=torch.float64)
diff is  tensor(3.2000e-05, device='cuda:3')
diff is  tensor(0.0003, device='cuda:3')
diff is  tensor(3.1623e-06, device='cuda:3')
threshold is  tensor(0.0102, device='cuda:3')
sum is tensor(3.1623e-06, device='cuda:3')
sum is tensor(8.8191e-06, device='cuda:3')
sum is tensor(1.6819e-05, device='cuda:3')
sum is tensor(4.8819e-05, device='cuda:3')
sum is tensor(0.0004, device='cuda:3')
sum is tensor(0.0012, device='cuda:3')
sum is tensor(0.0102, device='cuda:3')
sum is tensor(340.1851, device='cuda:3')
ratio is tensor(1.0000, device='cuda:3', dtype=torch.float64)
threshold is tensor(340.1749, device='cuda:3', dtype=torch.float64)
cal diff is tensor(0.0008, device='cuda:3')
discard
cal diff is tensor(5.6569e-06, device='cuda:3')
discard
cal diff is tensor(0.0091, device='cuda:3')
discard
cal diff is tensor(8.0000e-06, device='cuda:3')
discard
cal diff is tensor(340.1749, device='cuda:3')
discard
cal diff is tensor(3.2000e-05, device='cuda:3')
discard
cal diff is tensor(0.0003, device='cuda:3')
discard
cal diff is tensor(3.1623e-06, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.6161333334896697
test entropy is  0.5118698383699348
________________________________
new distance ratio is 1.7538453900000022
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [1, 5, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 16, 17, 18, 19, 20, 21, 22, 23, 8, 9, 10, 11, 12, 13, 14, 15]
 
Avg Training Stats after 78 global rounds:
Train Accuracy: 96.34% 

Test Accuracy: 95.74% 


 | Global Training Round : 79 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  8 2
current submit client idx and staleness is  9 2
current submit client idx and staleness is  10 2
current submit client idx and staleness is  11 2
current submit client idx and staleness is  12 2
current submit client idx and staleness is  13 2
current submit client idx and staleness is  14 2
current submit client idx and staleness is  15 2
current submit client idx and staleness is  16 3
current submit client idx and staleness is  17 3
current submit client idx and staleness is  18 3
current submit client idx and staleness is  19 3
current submit client idx and staleness is  20 3
current submit client idx and staleness is  21 3
current submit client idx and staleness is  22 3
current submit client idx and staleness is  23 3
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.02010085992515087
attack res is True
len of model dicts is  10
compute distance is  tensor(29.4794, device='cuda:3')
compute distance is  tensor(46.0771, device='cuda:3')
compute distance is  tensor(66.1966, device='cuda:3')
compute distance is  tensor(44.4091, device='cuda:3')
compute distance is  tensor(39.7157, device='cuda:3')
compute distance is  tensor(31.5368, device='cuda:3')
compute distance is  tensor(52.4520, device='cuda:3')
compute distance is  tensor(41.4094, device='cuda:3')
compute distance is  tensor(103.7744, device='cuda:3')
compute distance is  tensor(100.4778, device='cuda:3')
calculated distance threshold is  tensor(172.8116, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.2858333334896725
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.17643333348966841
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.1899666668230026
====================
====================
iteration is  1
round is  0
accuracy is  0.31163333348967304
====================
====================
iteration is  1
round is  1
accuracy is  0.3121500001563398
====================
________________________________
test distance is  tensor(4283.3979, device='cuda:3')
test acc is  0.17643333348966841
test entropy is  0.3332090873612778
________________________________
diff is  tensor(44.2296, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3852, device='cuda:3', dtype=torch.float64)
diff is  tensor(573.8664, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4423, device='cuda:3', dtype=torch.float64)
diff is  tensor(3642.0181, device='cuda:3', dtype=torch.float64)
diff is  tensor(1.9982, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.2408, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2179, device='cuda:3', dtype=torch.float64)
threshold is  tensor(4110.5864, device='cuda:3')
sum is tensor(0.2179, device='cuda:3', dtype=torch.float64)
sum is tensor(0.6031, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0454, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0436, device='cuda:3', dtype=torch.float64)
sum is tensor(23.2844, device='cuda:3', dtype=torch.float64)
sum is tensor(67.5139, device='cuda:3', dtype=torch.float64)
sum is tensor(641.3803, device='cuda:3', dtype=torch.float64)
sum is tensor(4283.3985, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.0474, device='cuda:3', dtype=torch.float64)
threshold is tensor(3642.0181, device='cuda:3', dtype=torch.float64)
cal diff is tensor(44.2296, device='cuda:3')
discard
cal diff is tensor(0.3852, device='cuda:3')
discard
cal diff is tensor(573.8664, device='cuda:3')
discard
cal diff is tensor(0.4423, device='cuda:3')
discard
cal diff is tensor(3642.0181, device='cuda:3')
discard
cal diff is tensor(1.9982, device='cuda:3')
discard
cal diff is tensor(20.2408, device='cuda:3')
discard
cal diff is tensor(0.2179, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.9560833334896528
test entropy is  0.17935415554338935
________________________________
++++++++++++++++++++
after training  0
avg test entropy is  0.17935415554338935
avg test loss is  0.13217919499281722
avg accuracy is  0.9560833334896528
compute_distance is  tensor(0.0676, device='cuda:3')
++++++++++++++++++++
++++++++++++++++++++
after training  1
avg test entropy is  0.37167412611340156
avg test loss is  6.212212626613788
avg accuracy is  0.15521666682300023
compute_distance is  tensor(93.2921, device='cuda:3')
++++++++++++++++++++
________________________________
test distance is  tensor(93.2921, device='cuda:3')
test acc is  0.15521666682300023
test entropy is  0.37167412611340156
________________________________
new distance ratio is 1.9292299290000026
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
left index is  [0, 2, 4, 5, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
 
Avg Training Stats after 79 global rounds:
Train Accuracy: 54.24% 

Test Accuracy: 54.55% 


 | Global Training Round : 80 | 

current submit client idx and staleness is  0 1
current submit client idx and staleness is  1 1
current submit client idx and staleness is  2 1
current submit client idx and staleness is  3 1
current submit client idx and staleness is  4 1
current submit client idx and staleness is  5 1
current submit client idx and staleness is  6 1
current submit client idx and staleness is  7 1
current submit client idx and staleness is  40 1
current submit client idx and staleness is  41 1
current submit client idx and staleness is  42 1
current submit client idx and staleness is  43 1
current submit client idx and staleness is  44 1
current submit client idx and staleness is  45 1
current submit client idx and staleness is  46 1
current submit client idx and staleness is  47 1
current submit client idx and staleness is  48 1
current submit client idx and staleness is  49 1
distance ratio is <class 'float'>
compare_res is  0.021707791835069656
attack res is True
len of model dicts is  10
compute distance is  tensor(121.8977, device='cuda:3')
compute distance is  tensor(64.0007, device='cuda:3')
compute distance is  tensor(103.6838, device='cuda:3')
compute distance is  tensor(167.6315, device='cuda:3')
compute distance is  tensor(141.3755, device='cuda:3')
compute distance is  tensor(122.4115, device='cuda:3')
compute distance is  tensor(214.1905, device='cuda:3')
compute distance is  tensor(102.7738, device='cuda:3')
compute distance is  tensor(101.1025, device='cuda:3')
compute distance is  tensor(155.9921, device='cuda:3')
calculated distance threshold is  tensor(382.7263, device='cuda:3')
pinned_accuracy threshold is  0.8292000001570009
====================
iteration is  0
round is  0
accuracy is  0.1838666668230021
====================
succ_min + 1
====================
iteration is  0
round is  1
accuracy is  0.16351666682300095
====================
succ_min + 1
====================
iteration is  0
round is  2
accuracy is  0.18588333348966884
====================
====================
iteration is  1
round is  0
accuracy is  0.16505000015633428
====================
====================
iteration is  1
round is  1
accuracy is  0.10978333348966529
====================
succ_min + 1
________________________________
test distance is  tensor(4282.2529, device='cuda:3')
test acc is  0.10978333348966529
test entropy is  0.01767747682729709
________________________________
diff is  tensor(42.9627, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.3527, device='cuda:3', dtype=torch.float64)
diff is  tensor(574.2924, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.4779, device='cuda:3', dtype=torch.float64)
diff is  tensor(3641.5843, device='cuda:3', dtype=torch.float64)
diff is  tensor(2.0152, device='cuda:3', dtype=torch.float64)
diff is  tensor(20.3273, device='cuda:3', dtype=torch.float64)
diff is  tensor(0.2407, device='cuda:3', dtype=torch.float64)
threshold is  tensor(3899.5266, device='cuda:3')
sum is tensor(0.2407, device='cuda:3', dtype=torch.float64)
sum is tensor(0.5934, device='cuda:3', dtype=torch.float64)
sum is tensor(1.0713, device='cuda:3', dtype=torch.float64)
sum is tensor(3.0865, device='cuda:3', dtype=torch.float64)
sum is tensor(23.4138, device='cuda:3', dtype=torch.float64)
sum is tensor(66.3765, device='cuda:3', dtype=torch.float64)
sum is tensor(640.6689, device='cuda:3', dtype=torch.float64)
sum is tensor(4282.2532, device='cuda:3', dtype=torch.float64)
ratio is tensor(0.1051, device='cuda:3', dtype=torch.float64)
threshold is tensor(3641.5843, device='cuda:3', dtype=torch.float64)
cal diff is tensor(42.9627, device='cuda:3')
discard
cal diff is tensor(0.3527, device='cuda:3')
discard
cal diff is tensor(574.2924, device='cuda:3')
discard
cal diff is tensor(0.4779, device='cuda:3')
discard
cal diff is tensor(3641.5842, device='cuda:3')
discard
cal diff is tensor(2.0152, device='cuda:3')
discard
cal diff is tensor(20.3273, device='cuda:3')
discard
cal diff is tensor(0.2407, device='cuda:3')
discard
________________________________
test distance is  tensor(0.0676, device='cuda:3')
test acc is  0.5462666668230091
test entropy is  0.5450642403445518
________________________________
new distance ratio is 2.122152921900003
[0, 1, 2, 3, 4, 5, 6, 7, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 33, 34, 35, 36, 37, 38, 39, 24, 25, 26, 27, 28, 29, 30, 31, 8, 9, 10, 11, 12, 13, 14, 15]
left index is  [0, 1, 2, 4, 6, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 32, 34, 36, 37, 39, 24, 25, 26, 27, 28, 29, 30, 31, 8, 11, 12, 13, 14, 15]
 
Avg Training Stats after 80 global rounds:
Train Accuracy: 97.23% 

Test Accuracy: 97.02% 

 
 Results after 80 global rounds of training:
|---- Avg testing Accuracy across each device's data: 97.23%
|----0th round Training Accuracy : 40.63%
|----1th round Training Accuracy : 62.60%
|----2th round Training Accuracy : 85.50%
|----3th round Training Accuracy : 90.75%
|----4th round Training Accuracy : 86.51%
|----5th round Training Accuracy : 92.45%
|----6th round Training Accuracy : 84.27%
|----7th round Training Accuracy : 91.75%
|----8th round Training Accuracy : 94.16%
|----9th round Training Accuracy : 93.59%
|----10th round Training Accuracy : 92.51%
|----11th round Training Accuracy : 95.27%
|----12th round Training Accuracy : 95.03%
|----13th round Training Accuracy : 95.88%
|----14th round Training Accuracy : 96.16%
|----15th round Training Accuracy : 95.38%
|----16th round Training Accuracy : 96.08%
|----17th round Training Accuracy : 96.73%
|----18th round Training Accuracy : 95.17%
|----19th round Training Accuracy : 96.66%
|----20th round Training Accuracy : 97.15%
|----21th round Training Accuracy : 96.24%
|----22th round Training Accuracy : 97.03%
|----23th round Training Accuracy : 97.35%
|----24th round Training Accuracy : 97.11%
|----25th round Training Accuracy : 97.13%
|----26th round Training Accuracy : 97.14%
|----27th round Training Accuracy : 96.79%
|----28th round Training Accuracy : 96.81%
|----29th round Training Accuracy : 97.73%
|----30th round Training Accuracy : 97.53%
|----31th round Training Accuracy : 96.90%
|----32th round Training Accuracy : 97.63%
|----33th round Training Accuracy : 97.24%
|----34th round Training Accuracy : 97.47%
|----35th round Training Accuracy : 97.99%
|----36th round Training Accuracy : 97.12%
|----37th round Training Accuracy : 97.80%
|----38th round Training Accuracy : 97.70%
|----39th round Training Accuracy : 97.92%
|----40th round Training Accuracy : 86.42%
|----41th round Training Accuracy : 90.23%
|----42th round Training Accuracy : 29.81%
|----43th round Training Accuracy : 95.74%
|----44th round Training Accuracy : 93.36%
|----45th round Training Accuracy : 92.86%
|----46th round Training Accuracy : 69.96%
|----47th round Training Accuracy : 96.03%
|----48th round Training Accuracy : 88.16%
|----49th round Training Accuracy : 94.62%
|----50th round Training Accuracy : 88.24%
|----51th round Training Accuracy : 95.45%
|----52th round Training Accuracy : 85.28%
|----53th round Training Accuracy : 93.79%
|----54th round Training Accuracy : 93.31%
|----55th round Training Accuracy : 96.93%
|----56th round Training Accuracy : 95.56%
|----57th round Training Accuracy : 86.69%
|----58th round Training Accuracy : 80.87%
|----59th round Training Accuracy : 97.11%
|----60th round Training Accuracy : 90.37%
|----61th round Training Accuracy : 93.24%
|----62th round Training Accuracy : 94.56%
|----63th round Training Accuracy : 93.03%
|----64th round Training Accuracy : 91.86%
|----65th round Training Accuracy : 93.24%
|----66th round Training Accuracy : 80.05%
|----67th round Training Accuracy : 95.68%
|----68th round Training Accuracy : 94.13%
|----69th round Training Accuracy : 94.12%
|----70th round Training Accuracy : 32.90%
|----71th round Training Accuracy : 96.31%
|----72th round Training Accuracy : 53.58%
|----73th round Training Accuracy : 97.14%
|----74th round Training Accuracy : 94.71%
|----75th round Training Accuracy : 96.99%
|----76th round Training Accuracy : 65.50%
|----77th round Training Accuracy : 96.34%
|----78th round Training Accuracy : 54.24%
|----79th round Training Accuracy : 97.23%
|----Final Test Accuracy: 97.02%
|----0th round Final Test Accuracy : 46.99%
|----1th round Final Test Accuracy : 64.65%
|----2th round Final Test Accuracy : 86.73%
|----3th round Final Test Accuracy : 90.79%
|----4th round Final Test Accuracy : 87.63%
|----5th round Final Test Accuracy : 92.16%
|----6th round Final Test Accuracy : 84.92%
|----7th round Final Test Accuracy : 92.32%
|----8th round Final Test Accuracy : 94.56%
|----9th round Final Test Accuracy : 93.16%
|----10th round Final Test Accuracy : 92.85%
|----11th round Final Test Accuracy : 95.36%
|----12th round Final Test Accuracy : 95.19%
|----13th round Final Test Accuracy : 95.94%
|----14th round Final Test Accuracy : 96.36%
|----15th round Final Test Accuracy : 95.28%
|----16th round Final Test Accuracy : 96.13%
|----17th round Final Test Accuracy : 96.57%
|----18th round Final Test Accuracy : 95.38%
|----19th round Final Test Accuracy : 96.44%
|----20th round Final Test Accuracy : 96.96%
|----21th round Final Test Accuracy : 95.98%
|----22th round Final Test Accuracy : 96.89%
|----23th round Final Test Accuracy : 97.38%
|----24th round Final Test Accuracy : 97.23%
|----25th round Final Test Accuracy : 96.82%
|----26th round Final Test Accuracy : 97.22%
|----27th round Final Test Accuracy : 96.76%
|----28th round Final Test Accuracy : 96.65%
|----29th round Final Test Accuracy : 97.55%
|----30th round Final Test Accuracy : 97.52%
|----31th round Final Test Accuracy : 97.07%
|----32th round Final Test Accuracy : 97.65%
|----33th round Final Test Accuracy : 97.06%
|----34th round Final Test Accuracy : 97.43%
|----35th round Final Test Accuracy : 97.85%
|----36th round Final Test Accuracy : 97.03%
|----37th round Final Test Accuracy : 97.77%
|----38th round Final Test Accuracy : 97.80%
|----39th round Final Test Accuracy : 97.92%
|----40th round Final Test Accuracy : 85.57%
|----41th round Final Test Accuracy : 88.80%
|----42th round Final Test Accuracy : 27.03%
|----43th round Final Test Accuracy : 95.89%
|----44th round Final Test Accuracy : 93.23%
|----45th round Final Test Accuracy : 91.91%
|----46th round Final Test Accuracy : 68.49%
|----47th round Final Test Accuracy : 95.68%
|----48th round Final Test Accuracy : 86.82%
|----49th round Final Test Accuracy : 94.09%
|----50th round Final Test Accuracy : 87.02%
|----51th round Final Test Accuracy : 94.93%
|----52th round Final Test Accuracy : 84.21%
|----53th round Final Test Accuracy : 93.66%
|----54th round Final Test Accuracy : 93.30%
|----55th round Final Test Accuracy : 96.77%
|----56th round Final Test Accuracy : 95.18%
|----57th round Final Test Accuracy : 85.61%
|----58th round Final Test Accuracy : 82.48%
|----59th round Final Test Accuracy : 97.21%
|----60th round Final Test Accuracy : 90.88%
|----61th round Final Test Accuracy : 93.07%
|----62th round Final Test Accuracy : 94.62%
|----63th round Final Test Accuracy : 92.74%
|----64th round Final Test Accuracy : 91.02%
|----65th round Final Test Accuracy : 91.90%
|----66th round Final Test Accuracy : 77.66%
|----67th round Final Test Accuracy : 95.13%
|----68th round Final Test Accuracy : 93.76%
|----69th round Final Test Accuracy : 93.59%
|----70th round Final Test Accuracy : 31.66%
|----71th round Final Test Accuracy : 96.56%
|----72th round Final Test Accuracy : 52.32%
|----73th round Final Test Accuracy : 96.87%
|----74th round Final Test Accuracy : 94.11%
|----75th round Final Test Accuracy : 96.94%
|----76th round Final Test Accuracy : 62.87%
|----77th round Final Test Accuracy : 95.74%
|----78th round Final Test Accuracy : 54.55%
|----79th round Final Test Accuracy : 97.02%

Experimental details:
    Dataset     : mnist
    Model     : cnn
    detailed Model     : vgg
    Optimizer : sgd
    Learning  : 0.01
    Global Rounds   : 80

    Federated parameters:
    Non-IID with common data
    balanced
    Fraction of users  : 0.2
    Local Batch size   : 10
    Local Epochs       : 5

    Attack ratio : 0.2
     Model attack is done!

 Total Run Time: 16357.9747
